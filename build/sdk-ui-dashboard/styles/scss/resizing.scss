// (C) 2019-2021 GoodData Corporation
@use "variables";
@use "zIndexes";
@use "@gooddata/sdk-ui-kit/styles/scss/variables" as kit-variables;

$gd-width-resizer-hotpost-width: 40px;
$gd-width-resizer-hotpost-height: 40px;

.dash-width-resizer-container {
    position: absolute;
    top: 0;
    right: 20px;
    bottom: 100%;
    width: 0;
    height: 100%;
}

.dash-height-resizer-container {
    position: absolute;
    right: 10px;
    bottom: 20px;
    left: 10px;
    height: 0;
}

.dash-width-resizer-hotspot,
.resizer-drag-preview {
    display: flex;
    width: $gd-width-resizer-hotpost-width;
    padding: 0 0 0 5px;
    cursor: col-resize;
}

.dash-height-resizer-hotspot,
.height-resizer-drag-preview {
    position: absolute;
    display: flex;
    align-items: center;
    overflow: hidden;
    height: $gd-width-resizer-hotpost-height;
    cursor: row-resize;
}

.dash-height-resizer-hotspot {
    width: 100%;
}

.gd-fluidlayout-width-resizer {
    height: 100%;
    padding: 0 4px;

    &.active {
        background-color: variables.$gd-palette-primary-base-t85;
    }

    &.error {
        background-color: kit-variables.$gd-palette-error-dimmed;
    }

    .width-resizer-line {
        height: 100%;
        border-left: 2px dashed;

        &.muted {
            border-color: kit-variables.$gd-color-text;
        }

        &.active {
            border-color: kit-variables.$gd-palette-primary-base;
        }

        &.error {
            border-color: kit-variables.$gd-palette-error-base;
        }
    }
}

.gd-fluidlayout-height-resizer {
    width: 100%;
    height: 10px;
    padding: 4px 0;

    &.active {
        background-color: variables.$gd-palette-primary-base-t85;
    }

    &.error {
        background-color: kit-variables.$gd-palette-error-dimmed;
    }

    .height-resizer-line {
        width: 100%;
        border-top: 2px dashed;
        border-color: kit-variables.$gd-palette-primary-base;

        &.muted {
            border-color: kit-variables.$gd-color-text;
        }

        &.active {
            border-color: kit-variables.$gd-palette-primary-base;
        }

        &.error {
            border-color: kit-variables.$gd-palette-error-base;
        }
    }
}

.sdk-edit-mode-on {
    .resizer-drag-preview,
    .dash-height-resizer-hotspot,
    .dash-width-resizer-hotspot,
    .height-resizer-drag-preview {
        z-index: zIndexes.$resize-basic;
    }

    .dash-width-resizer-hotspot {
        position: absolute;
        left: 10px;
        overflow: hidden;
        height: 100%;
    }

    .gd-resize-overlay,
    .gd-resize-overlay-text {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        margin: 5px;
    }

    .gd-resize-overlay {
        z-index: zIndexes.$resize-basic-overlay;
        border-width: 0;
        border-radius: calc(#{variables.$gd-dashboards-content-widget-borderRadius} + 5px);
        background-color: var(--gd-palette-complementary-0-t50, rgba(255, 255, 255, 0.5));

        &.active {
            background-color: variables.$gd-palette-primary-base-mix15-white;
        }

        &.error {
            background: variables.$gd-palette-primary-base-mix15-white;
        }
    }

    .gd-resize-overlay-text {
        z-index: zIndexes.$resize-basic-overlay-text;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 5px;
        color: var(--gd-palette-complementary-6, variables.$info-text-color);
        font-weight: bold;
        text-align: center;
    }
}

.gd-resize-bullet {
    width: 10px;
    height: 10px;
    padding-left: 2px;
    padding-right: 2px;
}

.gd-resize-bullet-icon {
    display: block;
    width: 6px;
    height: 6px;

    .active {
        fill: kit-variables.$gd-palette-primary-base;
    }

    .initial {
        fill: var(--gd-palette-complementary-9, #000);
    }

    .passive {
        fill: var(--gd-palette-complementary-6, kit-variables.$default-gd-color-disabled);
    }
}

.gd-resize-bullets-bar {
    position: absolute;
    display: flex;
    justify-content: space-between;
    width: 100%;
    padding: 10px 15px 8px;
    background: var(
        --gd-dashboards-content-backgroundColor,
        var(--gd-palette-complementary-0, rgba(255, 255, 255, 0.95))
    );
}
