var t={21692:(t,e)=>{e.N=void 0;var r=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,i=/&(newline|tab);/gi,o=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,a=/^.+(:|&colon;)/gim,s=[".","/"];e.N=function(t){var e,u=(e=t||"",e.replace(n,(function(t,e){return String.fromCharCode(e)}))).replace(i,"").replace(o,"").trim();if(!u)return"about:blank";if(function(t){return s.indexOf(t[0])>-1}(u))return u;var c=u.match(a);if(!c)return u;var l=c[0];return r.test(l)?"about:blank":u}},54703:(t,e,r)=>{var n=r(18343),i=r(13349),o=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i(r):r}},13349:(t,e,r)=>{var n=r(70606),i=r(18343),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=s(n,a,arguments);return u&&c&&u(e,"length").configurable&&c(e,"length",{value:1+l(0,t.length-(arguments.length-1))}),e};var f=function(){return s(n,o,arguments)};c?c(t.exports,"apply",{value:f}):t.exports.apply=f},67215:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n},t.exports=e.default},91085:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},t.exports=e.default},97044:(t,e,r)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=((n=r(95539))&&n.__esModule?n:{default:n}).default;e.default=i,t.exports=e.default},12251:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultOptions=function(){return r},e.setDefaultOptions=function(t){r=t};var r={}},61981:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(r(24213)),i=l(r(65873)),o=l(r(64006)),a=l(r(77822)),s=l(r(52907)),u=l(r(67215)),c=l(r(95339));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),o=n%60;if(0===o)return r+String(i);var a=e||"";return r+String(i)+a+(0,u.default)(o,2)}function d(t,e){return t%60==0?(t>0?"-":"+")+(0,u.default)(Math.abs(t)/60,2):p(t,e)}function p(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t);return n+(0,u.default)(Math.floor(i/60),2)+r+(0,u.default)(i%60,2)}var h={G:function(t,e,r){var n=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if("yo"===e){var n=t.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return c.default.y(t,e)},Y:function(t,e,r,n){var i=(0,s.default)(t,n),o=i>0?i:1-i;if("YY"===e){var a=o%100;return(0,u.default)(a,2)}return"Yo"===e?r.ordinalNumber(o,{unit:"year"}):(0,u.default)(o,e.length)},R:function(t,e){var r=(0,o.default)(t);return(0,u.default)(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return(0,u.default)(r,e.length)},Q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return(0,u.default)(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return(0,u.default)(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){var n=t.getUTCMonth();switch(e){case"M":case"MM":return c.default.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){var n=t.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return(0,u.default)(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){var i=(0,a.default)(t,n);return"wo"===e?r.ordinalNumber(i,{unit:"week"}):(0,u.default)(i,e.length)},I:function(t,e,r){var n=(0,i.default)(t);return"Io"===e?r.ordinalNumber(n,{unit:"week"}):(0,u.default)(n,e.length)},d:function(t,e,r){return"do"===e?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):c.default.d(t,e)},D:function(t,e,r){var i=(0,n.default)(t);return"Do"===e?r.ordinalNumber(i,{unit:"dayOfYear"}):(0,u.default)(i,e.length)},E:function(t,e,r){var n=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return(0,u.default)(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return(0,u.default)(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){var n=t.getUTCDay(),i=0===n?7:n;switch(e){case"i":return String(i);case"ii":return(0,u.default)(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,e,r){var n,i=t.getUTCHours();switch(n=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,e,r){var n,i=t.getUTCHours();switch(n=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",e){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,e,r){if("ho"===e){var n=t.getUTCHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return c.default.h(t,e)},H:function(t,e,r){return"Ho"===e?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):c.default.H(t,e)},K:function(t,e,r){var n=t.getUTCHours()%12;return"Ko"===e?r.ordinalNumber(n,{unit:"hour"}):(0,u.default)(n,e.length)},k:function(t,e,r){var n=t.getUTCHours();return 0===n&&(n=24),"ko"===e?r.ordinalNumber(n,{unit:"hour"}):(0,u.default)(n,e.length)},m:function(t,e,r){return"mo"===e?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):c.default.m(t,e)},s:function(t,e,r){return"so"===e?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):c.default.s(t,e)},S:function(t,e){return c.default.S(t,e)},X:function(t,e,r,n){var i=(n._originalDate||t).getTimezoneOffset();if(0===i)return"Z";switch(e){case"X":return d(i);case"XXXX":case"XX":return p(i);default:return p(i,":")}},x:function(t,e,r,n){var i=(n._originalDate||t).getTimezoneOffset();switch(e){case"x":return d(i);case"xxxx":case"xx":return p(i);default:return p(i,":")}},O:function(t,e,r,n){var i=(n._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+f(i,":");default:return"GMT"+p(i,":")}},z:function(t,e,r,n){var i=(n._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+f(i,":");default:return"GMT"+p(i,":")}},t:function(t,e,r,n){var i=n._originalDate||t,o=Math.floor(i.getTime()/1e3);return(0,u.default)(o,e.length)},T:function(t,e,r,n){var i=(n._originalDate||t).getTime();return(0,u.default)(i,e.length)}};e.default=h,t.exports=e.default},95339:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(67215))&&n.__esModule?n:{default:n},o={y:function(t,e){var r=t.getUTCFullYear(),n=r>0?r:1-r;return(0,i.default)("yy"===e?n%100:n,e.length)},M:function(t,e){var r=t.getUTCMonth();return"M"===e?String(r+1):(0,i.default)(r+1,2)},d:function(t,e){return(0,i.default)(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(t,e){return(0,i.default)(t.getUTCHours()%12||12,e.length)},H:function(t,e){return(0,i.default)(t.getUTCHours(),e.length)},m:function(t,e){return(0,i.default)(t.getUTCMinutes(),e.length)},s:function(t,e){return(0,i.default)(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,n=t.getUTCMilliseconds(),o=Math.floor(n*Math.pow(10,r-3));return(0,i.default)(o,e.length)}};e.default=o,t.exports=e.default},60601:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},n=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},i={p:n,P:function(t,e){var i,o=t.match(/(P+)(p+)?/)||[],a=o[1],s=o[2];if(!s)return r(t,e);switch(a){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"})}return i.replace("{{date}}",r(a,e)).replace("{{time}}",n(s,e))}};e.default=i,t.exports=e.default},9657:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()},t.exports=e.default},24213:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,i.default)(1,arguments);var e=(0,n.default)(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var o=r-e.getTime();return Math.floor(o/a)+1};var n=o(r(75180)),i=o(r(91814));function o(t){return t&&t.__esModule?t:{default:t}}var a=864e5;t.exports=e.default},65873:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,a.default)(1,arguments);var e=(0,n.default)(t),r=(0,i.default)(e).getTime()-(0,o.default)(e).getTime();return Math.round(r/u)+1};var n=s(r(75180)),i=s(r(57197)),o=s(r(71447)),a=s(r(91814));function s(t){return t&&t.__esModule?t:{default:t}}var u=6048e5;t.exports=e.default},64006:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,i.default)(1,arguments);var e=(0,n.default)(t),r=e.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(r+1,0,4),a.setUTCHours(0,0,0,0);var s=(0,o.default)(a),u=new Date(0);u.setUTCFullYear(r,0,4),u.setUTCHours(0,0,0,0);var c=(0,o.default)(u);return e.getTime()>=s.getTime()?r+1:e.getTime()>=c.getTime()?r:r-1};var n=a(r(75180)),i=a(r(91814)),o=a(r(57197));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},77822:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,a.default)(1,arguments);var r=(0,n.default)(t),s=(0,i.default)(r,e).getTime()-(0,o.default)(r,e).getTime();return Math.round(s/u)+1};var n=s(r(75180)),i=s(r(28042)),o=s(r(4146)),a=s(r(91814));function s(t){return t&&t.__esModule?t:{default:t}}var u=6048e5;t.exports=e.default},52907:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r,u,c,l,f,d,p,h;(0,i.default)(1,arguments);var y=(0,n.default)(t),m=y.getUTCFullYear(),g=(0,s.getDefaultOptions)(),b=(0,a.default)(null!==(r=null!==(u=null!==(c=null!==(l=null==e?void 0:e.firstWeekContainsDate)&&void 0!==l?l:null==e||null===(f=e.locale)||void 0===f||null===(d=f.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==c?c:g.firstWeekContainsDate)&&void 0!==u?u:null===(p=g.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==r?r:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(m+1,0,b),v.setUTCHours(0,0,0,0);var w=(0,o.default)(v,e),O=new Date(0);O.setUTCFullYear(m,0,b),O.setUTCHours(0,0,0,0);var j=(0,o.default)(O,e);return y.getTime()>=w.getTime()?m+1:y.getTime()>=j.getTime()?m:m-1};var n=u(r(75180)),i=u(r(91814)),o=u(r(28042)),a=u(r(7911)),s=r(12251);function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},24374:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isProtectedDayOfYearToken=function(t){return-1!==r.indexOf(t)},e.isProtectedWeekYearToken=function(t){return-1!==n.indexOf(t)},e.throwProtectedError=function(t,e,r){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var r=["D","DD"],n=["YY","YYYY"]},91814:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")},t.exports=e.default},79378:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var s,u,c,l,f,d,p,h;(0,i.default)(2,arguments);var y=(0,a.getDefaultOptions)(),m=(0,o.default)(null!==(s=null!==(u=null!==(c=null!==(l=null==r?void 0:r.weekStartsOn)&&void 0!==l?l:null==r||null===(f=r.locale)||void 0===f||null===(d=f.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==c?c:y.weekStartsOn)&&void 0!==u?u:null===(p=y.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==s?s:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,n.default)(t),b=(0,o.default)(e),v=((b%7+7)%7<m?7:0)+b-g.getUTCDay();return g.setUTCDate(g.getUTCDate()+v),g};var n=s(r(75180)),i=s(r(91814)),o=s(r(7911)),a=r(12251);function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},38889:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(2,arguments);var r=(0,o.default)(e);r%7==0&&(r-=7);var a=(0,n.default)(t),s=((r%7+7)%7<1?7:0)+r-a.getUTCDay();return a.setUTCDate(a.getUTCDate()+s),a};var n=a(r(75180)),i=a(r(91814)),o=a(r(7911));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},1051:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,a.default)(2,arguments);var r=(0,i.default)(t),s=(0,n.default)(e),u=(0,o.default)(r)-s;return r.setUTCDate(r.getUTCDate()-7*u),r};var n=s(r(7911)),i=s(r(75180)),o=s(r(65873)),a=s(r(91814));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},66275:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){(0,a.default)(2,arguments);var s=(0,i.default)(t),u=(0,n.default)(e),c=(0,o.default)(s,r)-u;return s.setUTCDate(s.getUTCDate()-7*c),s};var n=s(r(7911)),i=s(r(75180)),o=s(r(77822)),a=s(r(91814));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},57197:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,i.default)(1,arguments);var e=(0,n.default)(t),r=e.getUTCDay(),o=(r<1?7:0)+r-1;return e.setUTCDate(e.getUTCDate()-o),e.setUTCHours(0,0,0,0),e};var n=o(r(75180)),i=o(r(91814));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},71447:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,o.default)(1,arguments);var e=(0,n.default)(t),r=new Date(0);return r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0),(0,i.default)(r)};var n=a(r(64006)),i=a(r(57197)),o=a(r(91814));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},28042:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r,s,u,c,l,f,d,p;(0,i.default)(1,arguments);var h=(0,a.getDefaultOptions)(),y=(0,o.default)(null!==(r=null!==(s=null!==(u=null!==(c=null==e?void 0:e.weekStartsOn)&&void 0!==c?c:null==e||null===(l=e.locale)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==u?u:h.weekStartsOn)&&void 0!==s?s:null===(d=h.locale)||void 0===d||null===(p=d.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=(0,n.default)(t),g=m.getUTCDay(),b=(g<y?7:0)+g-y;return m.setUTCDate(m.getUTCDate()-b),m.setUTCHours(0,0,0,0),m};var n=s(r(75180)),i=s(r(91814)),o=s(r(7911)),a=r(12251);function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},4146:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r,u,c,l,f,d,p,h;(0,i.default)(1,arguments);var y=(0,s.getDefaultOptions)(),m=(0,a.default)(null!==(r=null!==(u=null!==(c=null!==(l=null==e?void 0:e.firstWeekContainsDate)&&void 0!==l?l:null==e||null===(f=e.locale)||void 0===f||null===(d=f.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==c?c:y.firstWeekContainsDate)&&void 0!==u?u:null===(p=y.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==r?r:1),g=(0,n.default)(t,e),b=new Date(0);return b.setUTCFullYear(g,0,m),b.setUTCHours(0,0,0,0),(0,o.default)(b,e)};var n=u(r(52907)),i=u(r(91814)),o=u(r(28042)),a=u(r(7911)),s=r(12251);function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},7911:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)},t.exports=e.default},44168:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,o.default)(2,arguments);var r=(0,i.default)(t).getTime(),a=(0,n.default)(e);return new Date(r+a)};var n=a(r(7911)),i=a(r(75180)),o=a(r(91814));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},44172:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.secondsInYear=e.secondsInWeek=e.secondsInQuarter=e.secondsInMonth=e.secondsInMinute=e.secondsInHour=e.secondsInDay=e.quartersInYear=e.monthsInYear=e.monthsInQuarter=e.minutesInHour=e.minTime=e.millisecondsInSecond=e.millisecondsInMinute=e.millisecondsInHour=e.maxTime=e.daysInYear=e.daysInWeek=void 0,e.daysInWeek=7;e.daysInYear=365.2425;var r=24*Math.pow(10,8)*60*60*1e3;e.maxTime=r,e.millisecondsInMinute=6e4,e.millisecondsInHour=36e5,e.millisecondsInSecond=1e3;var n=-r;e.minTime=n,e.minutesInHour=60,e.monthsInQuarter=3,e.monthsInYear=12,e.quartersInYear=4,e.secondsInHour=3600,e.secondsInMinute=60;e.secondsInDay=86400,e.secondsInWeek=604800;e.secondsInYear=31556952;e.secondsInMonth=2629746,e.secondsInQuarter=7889238},99606:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var h,w,O,j,x,P,_,S,D,k,A,C,T,E,I,R,F,M;(0,f.default)(2,arguments);var U=String(e),B=(0,d.getDefaultOptions)(),N=null!==(h=null!==(w=null==r?void 0:r.locale)&&void 0!==w?w:B.locale)&&void 0!==h?h:p.default,L=(0,l.default)(null!==(O=null!==(j=null!==(x=null!==(P=null==r?void 0:r.firstWeekContainsDate)&&void 0!==P?P:null==r||null===(_=r.locale)||void 0===_||null===(S=_.options)||void 0===S?void 0:S.firstWeekContainsDate)&&void 0!==x?x:B.firstWeekContainsDate)&&void 0!==j?j:null===(D=B.locale)||void 0===D||null===(k=D.options)||void 0===k?void 0:k.firstWeekContainsDate)&&void 0!==O?O:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var W=(0,l.default)(null!==(A=null!==(C=null!==(T=null!==(E=null==r?void 0:r.weekStartsOn)&&void 0!==E?E:null==r||null===(I=r.locale)||void 0===I||null===(R=I.options)||void 0===R?void 0:R.weekStartsOn)&&void 0!==T?T:B.weekStartsOn)&&void 0!==C?C:null===(F=B.locale)||void 0===F||null===(M=F.options)||void 0===M?void 0:M.weekStartsOn)&&void 0!==A?A:0);if(!(W>=0&&W<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var z=(0,o.default)(t);if(!(0,n.default)(z))throw new RangeError("Invalid time value");var G=(0,u.default)(z),$=(0,i.default)(z,G),H={firstWeekContainsDate:L,weekStartsOn:W,locale:N,_originalDate:z};return U.match(m).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,s.default[e])(t,N.formatLong):t})).join("").match(y).map((function(n){if("''"===n)return"'";var i,o,s=n[0];if("'"===s)return(o=(i=n).match(g))?o[1].replace(b,"'"):i;var u=a.default[s];if(u)return null!=r&&r.useAdditionalWeekYearTokens||!(0,c.isProtectedWeekYearToken)(n)||(0,c.throwProtectedError)(n,e,String(t)),null!=r&&r.useAdditionalDayOfYearTokens||!(0,c.isProtectedDayOfYearToken)(n)||(0,c.throwProtectedError)(n,e,String(t)),u($,n,N.localize,H);if(s.match(v))throw new RangeError("Format string contains an unescaped latin alphabet character `"+s+"`");return n})).join("")};var n=h(r(83397)),i=h(r(95121)),o=h(r(75180)),a=h(r(61981)),s=h(r(60601)),u=h(r(9657)),c=r(24374),l=h(r(7911)),f=h(r(91814)),d=r(12251),p=h(r(97044));function h(t){return t&&t.__esModule?t:{default:t}}var y=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g=/^'([^]*?)'?$/,b=/''/g,v=/[a-zA-Z]/;t.exports=e.default},48562:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(1,arguments),t instanceof Date||"object"===o(t)&&"[object Date]"===Object.prototype.toString.call(t)};var n,i=(n=r(91814))&&n.__esModule?n:{default:n};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}t.exports=e.default},83397:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,o.default)(1,arguments),!(0,n.default)(t)&&"number"!=typeof t)return!1;var e=(0,i.default)(t);return!isNaN(Number(e))};var n=a(r(48562)),i=a(r(75180)),o=a(r(91814));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},60481:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}},t.exports=e.default},33190:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=null!=r&&r.width?String(r.width):i;n=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,s=null!=r&&r.width?String(r.width):t.defaultWidth;n=t.values[s]||t.values[a]}return n[t.argumentCallback?t.argumentCallback(e):e]}},t.exports=e.default},34391:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var a,s=o[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?function(t,e){for(var r=0;r<t.length;r++)if(t[r].test(s))return r}(u):function(t,e){for(var r in t)if(t.hasOwnProperty(r)&&t[r].test(s))return r}(u);return a=t.valueCallback?t.valueCallback(c):c,{value:a=r.valueCallback?r.valueCallback(a):a,rest:e.slice(s.length)}}},t.exports=e.default},97502:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];return{value:a=r.valueCallback?r.valueCallback(a):a,rest:e.slice(i.length)}}},t.exports=e.default},74793:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};e.default=function(t,e,n){var i,o=r[t];return i="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},t.exports=e.default},69197:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(60481))&&n.__esModule?n:{default:n},o={date:(0,i.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,i.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,i.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};e.default=o,t.exports=e.default},73968:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};e.default=function(t,e,n,i){return r[t]},t.exports=e.default},31296:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r(33190))&&n.__esModule?n:{default:n},o={ordinalNumber:function(t,e){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:(0,i.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:(0,i.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};e.default=o,t.exports=e.default},27546:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(34391));function i(t){return t&&t.__esModule?t:{default:t}}var o={ordinalNumber:(0,i(r(97502)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:(0,n.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,n.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:(0,n.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,n.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,n.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};e.default=o,t.exports=e.default},95539:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(74793)),i=u(r(69197)),o=u(r(73968)),a=u(r(31296)),s=u(r(27546));function u(t){return t&&t.__esModule?t:{default:t}}var c={code:"en-US",formatDistance:n.default,formatLong:i.default,formatRelative:o.default,localize:a.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};e.default=c,t.exports=e.default},53256:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var n=r(47379);function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,(r=[{key:"run",value:function(t,e,r,i){var o=this.parse(t,e,r,i);return o?{setter:new n.ValueSetter(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(t,e,r){return!0}}])&&i(e.prototype,r),t}();e.Parser=o},47379:(t,e)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}(this,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.ValueSetter=e.Setter=e.DateToSystemTimezoneSetter=void 0;var d=function(){function t(){u(this,t),f(this,"subPriority",0)}return l(t,[{key:"validate",value:function(t,e){return!0}}]),t}();e.Setter=d;var p=function(t){n(r,t);var e=o(r);function r(t,n,i,o,a){var s;return u(this,r),(s=e.call(this)).value=t,s.validateValue=n,s.setValue=i,s.priority=o,a&&(s.subPriority=a),s}return l(r,[{key:"validate",value:function(t,e){return this.validateValue(t,this.value,e)}},{key:"set",value:function(t,e,r){return this.setValue(t,e,this.value,r)}}]),r}(d);e.ValueSetter=p;var h=function(t){n(r,t);var e=o(r);function r(){var t;u(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return f(a(t=e.call.apply(e,[this].concat(i))),"priority",10),f(a(t),"subPriority",-1),t}return l(r,[{key:"set",value:function(t,e){if(e.timestampIsSet)return t;var r=new Date(0);return r.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),r.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),r}}]),r}(d);e.DateToSystemTimezoneSetter=h},72591:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timezonePatterns=e.numericPatterns=void 0,e.numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},e.timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/}},40790:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.AMPMMidnightParser=void 0;var i=r(53256),o=r(70500);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,i,f,d=(i=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(f){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(u(t=d.call.apply(d,[this].concat(r))),"priority",80),l(u(t),"incompatibleTokens",["a","B","H","k","t","T"]),t}return e=p,(r=[{key:"parse",value:function(t,e,r){switch(e){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,r){return t.setUTCHours((0,o.dayPeriodEnumToHours)(r),0,0,0),t}}])&&a(e.prototype,r),p}(i.Parser);e.AMPMMidnightParser=f},28271:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.AMPMParser=void 0;var i=r(53256),o=r(70500);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,i,f,d=(i=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(f){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(u(t=d.call.apply(d,[this].concat(r))),"priority",80),l(u(t),"incompatibleTokens",["b","B","H","k","t","T"]),t}return e=p,(r=[{key:"parse",value:function(t,e,r){switch(e){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,r){return t.setUTCHours((0,o.dayPeriodEnumToHours)(r),0,0,0),t}}])&&a(e.prototype,r),p}(i.Parser);e.AMPMParser=f},98861:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.DateParser=void 0;var i=r(70500),o=r(53256),a=r(72591);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=[31,28,31,30,31,30,31,31,30,31,30,31],p=[31,29,31,30,31,30,31,31,30,31,30,31],h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(m,t);var e,r,o,h,y=(o=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(o);if(h){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function m(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=y.call.apply(y,[this].concat(r))),"priority",90),f(c(t),"subPriority",1),f(c(t),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),t}return e=m,(r=[{key:"parse",value:function(t,e,r){switch(e){case"d":return(0,i.parseNumericPattern)(a.numericPatterns.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return(0,i.parseNDigits)(e.length,t)}}},{key:"validate",value:function(t,e){var r=t.getUTCFullYear(),n=(0,i.isLeapYearIndex)(r),o=t.getUTCMonth();return n?e>=1&&e<=p[o]:e>=1&&e<=d[o]}},{key:"set",value:function(t,e,r){return t.setUTCDate(r),t.setUTCHours(0,0,0,0),t}}])&&s(e.prototype,r),m}(o.Parser);e.DateParser=h},61270:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.DayOfYearParser=void 0;var i=r(53256),o=r(72591),a=r(70500);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,i,d,p=(i=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"priority",90),f(c(t),"subpriority",1),f(c(t),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r){switch(e){case"D":case"DD":return(0,a.parseNumericPattern)(o.numericPatterns.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return(0,a.parseNDigits)(e.length,t)}}},{key:"validate",value:function(t,e){var r=t.getUTCFullYear();return(0,a.isLeapYearIndex)(r)?e>=1&&e<=366:e>=1&&e<=365}},{key:"set",value:function(t,e,r){return t.setUTCMonth(0,r),t.setUTCHours(0,0,0,0),t}}])&&s(e.prototype,r),h}(i.Parser);e.DayOfYearParser=d},3606:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.DayParser=void 0;var i,o=r(53256),a=(i=r(79378))&&i.__esModule?i:{default:i};function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(p,t);var e,r,i,o,d=(i=p,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(o){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=d.call.apply(d,[this].concat(r))),"priority",90),f(c(t),"incompatibleTokens",["D","i","e","c","t","T"]),t}return e=p,(r=[{key:"parse",value:function(t,e,r){switch(e){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,r,n){return(t=(0,a.default)(t,r,n)).setUTCHours(0,0,0,0),t}}])&&s(e.prototype,r),p}(o.Parser);e.DayParser=d},99720:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.DayPeriodParser=void 0;var i=r(53256),o=r(70500);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,i,f,d=(i=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(f){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(u(t=d.call.apply(d,[this].concat(r))),"priority",80),l(u(t),"incompatibleTokens",["a","b","t","T"]),t}return e=p,(r=[{key:"parse",value:function(t,e,r){switch(e){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,r){return t.setUTCHours((0,o.dayPeriodEnumToHours)(r),0,0,0),t}}])&&a(e.prototype,r),p}(i.Parser);e.DayPeriodParser=f},51409:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.EraParser=void 0;var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(d,t);var e,r,c,l,f=(c=d,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(c);if(l){var r=s(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?a(t):e}(this,t)});function d(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return u(a(t=f.call.apply(f,[this].concat(r))),"priority",140),u(a(t),"incompatibleTokens",["R","u","t","T"]),t}return e=d,(r=[{key:"parse",value:function(t,e,r){switch(e){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}},{key:"set",value:function(t,e,r){return e.era=r,t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t}}])&&i(e.prototype,r),d}(r(53256).Parser);e.EraParser=c},4124:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ExtendedYearParser=void 0;var i=r(53256),o=r(70500);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,i,f,d=(i=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(f){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(u(t=d.call.apply(d,[this].concat(r))),"priority",130),l(u(t),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),t}return e=p,(r=[{key:"parse",value:function(t,e){return"u"===e?(0,o.parseNDigitsSigned)(4,t):(0,o.parseNDigitsSigned)(e.length,t)}},{key:"set",value:function(t,e,r){return t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t}}])&&a(e.prototype,r),p}(i.Parser);e.ExtendedYearParser=f},86596:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FractionOfSecondParser=void 0;var i=r(53256),o=r(70500);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,i,f,d=(i=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(f){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(u(t=d.call.apply(d,[this].concat(r))),"priority",30),l(u(t),"incompatibleTokens",["t","T"]),t}return e=p,(r=[{key:"parse",value:function(t,e){return(0,o.mapValue)((0,o.parseNDigits)(e.length,t),(function(t){return Math.floor(t*Math.pow(10,3-e.length))}))}},{key:"set",value:function(t,e,r){return t.setUTCMilliseconds(r),t}}])&&a(e.prototype,r),p}(i.Parser);e.FractionOfSecondParser=f},15214:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Hour0To11Parser=void 0;var i=r(53256),o=r(72591),a=r(70500);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,i,d,p=(i=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"priority",70),f(c(t),"incompatibleTokens",["h","H","k","t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r){switch(e){case"K":return(0,a.parseNumericPattern)(o.numericPatterns.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return(0,a.parseNDigits)(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,r){return t.getUTCHours()>=12&&r<12?t.setUTCHours(r+12,0,0,0):t.setUTCHours(r,0,0,0),t}}])&&s(e.prototype,r),h}(i.Parser);e.Hour0To11Parser=d},67353:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Hour0to23Parser=void 0;var i=r(53256),o=r(72591),a=r(70500);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,i,d,p=(i=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"priority",70),f(c(t),"incompatibleTokens",["a","b","h","K","k","t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r){switch(e){case"H":return(0,a.parseNumericPattern)(o.numericPatterns.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return(0,a.parseNDigits)(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=23}},{key:"set",value:function(t,e,r){return t.setUTCHours(r,0,0,0),t}}])&&s(e.prototype,r),h}(i.Parser);e.Hour0to23Parser=d},91702:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Hour1To24Parser=void 0;var i=r(53256),o=r(72591),a=r(70500);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,i,d,p=(i=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"priority",70),f(c(t),"incompatibleTokens",["a","b","h","H","K","t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r){switch(e){case"k":return(0,a.parseNumericPattern)(o.numericPatterns.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return(0,a.parseNDigits)(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=24}},{key:"set",value:function(t,e,r){var n=r<=24?r%24:r;return t.setUTCHours(n,0,0,0),t}}])&&s(e.prototype,r),h}(i.Parser);e.Hour1To24Parser=d},53657:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Hour1to12Parser=void 0;var i=r(53256),o=r(72591),a=r(70500);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,i,d,p=(i=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"priority",70),f(c(t),"incompatibleTokens",["H","K","k","t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r){switch(e){case"h":return(0,a.parseNumericPattern)(o.numericPatterns.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return(0,a.parseNDigits)(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=12}},{key:"set",value:function(t,e,r){var n=t.getUTCHours()>=12;return n&&r<12?t.setUTCHours(r+12,0,0,0):n||12!==r?t.setUTCHours(r,0,0,0):t.setUTCHours(0,0,0,0),t}}])&&s(e.prototype,r),h}(i.Parser);e.Hour1to12Parser=d},29690:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ISODayParser=void 0;var i,o=r(53256),a=r(70500),s=(i=r(38889))&&i.__esModule?i:{default:i};function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(h,t);var e,r,i,o,p=(i=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(i);if(o){var r=f(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?l(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return d(l(t=p.call.apply(p,[this].concat(r))),"priority",90),d(l(t),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r){var n=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return(0,a.parseNDigits)(e.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return(0,a.mapValue)(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),n);case"iiiii":return(0,a.mapValue)(r.day(t,{width:"narrow",context:"formatting"}),n);case"iiiiii":return(0,a.mapValue)(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),n);default:return(0,a.mapValue)(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),n)}}},{key:"validate",value:function(t,e){return e>=1&&e<=7}},{key:"set",value:function(t,e,r){return(t=(0,s.default)(t,r)).setUTCHours(0,0,0,0),t}}])&&u(e.prototype,r),h}(o.Parser);e.ISODayParser=p},30990:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ISOTimezoneParser=void 0;var i=r(53256),o=r(72591),a=r(70500);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,i,d,p=(i=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"priority",10),f(c(t),"incompatibleTokens",["t","T","X"]),t}return e=h,(r=[{key:"parse",value:function(t,e){switch(e){case"x":return(0,a.parseTimezonePattern)(o.timezonePatterns.basicOptionalMinutes,t);case"xx":return(0,a.parseTimezonePattern)(o.timezonePatterns.basic,t);case"xxxx":return(0,a.parseTimezonePattern)(o.timezonePatterns.basicOptionalSeconds,t);case"xxxxx":return(0,a.parseTimezonePattern)(o.timezonePatterns.extendedOptionalSeconds,t);default:return(0,a.parseTimezonePattern)(o.timezonePatterns.extended,t)}}},{key:"set",value:function(t,e,r){return e.timestampIsSet?t:new Date(t.getTime()-r)}}])&&s(e.prototype,r),h}(i.Parser);e.ISOTimezoneParser=d},18646:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ISOTimezoneWithZParser=void 0;var i=r(53256),o=r(72591),a=r(70500);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,i,d,p=(i=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"priority",10),f(c(t),"incompatibleTokens",["t","T","x"]),t}return e=h,(r=[{key:"parse",value:function(t,e){switch(e){case"X":return(0,a.parseTimezonePattern)(o.timezonePatterns.basicOptionalMinutes,t);case"XX":return(0,a.parseTimezonePattern)(o.timezonePatterns.basic,t);case"XXXX":return(0,a.parseTimezonePattern)(o.timezonePatterns.basicOptionalSeconds,t);case"XXXXX":return(0,a.parseTimezonePattern)(o.timezonePatterns.extendedOptionalSeconds,t);default:return(0,a.parseTimezonePattern)(o.timezonePatterns.extended,t)}}},{key:"set",value:function(t,e,r){return e.timestampIsSet?t:new Date(t.getTime()-r)}}])&&s(e.prototype,r),h}(i.Parser);e.ISOTimezoneWithZParser=d},41649:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ISOWeekParser=void 0;var i=r(53256),o=r(72591),a=r(70500),s=c(r(1051)),u=c(r(57197));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(m,t);var e,r,i,c,y=(i=m,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(i);if(c){var r=p(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?d(t):e}(this,t)});function m(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return h(d(t=y.call.apply(y,[this].concat(r))),"priority",100),h(d(t),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),t}return e=m,(r=[{key:"parse",value:function(t,e,r){switch(e){case"I":return(0,a.parseNumericPattern)(o.numericPatterns.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return(0,a.parseNDigits)(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=53}},{key:"set",value:function(t,e,r){return(0,u.default)((0,s.default)(t,r))}}])&&l(e.prototype,r),m}(i.Parser);e.ISOWeekParser=y},65489:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ISOWeekYearParser=void 0;var i,o=r(53256),a=r(70500),s=(i=r(57197))&&i.__esModule?i:{default:i};function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(h,t);var e,r,i,o,p=(i=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(i);if(o){var r=f(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?l(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return d(l(t=p.call.apply(p,[this].concat(r))),"priority",130),d(l(t),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e){return"R"===e?(0,a.parseNDigitsSigned)(4,t):(0,a.parseNDigitsSigned)(e.length,t)}},{key:"set",value:function(t,e,r){var n=new Date(0);return n.setUTCFullYear(r,0,4),n.setUTCHours(0,0,0,0),(0,s.default)(n)}}])&&u(e.prototype,r),h}(o.Parser);e.ISOWeekYearParser=p},22734:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.LocalDayParser=void 0;var i,o=r(53256),a=r(70500),s=(i=r(79378))&&i.__esModule?i:{default:i};function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(h,t);var e,r,i,o,p=(i=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(i);if(o){var r=f(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?l(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return d(l(t=p.call.apply(p,[this].concat(r))),"priority",90),d(l(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r,n){var i=function(t){var e=7*Math.floor((t-1)/7);return(t+n.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return(0,a.mapValue)((0,a.parseNDigits)(e.length,t),i);case"eo":return(0,a.mapValue)(r.ordinalNumber(t,{unit:"day"}),i);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,r,n){return(t=(0,s.default)(t,r,n)).setUTCHours(0,0,0,0),t}}])&&u(e.prototype,r),h}(o.Parser);e.LocalDayParser=p},34735:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.LocalWeekParser=void 0;var i=r(53256),o=r(72591),a=r(70500),s=c(r(66275)),u=c(r(28042));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(m,t);var e,r,i,c,y=(i=m,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(i);if(c){var r=p(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?d(t):e}(this,t)});function m(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return h(d(t=y.call.apply(y,[this].concat(r))),"priority",100),h(d(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),t}return e=m,(r=[{key:"parse",value:function(t,e,r){switch(e){case"w":return(0,a.parseNumericPattern)(o.numericPatterns.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return(0,a.parseNDigits)(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=53}},{key:"set",value:function(t,e,r,n){return(0,u.default)((0,s.default)(t,r,n),n)}}])&&l(e.prototype,r),m}(i.Parser);e.LocalWeekParser=y},36306:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.LocalWeekYearParser=void 0;var i=r(53256),o=r(70500),a=u(r(52907)),s=u(r(28042));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(y,t);var e,r,i,u,h=(i=y,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(i);if(u){var r=d(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?f(t):e}(this,t)});function y(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return p(f(t=h.call.apply(h,[this].concat(r))),"priority",130),p(f(t),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),t}return e=y,(r=[{key:"parse",value:function(t,e,r){var n=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return(0,o.mapValue)((0,o.parseNDigits)(4,t),n);case"Yo":return(0,o.mapValue)(r.ordinalNumber(t,{unit:"year"}),n);default:return(0,o.mapValue)((0,o.parseNDigits)(e.length,t),n)}}},{key:"validate",value:function(t,e){return e.isTwoDigitYear||e.year>0}},{key:"set",value:function(t,e,r,n){var i=(0,a.default)(t,n);if(r.isTwoDigitYear){var u=(0,o.normalizeTwoDigitYear)(r.year,i);return t.setUTCFullYear(u,0,n.firstWeekContainsDate),t.setUTCHours(0,0,0,0),(0,s.default)(t,n)}var c="era"in e&&1!==e.era?1-r.year:r.year;return t.setUTCFullYear(c,0,n.firstWeekContainsDate),t.setUTCHours(0,0,0,0),(0,s.default)(t,n)}}])&&c(e.prototype,r),y}(i.Parser);e.LocalWeekYearParser=h},72198:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.MinuteParser=void 0;var i=r(53256),o=r(72591),a=r(70500);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,i,d,p=(i=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"priority",60),f(c(t),"incompatibleTokens",["t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r){switch(e){case"m":return(0,a.parseNumericPattern)(o.numericPatterns.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return(0,a.parseNDigits)(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=59}},{key:"set",value:function(t,e,r){return t.setUTCMinutes(r,0,0),t}}])&&s(e.prototype,r),h}(i.Parser);e.MinuteParser=d},6426:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.MonthParser=void 0;var i=r(70500),o=r(53256),a=r(72591);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,o,d,p=(o=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(o);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),f(c(t),"priority",110),t}return e=h,(r=[{key:"parse",value:function(t,e,r){var n=function(t){return t-1};switch(e){case"M":return(0,i.mapValue)((0,i.parseNumericPattern)(a.numericPatterns.month,t),n);case"MM":return(0,i.mapValue)((0,i.parseNDigits)(2,t),n);case"Mo":return(0,i.mapValue)(r.ordinalNumber(t,{unit:"month"}),n);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,r){return t.setUTCMonth(r,1),t.setUTCHours(0,0,0,0),t}}])&&s(e.prototype,r),h}(o.Parser);e.MonthParser=d},6450:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.QuarterParser=void 0;var i=r(53256),o=r(70500);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,i,f,d=(i=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(f){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(u(t=d.call.apply(d,[this].concat(r))),"priority",120),l(u(t),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),t}return e=p,(r=[{key:"parse",value:function(t,e,r){switch(e){case"Q":case"QQ":return(0,o.parseNDigits)(e.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=1&&e<=4}},{key:"set",value:function(t,e,r){return t.setUTCMonth(3*(r-1),1),t.setUTCHours(0,0,0,0),t}}])&&a(e.prototype,r),p}(i.Parser);e.QuarterParser=f},60671:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.SecondParser=void 0;var i=r(53256),o=r(72591),a=r(70500);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,i,d,p=(i=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"priority",50),f(c(t),"incompatibleTokens",["t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r){switch(e){case"s":return(0,a.parseNumericPattern)(o.numericPatterns.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return(0,a.parseNDigits)(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=59}},{key:"set",value:function(t,e,r){return t.setUTCSeconds(r,0),t}}])&&s(e.prototype,r),h}(i.Parser);e.SecondParser=d},75474:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.StandAloneLocalDayParser=void 0;var i,o=r(53256),a=r(70500),s=(i=r(79378))&&i.__esModule?i:{default:i};function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(h,t);var e,r,i,o,p=(i=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(i);if(o){var r=f(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?l(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return d(l(t=p.call.apply(p,[this].concat(r))),"priority",90),d(l(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r,n){var i=function(t){var e=7*Math.floor((t-1)/7);return(t+n.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return(0,a.mapValue)((0,a.parseNDigits)(e.length,t),i);case"co":return(0,a.mapValue)(r.ordinalNumber(t,{unit:"day"}),i);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,r,n){return(t=(0,s.default)(t,r,n)).setUTCHours(0,0,0,0),t}}])&&u(e.prototype,r),h}(o.Parser);e.StandAloneLocalDayParser=p},29679:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.StandAloneMonthParser=void 0;var i=r(53256),o=r(72591),a=r(70500);function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,t);var e,r,i,d,p=(i=h,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(i);if(d){var r=l(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}(this,t)});function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(c(t=p.call.apply(p,[this].concat(r))),"priority",110),f(c(t),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),t}return e=h,(r=[{key:"parse",value:function(t,e,r){var n=function(t){return t-1};switch(e){case"L":return(0,a.mapValue)((0,a.parseNumericPattern)(o.numericPatterns.month,t),n);case"LL":return(0,a.mapValue)((0,a.parseNDigits)(2,t),n);case"Lo":return(0,a.mapValue)(r.ordinalNumber(t,{unit:"month"}),n);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,r){return t.setUTCMonth(r,1),t.setUTCHours(0,0,0,0),t}}])&&s(e.prototype,r),h}(i.Parser);e.StandAloneMonthParser=d},92614:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.StandAloneQuarterParser=void 0;var i=r(53256),o=r(70500);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,i,f,d=(i=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(f){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(u(t=d.call.apply(d,[this].concat(r))),"priority",120),l(u(t),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),t}return e=p,(r=[{key:"parse",value:function(t,e,r){switch(e){case"q":case"qq":return(0,o.parseNDigits)(e.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=1&&e<=4}},{key:"set",value:function(t,e,r){return t.setUTCMonth(3*(r-1),1),t.setUTCHours(0,0,0,0),t}}])&&a(e.prototype,r),p}(i.Parser);e.StandAloneQuarterParser=f},99279:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.TimestampMillisecondsParser=void 0;var i=r(53256),o=r(70500);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,i,f,d=(i=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(f){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(u(t=d.call.apply(d,[this].concat(r))),"priority",20),l(u(t),"incompatibleTokens","*"),t}return e=p,(r=[{key:"parse",value:function(t){return(0,o.parseAnyDigitsSigned)(t)}},{key:"set",value:function(t,e,r){return[new Date(r),{timestampIsSet:!0}]}}])&&a(e.prototype,r),p}(i.Parser);e.TimestampMillisecondsParser=f},79111:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.TimestampSecondsParser=void 0;var i=r(53256),o=r(70500);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,i,f,d=(i=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(f){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(u(t=d.call.apply(d,[this].concat(r))),"priority",40),l(u(t),"incompatibleTokens","*"),t}return e=p,(r=[{key:"parse",value:function(t){return(0,o.parseAnyDigitsSigned)(t)}},{key:"set",value:function(t,e,r){return[new Date(1e3*r),{timestampIsSet:!0}]}}])&&a(e.prototype,r),p}(i.Parser);e.TimestampSecondsParser=f},63023:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.YearParser=void 0;var i=r(53256),o=r(70500);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,i,f,d=(i=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(f){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}(this,t)});function p(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(u(t=d.call.apply(d,[this].concat(r))),"priority",130),l(u(t),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),t}return e=p,(r=[{key:"parse",value:function(t,e,r){var n=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return(0,o.mapValue)((0,o.parseNDigits)(4,t),n);case"yo":return(0,o.mapValue)(r.ordinalNumber(t,{unit:"year"}),n);default:return(0,o.mapValue)((0,o.parseNDigits)(e.length,t),n)}}},{key:"validate",value:function(t,e){return e.isTwoDigitYear||e.year>0}},{key:"set",value:function(t,e,r){var n=t.getUTCFullYear();if(r.isTwoDigitYear){var i=(0,o.normalizeTwoDigitYear)(r.year,n);return t.setUTCFullYear(i,0,1),t.setUTCHours(0,0,0,0),t}var a="era"in e&&1!==e.era?1-r.year:r.year;return t.setUTCFullYear(a,0,1),t.setUTCHours(0,0,0,0),t}}])&&a(e.prototype,r),p}(i.Parser);e.YearParser=f},74085:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parsers=void 0;var n=r(51409),i=r(63023),o=r(36306),a=r(65489),s=r(4124),u=r(6450),c=r(92614),l=r(6426),f=r(29679),d=r(34735),p=r(41649),h=r(98861),y=r(61270),m=r(3606),g=r(22734),b=r(75474),v=r(29690),w=r(28271),O=r(40790),j=r(99720),x=r(53657),P=r(67353),_=r(15214),S=r(91702),D=r(72198),k=r(60671),A=r(86596),C=r(18646),T=r(30990),E=r(79111),I=r(99279),R={G:new n.EraParser,y:new i.YearParser,Y:new o.LocalWeekYearParser,R:new a.ISOWeekYearParser,u:new s.ExtendedYearParser,Q:new u.QuarterParser,q:new c.StandAloneQuarterParser,M:new l.MonthParser,L:new f.StandAloneMonthParser,w:new d.LocalWeekParser,I:new p.ISOWeekParser,d:new h.DateParser,D:new y.DayOfYearParser,E:new m.DayParser,e:new g.LocalDayParser,c:new b.StandAloneLocalDayParser,i:new v.ISODayParser,a:new w.AMPMParser,b:new O.AMPMMidnightParser,B:new j.DayPeriodParser,h:new x.Hour1to12Parser,H:new P.Hour0to23Parser,K:new _.Hour0To11Parser,k:new S.Hour1To24Parser,m:new D.MinuteParser,s:new k.SecondParser,S:new A.FractionOfSecondParser,X:new C.ISOTimezoneWithZParser,x:new T.ISOTimezoneParser,t:new E.TimestampSecondsParser,T:new I.TimestampMillisecondsParser};e.parsers=R},70500:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dayPeriodEnumToHours=function(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}},e.isLeapYearIndex=function(t){return t%400==0||t%4==0&&t%100!=0},e.mapValue=function(t,e){return t?{value:e(t.value),rest:t.rest}:t},e.normalizeTwoDigitYear=function(t,e){var r,n=e>0,i=n?e:1-e;if(i<=50)r=t||100;else{var o=i+50;r=t+100*Math.floor(o/100)-(t>=o%100?100:0)}return n?r:1-r},e.parseAnyDigitsSigned=function(t){return o(i.numericPatterns.anyDigitsSigned,t)},e.parseNDigits=function(t,e){switch(t){case 1:return o(i.numericPatterns.singleDigit,e);case 2:return o(i.numericPatterns.twoDigits,e);case 3:return o(i.numericPatterns.threeDigits,e);case 4:return o(i.numericPatterns.fourDigits,e);default:return o(new RegExp("^\\d{1,"+t+"}"),e)}},e.parseNDigitsSigned=function(t,e){switch(t){case 1:return o(i.numericPatterns.singleDigitSigned,e);case 2:return o(i.numericPatterns.twoDigitsSigned,e);case 3:return o(i.numericPatterns.threeDigitsSigned,e);case 4:return o(i.numericPatterns.fourDigitsSigned,e);default:return o(new RegExp("^-?\\d{1,"+t+"}"),e)}},e.parseNumericPattern=o,e.parseTimezonePattern=function(t,e){var r=e.match(t);if(!r)return null;if("Z"===r[0])return{value:0,rest:e.slice(1)};var i="+"===r[1]?1:-1,o=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:i*(o*n.millisecondsInHour+a*n.millisecondsInMinute+s*n.millisecondsInSecond),rest:e.slice(r[0].length)}};var n=r(44172),i=r(72591);function o(t,e){var r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}},79051:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,y){var b,_,S,D,k,A,C,T,E,I,R,F,M,U,B,N,L,W;(0,f.default)(3,arguments);var z=String(t),G=String(e),$=(0,h.getDefaultOptions)(),H=null!==(b=null!==(_=null==y?void 0:y.locale)&&void 0!==_?_:$.locale)&&void 0!==b?b:n.default;if(!H.match)throw new RangeError("locale must contain match property");var q=(0,l.default)(null!==(S=null!==(D=null!==(k=null!==(A=null==y?void 0:y.firstWeekContainsDate)&&void 0!==A?A:null==y||null===(C=y.locale)||void 0===C||null===(T=C.options)||void 0===T?void 0:T.firstWeekContainsDate)&&void 0!==k?k:$.firstWeekContainsDate)&&void 0!==D?D:null===(E=$.locale)||void 0===E||null===(I=E.options)||void 0===I?void 0:I.firstWeekContainsDate)&&void 0!==S?S:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var V=(0,l.default)(null!==(R=null!==(F=null!==(M=null!==(U=null==y?void 0:y.weekStartsOn)&&void 0!==U?U:null==y||null===(B=y.locale)||void 0===B||null===(N=B.options)||void 0===N?void 0:N.weekStartsOn)&&void 0!==M?M:$.weekStartsOn)&&void 0!==F?F:null===(L=$.locale)||void 0===L||null===(W=L.options)||void 0===W?void 0:W.weekStartsOn)&&void 0!==R?R:0);if(!(V>=0&&V<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===G)return""===z?(0,o.default)(r):new Date(NaN);var Y,Q={firstWeekContainsDate:q,weekStartsOn:V,locale:H},J=[new d.DateToSystemTimezoneSetter],K=G.match(w).map((function(t){var e=t[0];return e in s.default?(0,s.default[e])(t,H.formatLong):t})).join("").match(v),X=[],Z=g(K);try{var tt=function(){var e=Y.value;null!=y&&y.useAdditionalWeekYearTokens||!(0,c.isProtectedWeekYearToken)(e)||(0,c.throwProtectedError)(e,G,t),null!=y&&y.useAdditionalDayOfYearTokens||!(0,c.isProtectedDayOfYearToken)(e)||(0,c.throwProtectedError)(e,G,t);var r=e[0],n=p.parsers[r];if(n){var i=n.incompatibleTokens;if(Array.isArray(i)){var o=X.find((function(t){return i.includes(t.token)||t.token===r}));if(o)throw new RangeError("The format string mustn't contain `".concat(o.fullToken,"` and `").concat(e,"` at the same time"))}else if("*"===n.incompatibleTokens&&X.length>0)throw new RangeError("The format string mustn't contain `".concat(e,"` and any other token at the same time"));X.push({token:r,fullToken:e});var a=n.run(z,e,H.match,Q);if(!a)return{v:new Date(NaN)};J.push(a.setter),z=a.rest}else{if(r.match(P))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");if("''"===e?e="'":"'"===r&&(e=e.match(O)[1].replace(j,"'")),0!==z.indexOf(e))return{v:new Date(NaN)};z=z.slice(e.length)}};for(Z.s();!(Y=Z.n()).done;){var et=tt();if("object"===m(et))return et.v}}catch(t){Z.e(t)}finally{Z.f()}if(z.length>0&&x.test(z))return new Date(NaN);var rt=J.map((function(t){return t.priority})).sort((function(t,e){return e-t})).filter((function(t,e,r){return r.indexOf(t)===e})).map((function(t){return J.filter((function(e){return e.priority===t})).sort((function(t,e){return e.subPriority-t.subPriority}))})).map((function(t){return t[0]})),nt=(0,o.default)(r);if(isNaN(nt.getTime()))return new Date(NaN);var it,ot=(0,i.default)(nt,(0,u.default)(nt)),at={},st=g(rt);try{for(st.s();!(it=st.n()).done;){var ut=it.value;if(!ut.validate(ot,Q))return new Date(NaN);var ct=ut.set(ot,at,Q);Array.isArray(ct)?(ot=ct[0],(0,a.default)(at,ct[1])):ot=ct}}catch(t){st.e(t)}finally{st.f()}return ot};var n=y(r(97044)),i=y(r(95121)),o=y(r(75180)),a=y(r(91085)),s=y(r(60601)),u=y(r(9657)),c=r(24374),l=y(r(7911)),f=y(r(91814)),d=r(47379),p=r(74085),h=r(12251);function y(t){return t&&t.__esModule?t:{default:t}}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function g(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,w=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,O=/^'([^]*?)'?$/,j=/''/g,x=/\S/,P=/[a-zA-Z]/;t.exports=e.default},95121:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(2,arguments);var r=(0,o.default)(e);return(0,n.default)(t,-r)};var n=a(r(44168)),i=a(r(91814)),o=a(r(7911));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},75180:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,i.default)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===o(t)&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var n,i=(n=r(91814))&&n.__esModule?n:{default:n};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}t.exports=e.default},55892:t=>{var e=Array.prototype.slice,r=Object.prototype.toString;t.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i,o=e.call(arguments,1),a=Math.max(0,n.length-o.length),s=[],u=0;u<a;u++)s.push("$"+u);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var r=n.apply(this,o.concat(e.call(arguments)));return Object(r)===r?r:this}return n.apply(t,o.concat(e.call(arguments)))})),n.prototype){var c=function(){};c.prototype=n.prototype,i.prototype=new c,c.prototype=null}return i}},70606:(t,e,r)=>{var n=r(55892);t.exports=Function.prototype.bind||n},18343:(t,e,r)=>{var n,i=SyntaxError,o=Function,a=TypeError,s=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(t){return c}}}():c,f=r(24202)(),d=Object.getPrototypeOf||function(t){return t.__proto__},p={},h="undefined"==typeof Uint8Array?n:d(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};try{null.error}catch(t){var m=d(d(t));y["%Error.prototype%"]=m}var g=function t(e){var r;if("%AsyncFunction%"===e)r=s("async function () {}");else if("%GeneratorFunction%"===e)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=s("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(r=d(i.prototype))}return y[e]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(70606),w=r(36168),O=v.call(Function.call,Array.prototype.concat),j=v.call(Function.apply,Array.prototype.splice),x=v.call(Function.call,String.prototype.replace),P=v.call(Function.call,String.prototype.slice),_=v.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,k=function(t,e){var r,n=t;if(w(b,n)&&(n="%"+(r=b[n])[0]+"%"),w(y,n)){var o=y[n];if(o===p&&(o=g(n)),void 0===o&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===_(/^%?[^%]*%?$/,t))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=P(t,0,1),r=P(t,-1);if("%"===e&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return x(t,S,(function(t,e,r,i){n[n.length]=r?x(i,D,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=k("%"+n+"%",e),s=o.name,c=o.value,l=!1,f=o.alias;f&&(n=f[0],j(r,O([0,1],f)));for(var d=1,p=!0;d<r.length;d+=1){var h=r[d],m=P(h,0,1),g=P(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&p||(l=!0),w(y,s="%"+(n+="."+h)+"%"))c=y[s];else if(null!=c){if(!(h in c)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var b=u(c,h);c=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[h]}else p=w(c,h),c=c[h];p&&!l&&(y[s]=c)}}return c}},24202:(t,e,r)=>{var n="undefined"!=typeof Symbol&&Symbol,i=r(39262);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},39262:t=>{t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},36168:(t,e,r)=>{var n=r(70606);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},77748:(t,e,r)=>{var n;r.d(e,{W:()=>n}),function(t){t[t.ACCEPTED=202]="ACCEPTED",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.CONFLICT=409]="CONFLICT",t[t.CONTINUE=100]="CONTINUE",t[t.CREATED=201]="CREATED",t[t.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",t[t.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.GONE=410]="GONE",t[t.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",t[t.IM_A_TEAPOT=418]="IM_A_TEAPOT",t[t.INSUFFICIENT_SPACE_ON_RESOURCE=419]="INSUFFICIENT_SPACE_ON_RESOURCE",t[t.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t[t.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",t[t.LOCKED=423]="LOCKED",t[t.METHOD_FAILURE=420]="METHOD_FAILURE",t[t.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",t[t.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",t[t.MOVED_TEMPORARILY=302]="MOVED_TEMPORARILY",t[t.MULTI_STATUS=207]="MULTI_STATUS",t[t.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",t[t.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED",t[t.NO_CONTENT=204]="NO_CONTENT",t[t.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",t[t.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",t[t.NOT_MODIFIED=304]="NOT_MODIFIED",t[t.OK=200]="OK",t[t.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",t[t.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",t[t.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",t[t.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",t[t.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",t[t.PROCESSING=102]="PROCESSING",t[t.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",t[t.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",t[t.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",t[t.REQUEST_TOO_LONG=413]="REQUEST_TOO_LONG",t[t.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",t[t.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",t[t.RESET_CONTENT=205]="RESET_CONTENT",t[t.SEE_OTHER=303]="SEE_OTHER",t[t.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",t[t.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",t[t.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",t[t.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",t[t.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",t[t.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",t[t.USE_PROXY=305]="USE_PROXY",t[t.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST"}(n||(n={}))},85890:(t,e,r)=>{r(6052),t.exports=self.fetch.bind(self)},79884:(t,e,r)=>{var n="undefined"!=typeof JSON?JSON:r(34520),i=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},o=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in t)e.call(t,n)&&r.push(n);return r};t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r=e.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var a,s="boolean"==typeof e.cycles&&e.cycles,u=e.replacer||function(t,e){return e},c=e.cmp&&(a=e.cmp,function(t){return function(e,r){var n={key:e,value:t[e]},i={key:r,value:t[r]};return a(n,i)}}),l=[];return function t(e,a,f,d){var p=r?"\n"+new Array(d+1).join(r):"",h=r?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),void 0!==(f=u.call(e,a,f))){if("object"!=typeof f||null===f)return n.stringify(f);if(i(f)){for(var y=[],m=0;m<f.length;m++){var g=t(f,m,f[m],d+1)||n.stringify(null);y.push(p+r+g)}return"["+y.join(",")+p+"]"}if(-1!==l.indexOf(f)){if(s)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(f);var b=o(f).sort(c&&c(f));for(y=[],m=0;m<b.length;m++){var v=t(f,a=b[m],f[a],d+1);if(v){var w=n.stringify(a)+h+v;y.push(p+r+w)}}return l.splice(l.indexOf(f),1),"{"+y.join(",")+p+"}"}}({"":t},"",t,0)}},34520:(t,e,r)=>{e.parse=r(46985),e.stringify=r(43815)},46985:t=>{var e,r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function o(t){throw{name:"SyntaxError",message:t,at:e,text:n}}function a(t){return t&&t!==r&&o("Expected '"+t+"' instead of '"+r+"'"),r=n.charAt(e),e+=1,r}function s(){var t,e="";for("-"===r&&(e="-",a("-"));r>="0"&&r<="9";)e+=r,a();if("."===r)for(e+=".";a()&&r>="0"&&r<="9";)e+=r;if("e"===r||"E"===r)for(e+=r,a(),"-"!==r&&"+"!==r||(e+=r,a());r>="0"&&r<="9";)e+=r,a();return t=Number(e),isFinite(t)||o("Bad number"),t}function u(){var t,e,n,s="";if('"'===r)for(;a();){if('"'===r)return a(),s;if("\\"===r)if(a(),"u"===r){for(n=0,e=0;e<4&&(t=parseInt(a(),16),isFinite(t));e+=1)n=16*n+t;s+=String.fromCharCode(n)}else{if("string"!=typeof i[r])break;s+=i[r]}else s+=r}o("Bad string")}function c(){for(;r&&r<=" ";)a()}function l(){switch(c(),r){case"{":return function(){var t,e={};if("{"===r){if(a("{"),c(),"}"===r)return a("}"),e;for(;r;){if(t=u(),c(),a(":"),Object.prototype.hasOwnProperty.call(e,t)&&o('Duplicate key "'+t+'"'),e[t]=l(),c(),"}"===r)return a("}"),e;a(","),c()}}o("Bad object")}();case"[":return function(){var t=[];if("["===r){if(a("["),c(),"]"===r)return a("]"),t;for(;r;){if(t.push(l()),c(),"]"===r)return a("]"),t;a(","),c()}}o("Bad array")}();case'"':return u();case"-":return s();default:return r>="0"&&r<="9"?s():function(){switch(r){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null;default:o("Unexpected '"+r+"'")}}()}}t.exports=function(t,i){var a;return n=t,e=0,r=" ",a=l(),c(),r&&o("Syntax error"),"function"==typeof i?function t(e,r){var n,o,a=e[r];if(a&&"object"==typeof a)for(n in l)Object.prototype.hasOwnProperty.call(a,n)&&(void 0===(o=t(a,n))?delete a[n]:a[n]=o);return i.call(e,r,a)}({"":a},""):a}},43815:t=>{var e,r,n,i=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(t){return i.lastIndex=0,i.test(t)?'"'+t.replace(i,(function(t){var e=o[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function s(t,i){var o,u,c,l,f,d=e,p=i[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof n&&(p=n.call(i,t,p)),typeof p){case"string":return a(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(e+=r,f=[],"[object Array]"===Object.prototype.toString.apply(p)){for(l=p.length,o=0;o<l;o+=1)f[o]=s(o,p)||"null";return c=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+d+"]":"["+f.join(",")+"]",e=d,c}if(n&&"object"==typeof n)for(l=n.length,o=0;o<l;o+=1)"string"==typeof(u=n[o])&&(c=s(u,p))&&f.push(a(u)+(e?": ":":")+c);else for(u in p)Object.prototype.hasOwnProperty.call(p,u)&&(c=s(u,p))&&f.push(a(u)+(e?": ":":")+c);return c=0===f.length?"{}":e?"{\n"+e+f.join(",\n"+e)+"\n"+d+"}":"{"+f.join(",")+"}",e=d,c}}t.exports=function(t,i,o){var a;if(e="",r="","number"==typeof o)for(a=0;a<o;a+=1)r+=" ";else"string"==typeof o&&(r=o);if(n=i,i&&"function"!=typeof i&&("object"!=typeof i||"number"!=typeof i.length))throw new Error("JSON.stringify");return s("",{"":t})}},34594:(t,e,r)=>{var n=r(60916)(r(29226),"DataView");t.exports=n},82618:(t,e,r)=>{var n=r(35804),i=r(39546),o=r(70478),a=r(53374),s=r(31798);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},5096:(t,e,r)=>{var n=r(87632),i=r(74726);function o(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=n(i.prototype),o.prototype.constructor=o,t.exports=o},35699:(t,e,r)=>{var n=r(92298),i=r(62593),o=r(8345),a=r(34517),s=r(43711);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},81906:(t,e,r)=>{var n=r(87632),i=r(74726);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=n(i.prototype),o.prototype.constructor=o,t.exports=o},92998:(t,e,r)=>{var n=r(60916)(r(29226),"Map");t.exports=n},55126:(t,e,r)=>{var n=r(18945),i=r(11722),o=r(92966),a=r(31846),s=r(25061);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},34876:(t,e,r)=>{var n=r(60916)(r(29226),"Promise");t.exports=n},22558:(t,e,r)=>{var n=r(60916)(r(29226),"Set");t.exports=n},37655:(t,e,r)=>{var n=r(55126),i=r(77115),o=r(1675);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},82160:(t,e,r)=>{var n=r(35699),i=r(95681),o=r(19487),a=r(14539),s=r(19999),u=r(82060);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},57841:(t,e,r)=>{var n=r(29226).Symbol;t.exports=n},60922:(t,e,r)=>{var n=r(29226).Uint8Array;t.exports=n},2805:(t,e,r)=>{var n=r(60916)(r(29226),"WeakMap");t.exports=n},23341:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},55318:t=>{t.exports=function(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(n,a,r(a),t)}return n}},93666:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},72076:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}},37187:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}},67583:(t,e,r)=>{var n=r(57549);t.exports=function(t,e){return!(null==t||!t.length)&&n(t,e,0)>-1}},65623:t=>{t.exports=function(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}},52483:(t,e,r)=>{var n=r(91547),i=r(80150),o=r(44490),a=r(34772),s=r(97999),u=r(10345),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),l=!r&&i(t),f=!r&&!l&&a(t),d=!r&&!l&&!f&&u(t),p=r||l||f||d,h=p?n(t.length,String):[],y=h.length;for(var m in t)!e&&!c.call(t,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,y))||h.push(m);return h}},71732:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},52149:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},55733:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},81997:(t,e,r)=>{var n=r(77274),i=r(59954);t.exports=function(t,e,r){(void 0!==r&&!i(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},47807:(t,e,r)=>{var n=r(77274),i=r(59954),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];o.call(t,e)&&i(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},19186:(t,e,r)=>{var n=r(59954);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},21446:(t,e,r)=>{var n=r(11039);t.exports=function(t,e,r,i){return n(t,(function(t,n,o){e(i,t,r(t),o)})),i}},22519:(t,e,r)=>{var n=r(10681),i=r(15211);t.exports=function(t,e){return t&&n(e,i(e),t)}},29482:(t,e,r)=>{var n=r(10681),i=r(45531);t.exports=function(t,e){return t&&n(e,i(e),t)}},77274:(t,e,r)=>{var n=r(26773);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},84375:(t,e,r)=>{var n=r(82160),i=r(93666),o=r(47807),a=r(22519),s=r(29482),u=r(88675),c=r(57218),l=r(8965),f=r(15346),d=r(77935),p=r(93412),h=r(44305),y=r(75983),m=r(51900),g=r(9602),b=r(44490),v=r(34772),w=r(4467),O=r(46139),j=r(3148),x=r(15211),P=r(45531),_="[object Arguments]",S="[object Function]",D="[object Object]",k={};k[_]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[D]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[S]=k["[object WeakMap]"]=!1,t.exports=function t(e,r,A,C,T,E){var I,R=1&r,F=2&r,M=4&r;if(A&&(I=T?A(e,C,T,E):A(e)),void 0!==I)return I;if(!O(e))return e;var U=b(e);if(U){if(I=y(e),!R)return c(e,I)}else{var B=h(e),N=B==S||"[object GeneratorFunction]"==B;if(v(e))return u(e,R);if(B==D||B==_||N&&!T){if(I=F||N?{}:g(e),!R)return F?f(e,s(I,e)):l(e,a(I,e))}else{if(!k[B])return T?e:{};I=m(e,B,R)}}E||(E=new n);var L=E.get(e);if(L)return L;E.set(e,I),j(e)?e.forEach((function(n){I.add(t(n,r,A,n,e,E))})):w(e)&&e.forEach((function(n,i){I.set(i,t(n,r,A,i,e,E))}));var W=U?void 0:(M?F?p:d:F?P:x)(e);return i(W||e,(function(n,i){W&&(n=e[i=n]),o(I,i,t(n,r,A,i,e,E))})),I}},87632:(t,e,r)=>{var n=r(46139),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},69315:(t,e,r)=>{var n=r(37655),i=r(67583),o=r(65623),a=r(71732),s=r(99912),u=r(86806);t.exports=function(t,e,r,c){var l=-1,f=i,d=!0,p=t.length,h=[],y=e.length;if(!p)return h;r&&(e=a(e,s(r))),c?(f=o,d=!1):e.length>=200&&(f=u,d=!1,e=new n(e));t:for(;++l<p;){var m=t[l],g=null==r?m:r(m);if(m=c||0!==m?m:0,d&&g==g){for(var b=y;b--;)if(e[b]===g)continue t;h.push(m)}else f(e,g,c)||h.push(m)}return h}},11039:(t,e,r)=>{var n=r(11051),i=r(25750)(n);t.exports=i},10549:(t,e,r)=>{var n=r(11039);t.exports=function(t,e){var r=!0;return n(t,(function(t,n,i){return r=!!e(t,n,i)})),r}},59800:(t,e,r)=>{var n=r(11039);t.exports=function(t,e){var r=[];return n(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}},44331:t=>{t.exports=function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},44777:(t,e,r)=>{var n=r(52149),i=r(13285);t.exports=function t(e,r,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var l=e[u];r>0&&o(l)?r>1?t(l,r-1,o,a,s):n(s,l):a||(s[s.length]=l)}return s}},37798:(t,e,r)=>{var n=r(31365)();t.exports=n},11051:(t,e,r)=>{var n=r(37798),i=r(15211);t.exports=function(t,e){return t&&n(t,e,i)}},87245:(t,e,r)=>{var n=r(20450),i=r(32823);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},84240:(t,e,r)=>{var n=r(52149),i=r(44490);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},4815:(t,e,r)=>{var n=r(57841),i=r(72429),o=r(99930),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},68983:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t,r){return null!=t&&e.call(t,r)}},2014:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},57549:(t,e,r)=>{var n=r(44331),i=r(80309),o=r(92914);t.exports=function(t,e,r){return e==e?o(t,e,r):n(t,i,r)}},37159:(t,e,r)=>{var n=r(37655),i=r(67583),o=r(65623),a=r(71732),s=r(99912),u=r(86806),c=Math.min;t.exports=function(t,e,r){for(var l=r?o:i,f=t[0].length,d=t.length,p=d,h=Array(d),y=1/0,m=[];p--;){var g=t[p];p&&e&&(g=a(g,s(e))),y=c(g.length,y),h[p]=!r&&(e||f>=120&&g.length>=120)?new n(p&&g):void 0}g=t[0];var b=-1,v=h[0];t:for(;++b<f&&m.length<y;){var w=g[b],O=e?e(w):w;if(w=r||0!==w?w:0,!(v?u(v,O):l(m,O,r))){for(p=d;--p;){var j=h[p];if(!(j?u(j,O):l(t[p],O,r)))continue t}v&&v.push(O),m.push(w)}}return m}},35911:(t,e,r)=>{var n=r(4815),i=r(4394);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},27283:(t,e,r)=>{var n=r(7626),i=r(4394);t.exports=function t(e,r,o,a,s){return e===r||(null==e||null==r||!i(e)&&!i(r)?e!=e&&r!=r:n(e,r,o,a,t,s))}},7626:(t,e,r)=>{var n=r(82160),i=r(68288),o=r(84697),a=r(40194),s=r(44305),u=r(44490),c=r(34772),l=r(10345),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,y,m,g){var b=u(t),v=u(e),w=b?d:s(t),O=v?d:s(e),j=(w=w==f?p:w)==p,x=(O=O==f?p:O)==p,P=w==O;if(P&&c(t)){if(!c(e))return!1;b=!0,j=!1}if(P&&!j)return g||(g=new n),b||l(t)?i(t,e,r,y,m,g):o(t,e,w,r,y,m,g);if(!(1&r)){var _=j&&h.call(t,"__wrapped__"),S=x&&h.call(e,"__wrapped__");if(_||S){var D=_?t.value():t,k=S?e.value():e;return g||(g=new n),m(D,k,r,y,g)}}return!!P&&(g||(g=new n),a(t,e,r,y,m,g))}},80643:(t,e,r)=>{var n=r(44305),i=r(4394);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},1842:(t,e,r)=>{var n=r(82160),i=r(27283);t.exports=function(t,e,r,o){var a=r.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=r[a];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var l=(c=r[a])[0],f=t[l],d=c[1];if(u&&c[2]){if(void 0===f&&!(l in t))return!1}else{var p=new n;if(o)var h=o(f,d,l,t,e,p);if(!(void 0===h?i(d,f,3,o,p):h))return!1}}return!0}},80309:t=>{t.exports=function(t){return t!=t}},70020:(t,e,r)=>{var n=r(49274),i=r(65575),o=r(46139),a=r(30082),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?d:s).test(a(t))}},15449:(t,e,r)=>{var n=r(44305),i=r(4394);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},30241:(t,e,r)=>{var n=r(4815),i=r(483),o=r(4394),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[n(t)]}},61051:(t,e,r)=>{var n=r(93954),i=r(1204),o=r(29205),a=r(44490),s=r(10850);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):n(t):s(t)}},70679:(t,e,r)=>{var n=r(32649),i=r(35689),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},50260:(t,e,r)=>{var n=r(46139),i=r(32649),o=r(37375),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&r.push(s);return r}},74726:t=>{t.exports=function(){}},27578:(t,e,r)=>{var n=r(11039),i=r(92054);t.exports=function(t,e){var r=-1,o=i(t)?Array(t.length):[];return n(t,(function(t,n,i){o[++r]=e(t,n,i)})),o}},93954:(t,e,r)=>{var n=r(1842),i=r(95145),o=r(68049);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},1204:(t,e,r)=>{var n=r(27283),i=r(67882),o=r(3476),a=r(5137),s=r(73633),u=r(68049),c=r(32823);t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(r){var a=i(r,t);return void 0===a&&a===e?o(r,t):n(e,a,3)}}},36161:(t,e,r)=>{var n=r(82160),i=r(81997),o=r(37798),a=r(92512),s=r(46139),u=r(45531),c=r(98330);t.exports=function t(e,r,l,f,d){e!==r&&o(r,(function(o,u){if(d||(d=new n),s(o))a(e,r,u,l,t,f,d);else{var p=f?f(c(e,u),o,u+"",e,r,d):void 0;void 0===p&&(p=o),i(e,u,p)}}),u)}},92512:(t,e,r)=>{var n=r(81997),i=r(88675),o=r(58140),a=r(57218),s=r(9602),u=r(80150),c=r(44490),l=r(6778),f=r(34772),d=r(49274),p=r(46139),h=r(93064),y=r(10345),m=r(98330),g=r(9655);t.exports=function(t,e,r,b,v,w,O){var j=m(t,r),x=m(e,r),P=O.get(x);if(P)n(t,r,P);else{var _=w?w(j,x,r+"",t,e,O):void 0,S=void 0===_;if(S){var D=c(x),k=!D&&f(x),A=!D&&!k&&y(x);_=x,D||k||A?c(j)?_=j:l(j)?_=a(j):k?(S=!1,_=i(x,!0)):A?(S=!1,_=o(x,!0)):_=[]:h(x)||u(x)?(_=j,u(j)?_=g(j):p(j)&&!d(j)||(_=s(x))):S=!1}S&&(O.set(x,_),v(_,x,b,w,O),O.delete(x)),n(t,r,_)}}},40388:(t,e,r)=>{var n=r(71732),i=r(87245),o=r(61051),a=r(27578),s=r(28259),u=r(99912),c=r(82815),l=r(29205),f=r(44490);t.exports=function(t,e,r){e=e.length?n(e,(function(t){return f(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[l];var d=-1;e=n(e,u(o));var p=a(t,(function(t,r,i){return{criteria:n(e,(function(e){return e(t)})),index:++d,value:t}}));return s(p,(function(t,e){return c(t,e,r)}))}},59831:(t,e,r)=>{var n=r(40699),i=r(3476);t.exports=function(t,e){return n(t,e,(function(e,r){return i(t,r)}))}},40699:(t,e,r)=>{var n=r(87245),i=r(34720),o=r(20450);t.exports=function(t,e,r){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=n(t,c);r(l,c)&&i(u,o(c,t),l)}return u}},73021:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},88874:(t,e,r)=>{var n=r(87245);t.exports=function(t){return function(e){return n(e,t)}}},17906:(t,e,r)=>{var n=r(40406),i=r(97999),o=Array.prototype.splice;t.exports=function(t,e){for(var r=t?e.length:0,a=r-1;r--;){var s=e[r];if(r==a||s!==u){var u=s;i(s)?o.call(t,s,1):n(t,s)}}return t}},8477:t=>{var e=Math.ceil,r=Math.max;t.exports=function(t,n,i,o){for(var a=-1,s=r(e((n-t)/(i||1)),0),u=Array(s);s--;)u[o?s:++a]=t,t+=i;return u}},48386:(t,e,r)=>{var n=r(29205),i=r(81570),o=r(16748);t.exports=function(t,e){return o(i(t,e,n),t+"")}},34720:(t,e,r)=>{var n=r(47807),i=r(20450),o=r(97999),a=r(46139),s=r(32823);t.exports=function(t,e,r,u){if(!a(t))return t;for(var c=-1,l=(e=i(e,t)).length,f=l-1,d=t;null!=d&&++c<l;){var p=s(e[c]),h=r;if("__proto__"===p||"constructor"===p||"prototype"===p)return t;if(c!=f){var y=d[p];void 0===(h=u?u(y,p,d):void 0)&&(h=a(y)?y:o(e[c+1])?[]:{})}n(d,p,h),d=d[p]}return t}},64022:(t,e,r)=>{var n=r(29205),i=r(46287),o=i?function(t,e){return i.set(t,e),t}:n;t.exports=o},54066:(t,e,r)=>{var n=r(18395),i=r(26773),o=r(29205),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=a},24253:t=>{t.exports=function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}},28259:t=>{t.exports=function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}},91547:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},92728:(t,e,r)=>{var n=r(71732);t.exports=function(t,e){return n(e,(function(e){return[e,t[e]]}))}},92205:(t,e,r)=>{var n=r(57841),i=r(71732),o=r(44490),a=r(26080),s=n?n.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},34482:(t,e,r)=>{var n=r(88460),i=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},99912:t=>{t.exports=function(t){return function(e){return t(e)}}},38168:(t,e,r)=>{var n=r(37655),i=r(67583),o=r(65623),a=r(86806),s=r(23174),u=r(42365);t.exports=function(t,e,r){var c=-1,l=i,f=t.length,d=!0,p=[],h=p;if(r)d=!1,l=o;else if(f>=200){var y=e?null:s(t);if(y)return u(y);d=!1,l=a,h=new n}else h=e?[]:p;t:for(;++c<f;){var m=t[c],g=e?e(m):m;if(m=r||0!==m?m:0,d&&g==g){for(var b=h.length;b--;)if(h[b]===g)continue t;e&&h.push(g),p.push(m)}else l(h,g,r)||(h!==p&&h.push(g),p.push(m))}return p}},40406:(t,e,r)=>{var n=r(20450),i=r(51805),o=r(15968),a=r(32823);t.exports=function(t,e){return e=n(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},80457:(t,e,r)=>{var n=r(71732);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},86806:t=>{t.exports=function(t,e){return t.has(e)}},51442:(t,e,r)=>{var n=r(6778);t.exports=function(t){return n(t)?t:[]}},20450:(t,e,r)=>{var n=r(44490),i=r(5137),o=r(3596),a=r(26478);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(a(t))}},3374:(t,e,r)=>{var n=r(60922);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},88675:(t,e,r)=>{t=r.nmd(t);var n=r(29226),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}},15643:(t,e,r)=>{var n=r(3374);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},21060:t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},77125:(t,e,r)=>{var n=r(57841),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},58140:(t,e,r)=>{var n=r(3374);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},42878:(t,e,r)=>{var n=r(26080);t.exports=function(t,e){if(t!==e){var r=void 0!==t,i=null===t,o=t==t,a=n(t),s=void 0!==e,u=null===e,c=e==e,l=n(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||i&&s&&c||!r&&c||!o)return 1;if(!i&&!a&&!l&&t<e||l&&r&&o&&!i&&!a||u&&r&&o||!s&&o||!c)return-1}return 0}},82815:(t,e,r)=>{var n=r(42878);t.exports=function(t,e,r){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,u=r.length;++i<s;){var c=n(o[i],a[i]);if(c)return i>=u?c:c*("desc"==r[i]?-1:1)}return t.index-e.index}},98851:t=>{var e=Math.max;t.exports=function(t,r,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=r.length,l=e(a-s,0),f=Array(c+l),d=!i;++u<c;)f[u]=r[u];for(;++o<s;)(d||o<a)&&(f[n[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}},87518:t=>{var e=Math.max;t.exports=function(t,r,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=r.length,f=e(a-u,0),d=Array(f+l),p=!i;++o<f;)d[o]=t[o];for(var h=o;++c<l;)d[h+c]=r[c];for(;++s<u;)(p||o<a)&&(d[h+n[s]]=t[o++]);return d}},57218:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},10681:(t,e,r)=>{var n=r(47807),i=r(77274);t.exports=function(t,e,r,o){var a=!r;r||(r={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(r[c],t[c],c,r,t):void 0;void 0===l&&(l=t[c]),a?i(r,c,l):n(r,c,l)}return r}},8965:(t,e,r)=>{var n=r(10681),i=r(33101);t.exports=function(t,e){return n(t,i(t),e)}},15346:(t,e,r)=>{var n=r(10681),i=r(57126);t.exports=function(t,e){return n(t,i(t),e)}},39356:(t,e,r)=>{var n=r(29226)["__core-js_shared__"];t.exports=n},31138:t=>{t.exports=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}},18359:(t,e,r)=>{var n=r(55318),i=r(21446),o=r(61051),a=r(44490);t.exports=function(t,e){return function(r,s){var u=a(r)?n:i,c=e?e():{};return u(r,t,o(s,2),c)}}},35969:(t,e,r)=>{var n=r(48386),i=r(72251);t.exports=function(t){return n((function(e,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,a)}return e}))}},25750:(t,e,r)=>{var n=r(92054);t.exports=function(t,e){return function(r,i){if(null==r)return r;if(!n(r))return t(r,i);for(var o=r.length,a=e?o:-1,s=Object(r);(e?a--:++a<o)&&!1!==i(s[a],a,s););return r}}},31365:t=>{t.exports=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}},29555:(t,e,r)=>{var n=r(23367),i=r(29226);t.exports=function(t,e,r){var o=1&e,a=n(t);return function e(){return(this&&this!==i&&this instanceof e?a:t).apply(o?r:this,arguments)}}},23367:(t,e,r)=>{var n=r(87632),i=r(46139);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=n(t.prototype),o=t.apply(r,e);return i(o)?o:r}}},91593:(t,e,r)=>{var n=r(23341),i=r(23367),o=r(25762),a=r(70720),s=r(77736),u=r(51056),c=r(29226);t.exports=function(t,e,r){var l=i(t);return function i(){for(var f=arguments.length,d=Array(f),p=f,h=s(i);p--;)d[p]=arguments[p];var y=f<3&&d[0]!==h&&d[f-1]!==h?[]:u(d,h);return(f-=y.length)<r?a(t,e,o,i.placeholder,void 0,d,y,void 0,void 0,r-f):n(this&&this!==c&&this instanceof i?l:t,this,d)}}},97215:(t,e,r)=>{var n=r(61051),i=r(92054),o=r(15211);t.exports=function(t){return function(e,r,a){var s=Object(e);if(!i(e)){var u=n(r,3);e=o(e),r=function(t){return u(s[t],t,s)}}var c=t(e,r,a);return c>-1?s[u?e[c]:c]:void 0}}},64579:(t,e,r)=>{var n=r(81906),i=r(2082),o=r(23502),a=r(39224),s=r(44490),u=r(3987);t.exports=function(t){return i((function(e){var r=e.length,i=r,c=n.prototype.thru;for(t&&e.reverse();i--;){var l=e[i];if("function"!=typeof l)throw new TypeError("Expected a function");if(c&&!f&&"wrapper"==a(l))var f=new n([],!0)}for(i=f?i:r;++i<r;){l=e[i];var d=a(l),p="wrapper"==d?o(l):void 0;f=p&&u(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?f[a(p[0])].apply(f,p[3]):1==l.length&&u(l)?f[d]():f.thru(l)}return function(){var t=arguments,n=t[0];if(f&&1==t.length&&s(n))return f.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}},25762:(t,e,r)=>{var n=r(98851),i=r(87518),o=r(31138),a=r(23367),s=r(70720),u=r(77736),c=r(66613),l=r(51056),f=r(29226);t.exports=function t(e,r,d,p,h,y,m,g,b,v){var w=128&r,O=1&r,j=2&r,x=24&r,P=512&r,_=j?void 0:a(e);return function S(){for(var D=arguments.length,k=Array(D),A=D;A--;)k[A]=arguments[A];if(x)var C=u(S),T=o(k,C);if(p&&(k=n(k,p,h,x)),y&&(k=i(k,y,m,x)),D-=T,x&&D<v){var E=l(k,C);return s(e,r,t,S.placeholder,d,k,E,g,b,v-D)}var I=O?d:this,R=j?I[e]:e;return D=k.length,g?k=c(k,g):P&&D>1&&k.reverse(),w&&b<D&&(k.length=b),this&&this!==f&&this instanceof S&&(R=_||a(R)),R.apply(I,k)}}},74489:(t,e,r)=>{var n=r(23341),i=r(23367),o=r(29226);t.exports=function(t,e,r,a){var s=1&e,u=i(t);return function e(){for(var i=-1,c=arguments.length,l=-1,f=a.length,d=Array(f+c),p=this&&this!==o&&this instanceof e?u:t;++l<f;)d[l]=a[l];for(;c--;)d[l++]=arguments[++i];return n(p,s?r:this,d)}}},84171:(t,e,r)=>{var n=r(8477),i=r(72251),o=r(65525);t.exports=function(t){return function(e,r,a){return a&&"number"!=typeof a&&i(e,r,a)&&(r=a=void 0),e=o(e),void 0===r?(r=e,e=0):r=o(r),a=void 0===a?e<r?1:-1:o(a),n(e,r,a,t)}}},70720:(t,e,r)=>{var n=r(3987),i=r(59466),o=r(2718);t.exports=function(t,e,r,a,s,u,c,l,f,d){var p=8&e;e|=p?32:64,4&(e&=~(p?64:32))||(e&=-4);var h=[t,e,s,p?u:void 0,p?c:void 0,p?void 0:u,p?void 0:c,l,f,d],y=r.apply(void 0,h);return n(t)&&i(y,h),y.placeholder=a,o(y,t,e)}},23174:(t,e,r)=>{var n=r(22558),i=r(30299),o=r(42365),a=n&&1/o(new n([,-0]))[1]==1/0?function(t){return new n(t)}:i;t.exports=a},34601:(t,e,r)=>{var n=r(92728),i=r(44305),o=r(12840),a=r(49678);t.exports=function(t){return function(e){var r=i(e);return"[object Map]"==r?o(e):"[object Set]"==r?a(e):n(e,t(e))}}},12746:(t,e,r)=>{var n=r(64022),i=r(29555),o=r(91593),a=r(25762),s=r(74489),u=r(23502),c=r(81825),l=r(59466),f=r(2718),d=r(63792),p=Math.max;t.exports=function(t,e,r,h,y,m,g,b){var v=2&e;if(!v&&"function"!=typeof t)throw new TypeError("Expected a function");var w=h?h.length:0;if(w||(e&=-97,h=y=void 0),g=void 0===g?g:p(d(g),0),b=void 0===b?b:d(b),w-=y?y.length:0,64&e){var O=h,j=y;h=y=void 0}var x=v?void 0:u(t),P=[t,e,r,h,y,O,j,m,g,b];if(x&&c(P,x),t=P[0],e=P[1],r=P[2],h=P[3],y=P[4],!(b=P[9]=void 0===P[9]?v?0:t.length:p(P[9]-w,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||16==e?o(t,e,b):32!=e&&33!=e||y.length?a.apply(void 0,P):s(t,e,r,h);else var _=i(t,e,r);return f((x?n:l)(_,P),t,e)}},13618:(t,e,r)=>{var n=r(93064);t.exports=function(t){return n(t)?void 0:t}},26773:(t,e,r)=>{var n=r(60916),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},68288:(t,e,r)=>{var n=r(37655),i=r(55733),o=r(86806);t.exports=function(t,e,r,a,s,u){var c=1&r,l=t.length,f=e.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(t),p=u.get(e);if(d&&p)return d==e&&p==t;var h=-1,y=!0,m=2&r?new n:void 0;for(u.set(t,e),u.set(e,t);++h<l;){var g=t[h],b=e[h];if(a)var v=c?a(b,g,h,e,t,u):a(g,b,h,t,e,u);if(void 0!==v){if(v)continue;y=!1;break}if(m){if(!i(e,(function(t,e){if(!o(m,e)&&(g===t||s(g,t,r,a,u)))return m.push(e)}))){y=!1;break}}else if(g!==b&&!s(g,b,r,a,u)){y=!1;break}}return u.delete(t),u.delete(e),y}},84697:(t,e,r)=>{var n=r(57841),i=r(60922),o=r(59954),a=r(68288),s=r(12840),u=r(42365),c=n?n.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,f,d){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var h=1&n;if(p||(p=u),t.size!=e.size&&!h)return!1;var y=d.get(t);if(y)return y==e;n|=2,d.set(t,e);var m=a(p(t),p(e),n,c,f,d);return d.delete(t),m;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},40194:(t,e,r)=>{var n=r(77935),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,a,s){var u=1&r,c=n(t),l=c.length;if(l!=n(e).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in e:i.call(e,d)))return!1}var p=s.get(t),h=s.get(e);if(p&&h)return p==e&&h==t;var y=!0;s.set(t,e),s.set(e,t);for(var m=u;++f<l;){var g=t[d=c[f]],b=e[d];if(o)var v=u?o(b,g,d,e,t,s):o(g,b,d,t,e,s);if(!(void 0===v?g===b||a(g,b,r,o,s):v)){y=!1;break}m||(m="constructor"==d)}if(y&&!m){var w=t.constructor,O=e.constructor;w==O||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof O&&O instanceof O||(y=!1)}return s.delete(t),s.delete(e),y}},2082:(t,e,r)=>{var n=r(610),i=r(81570),o=r(16748);t.exports=function(t){return o(i(t,void 0,n),t+"")}},86947:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},77935:(t,e,r)=>{var n=r(84240),i=r(33101),o=r(15211);t.exports=function(t){return n(t,o,i)}},93412:(t,e,r)=>{var n=r(84240),i=r(57126),o=r(45531);t.exports=function(t){return n(t,o,i)}},23502:(t,e,r)=>{var n=r(46287),i=r(30299),o=n?function(t){return n.get(t)}:i;t.exports=o},39224:(t,e,r)=>{var n=r(52188),i=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",r=n[e],o=i.call(n,e)?r.length:0;o--;){var a=r[o],s=a.func;if(null==s||s==t)return a.name}return e}},77736:t=>{t.exports=function(t){return t.placeholder}},14727:(t,e,r)=>{var n=r(31388);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},95145:(t,e,r)=>{var n=r(73633),i=r(15211);t.exports=function(t){for(var e=i(t),r=e.length;r--;){var o=e[r],a=t[o];e[r]=[o,a,n(a)]}return e}},60916:(t,e,r)=>{var n=r(70020),i=r(52795);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},80809:(t,e,r)=>{var n=r(32526)(Object.getPrototypeOf,Object);t.exports=n},72429:(t,e,r)=>{var n=r(57841),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var i=a.call(t);return n&&(e?t[s]=r:delete t[s]),i}},33101:(t,e,r)=>{var n=r(37187),i=r(53735),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},57126:(t,e,r)=>{var n=r(52149),i=r(80809),o=r(33101),a=r(53735),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,o(t)),t=i(t);return e}:a;t.exports=s},44305:(t,e,r)=>{var n=r(34594),i=r(92998),o=r(34876),a=r(22558),s=r(2805),u=r(4815),c=r(30082),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",y=c(n),m=c(i),g=c(o),b=c(a),v=c(s),w=u;(n&&w(new n(new ArrayBuffer(1)))!=h||i&&w(new i)!=l||o&&w(o.resolve())!=f||a&&w(new a)!=d||s&&w(new s)!=p)&&(w=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case y:return h;case m:return l;case g:return f;case b:return d;case v:return p}return e}),t.exports=w},52795:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},11142:t=>{var e=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var n=t.match(e);return n?n[1].split(r):[]}},71060:(t,e,r)=>{var n=r(20450),i=r(80150),o=r(44490),a=r(97999),s=r(483),u=r(32823);t.exports=function(t,e,r){for(var c=-1,l=(e=n(e,t)).length,f=!1;++c<l;){var d=u(e[c]);if(!(f=null!=t&&r(t,d)))break;t=t[d]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(d,l)&&(o(t)||i(t))}},35804:(t,e,r)=>{var n=r(7945);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},39546:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},70478:(t,e,r)=>{var n=r(7945),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},53374:(t,e,r)=>{var n=r(7945),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},31798:(t,e,r)=>{var n=r(7945);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},75983:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},51900:(t,e,r)=>{var n=r(3374),i=r(15643),o=r(21060),a=r(77125),s=r(58140);t.exports=function(t,e,r){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},9602:(t,e,r)=>{var n=r(87632),i=r(80809),o=r(32649);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:n(i(t))}},77259:t=>{var e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,r){var n=r.length;if(!n)return t;var i=n-1;return r[i]=(n>1?"& ":"")+r[i],r=r.join(n>2?", ":" "),t.replace(e,"{\n/* [wrapped with "+r+"] */\n")}},13285:(t,e,r)=>{var n=r(57841),i=r(80150),o=r(44490),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},97999:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},72251:(t,e,r)=>{var n=r(59954),i=r(92054),o=r(97999),a=r(46139);t.exports=function(t,e,r){if(!a(r))return!1;var s=typeof e;return!!("number"==s?i(r)&&o(e,r.length):"string"==s&&e in r)&&n(r[e],t)}},5137:(t,e,r)=>{var n=r(44490),i=r(26080),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},31388:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},3987:(t,e,r)=>{var n=r(5096),i=r(23502),o=r(39224),a=r(89681);t.exports=function(t){var e=o(t),r=a[e];if("function"!=typeof r||!(e in n.prototype))return!1;if(t===r)return!0;var s=i(r);return!!s&&t===s[0]}},65575:(t,e,r)=>{var n,i=r(39356),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},32649:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},73633:(t,e,r)=>{var n=r(46139);t.exports=function(t){return t==t&&!n(t)}},92298:t=>{t.exports=function(){this.__data__=[],this.size=0}},62593:(t,e,r)=>{var n=r(19186),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():i.call(e,r,1),--this.size,0))}},8345:(t,e,r)=>{var n=r(19186);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},34517:(t,e,r)=>{var n=r(19186);t.exports=function(t){return n(this.__data__,t)>-1}},43711:(t,e,r)=>{var n=r(19186);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},18945:(t,e,r)=>{var n=r(82618),i=r(35699),o=r(92998);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},11722:(t,e,r)=>{var n=r(14727);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},92966:(t,e,r)=>{var n=r(14727);t.exports=function(t){return n(this,t).get(t)}},31846:(t,e,r)=>{var n=r(14727);t.exports=function(t){return n(this,t).has(t)}},25061:(t,e,r)=>{var n=r(14727);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},12840:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},68049:t=>{t.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},88773:(t,e,r)=>{var n=r(51925);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},81825:(t,e,r)=>{var n=r(98851),i=r(87518),o=r(51056),a="__lodash_placeholder__",s=Math.min;t.exports=function(t,e){var r=t[1],u=e[1],c=r|u,l=c<131,f=128==u&&8==r||128==u&&256==r&&t[7].length<=e[8]||384==u&&e[7].length<=e[8]&&8==r;if(!l&&!f)return t;1&u&&(t[2]=e[2],c|=1&r?0:4);var d=e[3];if(d){var p=t[3];t[3]=p?n(p,d,e[4]):d,t[4]=p?o(t[3],a):e[4]}return(d=e[5])&&(p=t[5],t[5]=p?i(p,d,e[6]):d,t[6]=p?o(t[5],a):e[6]),(d=e[7])&&(t[7]=d),128&u&&(t[8]=null==t[8]?e[8]:s(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=c,t}},46287:(t,e,r)=>{var n=r(2805),i=n&&new n;t.exports=i},7945:(t,e,r)=>{var n=r(60916)(Object,"create");t.exports=n},35689:(t,e,r)=>{var n=r(32526)(Object.keys,Object);t.exports=n},37375:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},19343:(t,e,r)=>{t=r.nmd(t);var n=r(86947),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&n.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},99930:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},32526:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},81570:(t,e,r)=>{var n=r(23341),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=r(u),n(t,this,c)}}},15968:(t,e,r)=>{var n=r(87245),i=r(24253);t.exports=function(t,e){return e.length<2?t:n(t,i(e,0,-1))}},52188:t=>{t.exports={}},66613:(t,e,r)=>{var n=r(57218),i=r(97999),o=Math.min;t.exports=function(t,e){for(var r=t.length,a=o(e.length,r),s=n(t);a--;){var u=e[a];t[a]=i(u,r)?s[u]:void 0}return t}},51056:t=>{var e="__lodash_placeholder__";t.exports=function(t,r){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var s=t[n];s!==r&&s!==e||(t[n]=e,a[o++]=n)}return a}},29226:(t,e,r)=>{var n=r(86947),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},98330:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},77115:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},1675:t=>{t.exports=function(t){return this.__data__.has(t)}},59466:(t,e,r)=>{var n=r(64022),i=r(8539)(n);t.exports=i},42365:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},49678:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}},16748:(t,e,r)=>{var n=r(54066),i=r(8539)(n);t.exports=i},2718:(t,e,r)=>{var n=r(11142),i=r(77259),o=r(16748),a=r(8208);t.exports=function(t,e,r){var s=e+"";return o(t,i(s,a(n(s),r)))}},8539:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var i=e(),o=16-(i-n);if(n=i,o>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},95681:(t,e,r)=>{var n=r(35699);t.exports=function(){this.__data__=new n,this.size=0}},19487:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},14539:t=>{t.exports=function(t){return this.__data__.get(t)}},19999:t=>{t.exports=function(t){return this.__data__.has(t)}},82060:(t,e,r)=>{var n=r(35699),i=r(92998),o=r(55126);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(t,e),this.size=r.size,this}},92914:t=>{t.exports=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}},3596:(t,e,r)=>{var n=r(88773),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));t.exports=a},32823:(t,e,r)=>{var n=r(26080);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},30082:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},88460:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},8208:(t,e,r)=>{var n=r(93666),i=r(67583),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return n(o,(function(r){var n="_."+r[0];e&r[1]&&!i(t,n)&&t.push(n)})),t.sort()}},46543:(t,e,r)=>{var n=r(5096),i=r(81906),o=r(57218);t.exports=function(t){if(t instanceof n)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},36684:(t,e,r)=>{var n=r(12746);t.exports=function(t,e,r){return e=r?void 0:e,e=t&&null==e?t.length:e,n(t,128,void 0,void 0,void 0,void 0,e)}},83401:(t,e,r)=>{var n=r(24253),i=r(72251),o=r(63792),a=Math.ceil,s=Math.max;t.exports=function(t,e,r){e=(r?i(t,e,r):void 0===e)?1:s(o(e),0);var u=null==t?0:t.length;if(!u||e<1)return[];for(var c=0,l=0,f=Array(a(u/e));c<u;)f[l++]=n(t,c,c+=e);return f}},7909:(t,e,r)=>{var n=r(84375);t.exports=function(t){return n(t,4)}},81028:(t,e,r)=>{var n=r(84375);t.exports=function(t){return n(t,5)}},76917:(t,e,r)=>{var n=r(84375);t.exports=function(t,e){return n(t,5,e="function"==typeof e?e:void 0)}},17506:t=>{t.exports=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i}},18395:t=>{t.exports=function(t){return function(){return t}}},97892:(t,e,r)=>{var n=r(12746);function i(t,e,r){var o=n(t,8,void 0,void 0,void 0,void 0,void 0,e=r?void 0:e);return o.placeholder=i.placeholder,o}i.placeholder={},t.exports=i},36553:(t,e,r)=>{var n=r(48386),i=r(59954),o=r(72251),a=r(45531),s=Object.prototype,u=s.hasOwnProperty,c=n((function(t,e){t=Object(t);var r=-1,n=e.length,c=n>2?e[2]:void 0;for(c&&o(e[0],e[1],c)&&(n=1);++r<n;)for(var l=e[r],f=a(l),d=-1,p=f.length;++d<p;){var h=f[d],y=t[h];(void 0===y||i(y,s[h])&&!u.call(t,h))&&(t[h]=l[h])}return t}));t.exports=c},11894:(t,e,r)=>{var n=r(69315),i=r(44777),o=r(48386),a=r(6778),s=o((function(t,e){return a(t)?n(t,i(e,1,a,!0)):[]}));t.exports=s},59954:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},11954:(t,e,r)=>{var n=r(72076),i=r(10549),o=r(61051),a=r(44490),s=r(72251);t.exports=function(t,e,r){var u=a(t)?n:i;return r&&s(t,e,r)&&(e=void 0),u(t,o(e,3))}},12347:(t,e,r)=>{var n=r(37187),i=r(59800),o=r(61051),a=r(44490);t.exports=function(t,e){return(a(t)?n:i)(t,o(e,3))}},84868:(t,e,r)=>{var n=r(97215)(r(82654));t.exports=n},82654:(t,e,r)=>{var n=r(44331),i=r(61051),o=r(63792),a=Math.max;t.exports=function(t,e,r){var s=null==t?0:t.length;if(!s)return-1;var u=null==r?0:o(r);return u<0&&(u=a(s+u,0)),n(t,i(e,3),u)}},66380:(t,e,r)=>{t.exports=r(51806)},99991:(t,e,r)=>{var n=r(44777),i=r(96601);t.exports=function(t,e){return n(i(t,e),1)}},610:(t,e,r)=>{var n=r(44777);t.exports=function(t){return null!=t&&t.length?n(t,1):[]}},89074:(t,e,r)=>{var n=r(64579)();t.exports=n},22346:(t,e,r)=>{var n=r(93194),i=r(48051),o=Array.prototype.push;function a(t,e){return 2==e?function(e,r){return t(e,r)}:function(e){return t(e)}}function s(t){for(var e=t?t.length:0,r=Array(e);e--;)r[e]=t[e];return r}function u(t,e){return function(){var r=arguments.length;if(r){for(var n=Array(r);r--;)n[r]=arguments[r];var i=n[0]=e.apply(void 0,n);return t.apply(void 0,n),i}}}t.exports=function t(e,r,c,l){var f="function"==typeof r,d=r===Object(r);if(d&&(l=c,c=r,r=void 0),null==c)throw new TypeError;l||(l={});var p={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},h=f?c:i,y="curry"in l&&l.curry,m="fixed"in l&&l.fixed,g="rearg"in l&&l.rearg,b=f?c.runInContext():void 0,v=f?c:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},w=v.ary,O=v.assign,j=v.clone,x=v.curry,P=v.forEach,_=v.isArray,S=v.isError,D=v.isFunction,k=v.isWeakMap,A=v.keys,C=v.rearg,T=v.toInteger,E=v.toPath,I=A(n.aryMethod),R={castArray:function(t){return function(){var e=arguments[0];return _(e)?t(s(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[1],r=t(arguments[0],e),n=r.length;return p.cap&&"number"==typeof e?(e=e>2?e-2:1,n&&n<=e?r:a(r,e)):r}},mixin:function(t){return function(e){var r=this;if(!D(r))return t(r,Object(e));var n=[];return P(A(e),(function(t){D(e[t])&&n.push([t,r.prototype[t]])})),t(r,Object(e)),P(n,(function(t){var e=t[1];D(e)?r.prototype[t[0]]=e:delete r.prototype[t[0]]})),r}},nthArg:function(t){return function(e){var r=e<0?1:T(e)+1;return x(t(e),r)}},rearg:function(t){return function(e,r){var n=r?r.length:0;return x(t(e,r),n)}},runInContext:function(r){return function(n){return t(e,r(n),l)}}};function F(t,e,r){if(p.fixed&&(m||!n.skipFixed[t])){var i=n.methodSpread[t],a=i&&i.start;return void 0===a?w(e,r):function(t,e){return function(){for(var r=arguments.length,n=r-1,i=Array(r);r--;)i[r]=arguments[r];var a=i[e],s=i.slice(0,e);return a&&o.apply(s,a),e!=n&&o.apply(s,i.slice(e+1)),t.apply(this,s)}}(e,a)}return e}function M(t,e,r){return p.rearg&&r>1&&(g||!n.skipRearg[t])?C(e,n.methodRearg[t]||n.aryRearg[r]):e}function U(t,e){for(var r=-1,n=(e=E(e)).length,i=n-1,o=j(Object(t)),a=o;null!=a&&++r<n;){var s=e[r],u=a[s];null==u||D(u)||S(u)||k(u)||(a[s]=j(r==i?u:Object(u))),a=a[s]}return o}function B(e,r){var i=n.aliasToReal[e]||e,o=n.remap[i]||i,a=l;return function(e){var n=f?b:v,s=f?b[o]:r,u=O(O({},a),e);return t(n,i,s,u)}}function N(t,e){return function(){var r=arguments.length;if(!r)return t();for(var n=Array(r);r--;)n[r]=arguments[r];var i=p.rearg?0:r-1;return n[i]=e(n[i]),t.apply(void 0,n)}}function L(t,e,r){var i,o=n.aliasToReal[t]||t,c=e,l=R[o];return l?c=l(e):p.immutable&&(n.mutate.array[o]?c=u(e,s):n.mutate.object[o]?c=u(e,function(t){return function(e){return t({},e)}}(e)):n.mutate.set[o]&&(c=u(e,U))),P(I,(function(t){return P(n.aryMethod[t],(function(e){if(o==e){var r=n.methodSpread[o],s=r&&r.afterRearg;return i=s?F(o,M(o,c,t),t):M(o,F(o,c,t),t),i=function(t,e,r){return y||p.curry&&r>1?x(e,r):e}(0,i=function(t,e){if(p.cap){var r=n.iterateeRearg[t];if(r)return function(t,e){return N(t,(function(t){var r=e.length;return function(t,e){return 2==e?function(e,r){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}(C(a(t,r),e),r)}))}(e,r);var i=!f&&n.iterateeAry[t];if(i)return function(t,e){return N(t,(function(t){return"function"==typeof t?a(t,e):t}))}(e,i)}return e}(o,i),t),!1}})),!i})),i||(i=c),i==e&&(i=y?x(i,1):function(){return e.apply(this,arguments)}),i.convert=B(o,e),i.placeholder=e.placeholder=r,i}if(!d)return L(r,c,h);var W=c,z=[];return P(I,(function(t){P(n.aryMethod[t],(function(t){var e=W[n.remap[t]||t];e&&z.push([t,L(t,e,W)])}))})),P(A(W),(function(t){var e=W[t];if("function"==typeof e){for(var r=z.length;r--;)if(z[r][0]==t)return;e.convert=B(t,e),z.push([t,e])}})),P(z,(function(t){W[t[0]]=t[1]})),W.convert=function(t){return W.runInContext.convert(t)(void 0)},W.placeholder=W,P(A(W),(function(t){P(n.realToAlias[t]||[],(function(e){W[e]=W[t]}))})),W}},39478:t=>{t.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},93194:(t,e)=>{e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,r=e.aliasToReal,n={};for(var i in r){var o=r[i];t.call(n,o)?n[o].push(i):n[o]=[i]}return n}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},41849:(t,e,r)=>{t.exports={ary:r(36684),assign:r(22519),clone:r(7909),curry:r(97892),forEach:r(93666),isArray:r(44490),isError:r(85403),isFunction:r(49274),isWeakMap:r(80466),iteratee:r(18718),keys:r(70679),rearg:r(30036),toInteger:r(63792),toPath:r(10692)}},85081:(t,e,r)=>{var n=r(22346),i=r(41849);t.exports=function(t,e,r){return n(i,t,e,r)}},33969:(t,e,r)=>{var n=r(85081)("filter",r(12347));n.placeholder=r(48051),t.exports=n},27098:(t,e,r)=>{var n=r(85081)("flatMap",r(99991));n.placeholder=r(48051),t.exports=n},76967:(t,e,r)=>{var n=r(85081)("isEmpty",r(37693),r(39478));n.placeholder=r(48051),t.exports=n},3223:(t,e,r)=>{var n=r(85081)("map",r(96601));n.placeholder=r(48051),t.exports=n},44384:(t,e,r)=>{var n=r(85081)("omitBy",r(76654));n.placeholder=r(48051),t.exports=n},34183:(t,e,r)=>{var n=r(85081)("partition",r(23334));n.placeholder=r(48051),t.exports=n},48051:t=>{t.exports={}},23977:(t,e,r)=>{var n=r(85081)("replace",r(23972));n.placeholder=r(48051),t.exports=n},95175:(t,e,r)=>{var n=r(85081)("sortBy",r(35395));n.placeholder=r(48051),t.exports=n},91404:(t,e,r)=>{var n=r(85081)("uniq",r(39899),r(39478));n.placeholder=r(48051),t.exports=n},35182:(t,e,r)=>{var n=r(85081)("uniqBy",r(21882));n.placeholder=r(48051),t.exports=n},39218:(t,e,r)=>{var n=r(85081)("values",r(52948),r(39478));n.placeholder=r(48051),t.exports=n},48870:(t,e,r)=>{var n=r(85081)("zip",r(99449));n.placeholder=r(48051),t.exports=n},67882:(t,e,r)=>{var n=r(87245);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},45763:(t,e,r)=>{var n=r(77274),i=r(18359),o=Object.prototype.hasOwnProperty,a=i((function(t,e,r){o.call(t,r)?t[r].push(e):n(t,r,[e])}));t.exports=a},90576:(t,e,r)=>{var n=r(68983),i=r(71060);t.exports=function(t,e){return null!=t&&i(t,e,n)}},3476:(t,e,r)=>{var n=r(2014),i=r(71060);t.exports=function(t,e){return null!=t&&i(t,e,n)}},51806:t=>{t.exports=function(t){return t&&t.length?t[0]:void 0}},29205:t=>{t.exports=function(t){return t}},5374:(t,e,r)=>{var n=r(57549),i=r(92054),o=r(89608),a=r(63792),s=r(52948),u=Math.max;t.exports=function(t,e,r,c){t=i(t)?t:s(t),r=r&&!c?a(r):0;var l=t.length;return r<0&&(r=u(l+r,0)),o(t)?r<=l&&t.indexOf(e,r)>-1:!!l&&n(t,e,r)>-1}},42633:(t,e,r)=>{var n=r(71732),i=r(37159),o=r(48386),a=r(51442),s=o((function(t){var e=n(t,a);return e.length&&e[0]===t[0]?i(e):[]}));t.exports=s},80150:(t,e,r)=>{var n=r(35911),i=r(4394),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},44490:t=>{var e=Array.isArray;t.exports=e},92054:(t,e,r)=>{var n=r(49274),i=r(483);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},6778:(t,e,r)=>{var n=r(92054),i=r(4394);t.exports=function(t){return i(t)&&n(t)}},34772:(t,e,r)=>{t=r.nmd(t);var n=r(29226),i=r(69171),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u},37693:(t,e,r)=>{var n=r(70679),i=r(44305),o=r(80150),a=r(44490),s=r(92054),u=r(34772),c=r(32649),l=r(10345),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||l(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!n(t).length;for(var r in t)if(f.call(t,r))return!1;return!0}},78838:(t,e,r)=>{var n=r(27283);t.exports=function(t,e){return n(t,e)}},85403:(t,e,r)=>{var n=r(4815),i=r(4394),o=r(93064);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!o(t)}},49274:(t,e,r)=>{var n=r(4815),i=r(46139);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},483:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},4467:(t,e,r)=>{var n=r(80643),i=r(99912),o=r(19343),a=o&&o.isMap,s=a?i(a):n;t.exports=s},20253:t=>{t.exports=function(t){return null==t}},46139:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},4394:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},93064:(t,e,r)=>{var n=r(4815),i=r(80809),o=r(4394),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==l}},3148:(t,e,r)=>{var n=r(15449),i=r(99912),o=r(19343),a=o&&o.isSet,s=a?i(a):n;t.exports=s},89608:(t,e,r)=>{var n=r(4815),i=r(44490),o=r(4394);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==n(t)}},26080:(t,e,r)=>{var n=r(4815),i=r(4394);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},10345:(t,e,r)=>{var n=r(30241),i=r(99912),o=r(19343),a=o&&o.isTypedArray,s=a?i(a):n;t.exports=s},24245:t=>{t.exports=function(t){return void 0===t}},80466:(t,e,r)=>{var n=r(44305),i=r(4394);t.exports=function(t){return i(t)&&"[object WeakMap]"==n(t)}},18718:(t,e,r)=>{var n=r(84375),i=r(61051);t.exports=function(t){return i("function"==typeof t?t:n(t,1))}},81986:(t,e,r)=>{var n=r(77274),i=r(18359)((function(t,e,r){n(t,r,e)}));t.exports=i},15211:(t,e,r)=>{var n=r(52483),i=r(70679),o=r(92054);t.exports=function(t){return o(t)?n(t):i(t)}},45531:(t,e,r)=>{var n=r(52483),i=r(50260),o=r(92054);t.exports=function(t){return o(t)?n(t,!0):i(t)}},51805:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},96601:(t,e,r)=>{var n=r(71732),i=r(61051),o=r(27578),a=r(44490);t.exports=function(t,e){return(a(t)?n:o)(t,i(e,3))}},51925:(t,e,r)=>{var n=r(55126);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},46186:(t,e,r)=>{var n=r(36161),i=r(35969)((function(t,e,r){n(t,e,r)}));t.exports=i},40596:t=>{t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},30299:t=>{t.exports=function(){}},84799:(t,e,r)=>{var n=r(71732),i=r(84375),o=r(40406),a=r(20450),s=r(10681),u=r(13618),c=r(2082),l=r(93412),f=c((function(t,e){var r={};if(null==t)return r;var c=!1;e=n(e,(function(e){return e=a(e,t),c||(c=e.length>1),e})),s(t,l(t),r),c&&(r=i(r,7,u));for(var f=e.length;f--;)o(r,e[f]);return r}));t.exports=f},76654:(t,e,r)=>{var n=r(61051),i=r(40596),o=r(72626);t.exports=function(t,e){return o(t,i(n(e)))}},78307:(t,e,r)=>{var n=r(48386),i=r(12746),o=r(77736),a=r(51056),s=n((function(t,e){var r=a(e,o(s));return i(t,32,void 0,e,r)}));s.placeholder={},t.exports=s},23334:(t,e,r)=>{var n=r(18359)((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));t.exports=n},36614:(t,e,r)=>{var n=r(59831),i=r(2082)((function(t,e){return null==t?{}:n(t,e)}));t.exports=i},72626:(t,e,r)=>{var n=r(71732),i=r(61051),o=r(40699),a=r(93412);t.exports=function(t,e){if(null==t)return{};var r=n(a(t),(function(t){return[t]}));return e=i(e),o(t,r,(function(t,r){return e(t,r[0])}))}},10850:(t,e,r)=>{var n=r(73021),i=r(88874),o=r(5137),a=r(32823);t.exports=function(t){return o(t)?n(a(t)):i(t)}},32354:(t,e,r)=>{var n=r(84171)();t.exports=n},30036:(t,e,r)=>{var n=r(12746),i=r(2082)((function(t,e){return n(t,256,void 0,void 0,void 0,e)}));t.exports=i},16206:(t,e,r)=>{var n=r(61051),i=r(17906);t.exports=function(t,e){var r=[];if(!t||!t.length)return r;var o=-1,a=[],s=t.length;for(e=n(e,3);++o<s;){var u=t[o];e(u,o,t)&&(r.push(u),a.push(o))}return i(t,a),r}},23972:(t,e,r)=>{var n=r(26478);t.exports=function(){var t=arguments,e=n(t[0]);return t.length<3?e:e.replace(t[1],t[2])}},3335:(t,e,r)=>{var n=r(20450),i=r(49274),o=r(32823);t.exports=function(t,e,r){var a=-1,s=(e=n(e,t)).length;for(s||(s=1,t=void 0);++a<s;){var u=null==t?void 0:t[o(e[a])];void 0===u&&(a=s,u=r),t=i(u)?u.call(t):u}return t}},53991:(t,e,r)=>{var n=r(34720);t.exports=function(t,e,r){return null==t?t:n(t,e,r)}},35395:(t,e,r)=>{var n=r(44777),i=r(40388),o=r(48386),a=r(72251),s=o((function(t,e){if(null==t)return[];var r=e.length;return r>1&&a(t,e[0],e[1])?e=[]:r>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,n(e,1),[])}));t.exports=s},53735:t=>{t.exports=function(){return[]}},69171:t=>{t.exports=function(){return!1}},65525:(t,e,r)=>{var n=r(60738);t.exports=function(t){return t?Infinity===(t=n(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},63792:(t,e,r)=>{var n=r(65525);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},60738:(t,e,r)=>{var n=r(34482),i=r(46139),o=r(26080),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=s.test(t);return r||u.test(t)?c(t.slice(2),r?2:8):a.test(t)?NaN:+t}},60062:(t,e,r)=>{var n=r(34601)(r(15211));t.exports=n},10692:(t,e,r)=>{var n=r(71732),i=r(57218),o=r(44490),a=r(26080),s=r(3596),u=r(32823),c=r(26478);t.exports=function(t){return o(t)?n(t,u):a(t)?[t]:i(s(c(t)))}},9655:(t,e,r)=>{var n=r(10681),i=r(45531);t.exports=function(t){return n(t,i(t))}},26478:(t,e,r)=>{var n=r(92205);t.exports=function(t){return null==t?"":n(t)}},98857:(t,e,r)=>{var n=r(44777),i=r(48386),o=r(38168),a=r(6778),s=i((function(t){return o(n(t,1,a,!0))}));t.exports=s},39899:(t,e,r)=>{var n=r(38168);t.exports=function(t){return t&&t.length?n(t):[]}},21882:(t,e,r)=>{var n=r(61051),i=r(38168);t.exports=function(t,e){return t&&t.length?i(t,n(e,2)):[]}},47704:(t,e,r)=>{var n=r(38168);t.exports=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?n(t,void 0,e):[]}},85745:(t,e,r)=>{var n=r(37187),i=r(71732),o=r(73021),a=r(91547),s=r(6778),u=Math.max;t.exports=function(t){if(!t||!t.length)return[];var e=0;return t=n(t,(function(t){if(s(t))return e=u(t.length,e),!0})),a(e,(function(e){return i(t,o(e))}))}},52948:(t,e,r)=>{var n=r(80457),i=r(15211);t.exports=function(t){return null==t?[]:n(t,i(t))}},89681:(t,e,r)=>{var n=r(5096),i=r(81906),o=r(74726),a=r(44490),s=r(4394),u=r(46543),c=Object.prototype.hasOwnProperty;function l(t){if(s(t)&&!a(t)&&!(t instanceof n)){if(t instanceof i)return t;if(c.call(t,"__wrapped__"))return u(t)}return new i(t)}l.prototype=o.prototype,l.prototype.constructor=l,t.exports=l},99449:(t,e,r)=>{var n=r(48386)(r(85745));t.exports=n},29017:(t,e,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,y=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,b=String.prototype.slice,v=String.prototype.replace,w=String.prototype.toUpperCase,O=String.prototype.toLowerCase,j=RegExp.prototype.test,x=Array.prototype.concat,P=Array.prototype.join,_=Array.prototype.slice,S=Math.floor,D="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,T="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,E=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function R(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||j.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-S(-t):S(t);if(n!==t){var i=String(n),o=b.call(e,i.length+1);return v.call(i,r,"$&_")+"."+v.call(v.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(e,r,"$&_")}var F=r(6695),M=F.custom,U=z(M)?M:null;function B(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function N(t){return v.call(String(t),/"/g,"&quot;")}function L(t){return!("[object Array]"!==H(t)||T&&"object"==typeof t&&T in t)}function W(t){return!("[object RegExp]"!==H(t)||T&&"object"==typeof t&&T in t)}function z(t){if(C)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!A)return!1;try{return A.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,n,i){var s=r||{};if($(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if($(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!$(s,"customInspect")||s.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var y=s.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return V(e,s);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var w=String(e);return y?R(e,w):w}if("bigint"==typeof e){var j=String(e)+"n";return y?R(e,j):j}var S=void 0===s.depth?5:s.depth;if(void 0===n&&(n=0),n>=S&&S>0&&"object"==typeof e)return L(e)?"[Array]":"[Object]";var k,M=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=P.call(Array(t.indent+1)," ")}return{base:r,prev:P.call(Array(e+1),r)}}(s,n);if(void 0===i)i=[];else if(q(i,e)>=0)return"[Circular]";function G(e,r,o){if(r&&(i=_.call(i)).push(r),o){var a={depth:s.depth};return $(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),t(e,a,n+1,i)}return t(e,s,n+1,i)}if("function"==typeof e&&!W(e)){var Y=function(t){if(t.name)return t.name;var e=g.call(m.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),tt=Z(e,G);return"[Function"+(Y?": "+Y:" (anonymous)")+"]"+(tt.length>0?" { "+P.call(tt,", ")+" }":"")}if(z(e)){var et=C?v.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(e);return"object"!=typeof e||C?et:Q(et)}if((k=e)&&"object"==typeof k&&("undefined"!=typeof HTMLElement&&k instanceof HTMLElement||"string"==typeof k.nodeName&&"function"==typeof k.getAttribute)){for(var rt="<"+O.call(String(e.nodeName)),nt=e.attributes||[],it=0;it<nt.length;it++)rt+=" "+nt[it].name+"="+B(N(nt[it].value),"double",s);return rt+=">",e.childNodes&&e.childNodes.length&&(rt+="..."),rt+"</"+O.call(String(e.nodeName))+">"}if(L(e)){if(0===e.length)return"[]";var ot=Z(e,G);return M&&!function(t){for(var e=0;e<t.length;e++)if(q(t[e],"\n")>=0)return!1;return!0}(ot)?"["+X(ot,M)+"]":"[ "+P.call(ot,", ")+" ]"}if(function(t){return!("[object Error]"!==H(t)||T&&"object"==typeof t&&T in t)}(e)){var at=Z(e,G);return"cause"in Error.prototype||!("cause"in e)||E.call(e,"cause")?0===at.length?"["+String(e)+"]":"{ ["+String(e)+"] "+P.call(at,", ")+" }":"{ ["+String(e)+"] "+P.call(x.call("[cause]: "+G(e.cause),at),", ")+" }"}if("object"==typeof e&&u){if(U&&"function"==typeof e[U]&&F)return F(e,{depth:S-n});if("symbol"!==u&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!o||!t||"object"!=typeof t)return!1;try{o.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var st=[];return a&&a.call(e,(function(t,r){st.push(G(r,e,!0)+" => "+G(t,e))})),K("Map",o.call(e),st,M)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{o.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var ut=[];return l&&l.call(e,(function(t){ut.push(G(t,e))})),K("Set",c.call(e),ut,M)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{d.call(t,d)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return J("WeakMap");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t,d);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return J("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(t){}return!1}(e))return J("WeakRef");if(function(t){return!("[object Number]"!==H(t)||T&&"object"==typeof t&&T in t)}(e))return Q(G(Number(e)));if(function(t){if(!t||"object"!=typeof t||!D)return!1;try{return D.call(t),!0}catch(t){}return!1}(e))return Q(G(D.call(e)));if(function(t){return!("[object Boolean]"!==H(t)||T&&"object"==typeof t&&T in t)}(e))return Q(h.call(e));if(function(t){return!("[object String]"!==H(t)||T&&"object"==typeof t&&T in t)}(e))return Q(G(String(e)));if(!function(t){return!("[object Date]"!==H(t)||T&&"object"==typeof t&&T in t)}(e)&&!W(e)){var ct=Z(e,G),lt=I?I(e)===Object.prototype:e instanceof Object||e.constructor===Object,ft=e instanceof Object?"":"null prototype",dt=!lt&&T&&Object(e)===e&&T in e?b.call(H(e),8,-1):ft?"Object":"",pt=(lt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(dt||ft?"["+P.call(x.call([],dt||[],ft||[]),": ")+"] ":"");return 0===ct.length?pt+"{}":M?pt+"{"+X(ct,M)+"}":pt+"{ "+P.call(ct,", ")+" }"}return String(e)};var G=Object.prototype.hasOwnProperty||function(t){return t in this};function $(t,e){return G.call(t,e)}function H(t){return y.call(t)}function q(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function V(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return V(b.call(t,0,e.maxStringLength),e)+n}return B(v.call(v.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",e)}function Y(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+w.call(e.toString(16))}function Q(t){return"Object("+t+")"}function J(t){return t+" { ? }"}function K(t,e,r,n){return t+" ("+e+") {"+(n?X(r,n):P.call(r,", "))+"}"}function X(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+P.call(t,","+r)+"\n"+e.prev}function Z(t,e){var r=L(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=$(t,i)?e(t[i],t):""}var o,a="function"==typeof k?k(t):[];if(C){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in t)$(t,u)&&(r&&String(Number(u))===u&&u<t.length||C&&o["$"+u]instanceof Symbol||(j.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if("function"==typeof k)for(var c=0;c<a.length;c++)E.call(t,a[c])&&n.push("["+e(a[c])+"]: "+e(t[a[c]],t));return n}},26991:t=>{var e=String.prototype.replace,r=/%20/g,n="RFC3986";t.exports={default:n,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:n}},94778:(t,e,r)=>{var n=r(8216),i=r(81327),o=r(26991);t.exports={formats:o,parse:i,stringify:n}},81327:(t,e,r)=>{var n=r(24506),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},u=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c=function(t,e,r,n){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(o),c=s?o.slice(0,s.index):o,l=[];if(c){if(!r.plainObjects&&i.call(Object.prototype,c)&&!r.allowPrototypes)return;l.push(c)}for(var f=0;r.depth>0&&null!==(s=a.exec(o))&&f<r.depth;){if(f+=1,!r.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(t,e,r,n){for(var i=n?e:u(e,r),o=t.length-1;o>=0;--o){var a,s=t[o];if("[]"===s&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(c,10);r.parseArrays||""!==c?!isNaN(l)&&s!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[])[l]=i:"__proto__"!==c&&(a[c]=i):a={0:i}}i=a}return i}(l,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:a.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var r,c={},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=e.parameterLimit===1/0?void 0:e.parameterLimit,d=l.split(e.delimiter,f),p=-1,h=e.charset;if(e.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?h="utf-8":"utf8=%26%2310003%3B"===d[r]&&(h="iso-8859-1"),p=r,r=d.length);for(r=0;r<d.length;++r)if(r!==p){var y,m,g=d[r],b=g.indexOf("]="),v=-1===b?g.indexOf("="):b+1;-1===v?(y=e.decoder(g,a.decoder,h,"key"),m=e.strictNullHandling?null:""):(y=e.decoder(g.slice(0,v),a.decoder,h,"key"),m=n.maybeMap(u(g.slice(v+1),e),(function(t){return e.decoder(t,a.decoder,h,"value")}))),m&&e.interpretNumericEntities&&"iso-8859-1"===h&&(m=s(m)),g.indexOf("[]=")>-1&&(m=o(m)?[m]:m),i.call(c,y)?c[y]=n.combine(c[y],m):c[y]=m}return c}(t,r):t,f=r.plainObjects?Object.create(null):{},d=Object.keys(l),p=0;p<d.length;++p){var h=d[p],y=c(h,l[h],r,"string"==typeof t);f=n.merge(f,y,r)}return!0===r.allowSparse?f:n.compact(f)}},8216:(t,e,r)=>{var n=r(68413),i=r(24506),o=r(26991),a=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},u=Array.isArray,c=Array.prototype.push,l=function(t,e){c.apply(t,u(e)?e:[e])},f=Date.prototype.toISOString,d=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},h={},y=function t(e,r,o,a,s,c,f,d,y,m,g,b,v,w,O,j){for(var x,P=e,_=j,S=0,D=!1;void 0!==(_=_.get(h))&&!D;){var k=_.get(e);if(S+=1,void 0!==k){if(k===S)throw new RangeError("Cyclic object value");D=!0}void 0===_.get(h)&&(S=0)}if("function"==typeof d?P=d(r,P):P instanceof Date?P=g(P):"comma"===o&&u(P)&&(P=i.maybeMap(P,(function(t){return t instanceof Date?g(t):t}))),null===P){if(s)return f&&!w?f(r,p.encoder,O,"key",b):r;P=""}if("string"==typeof(x=P)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||i.isBuffer(P))return f?[v(w?r:f(r,p.encoder,O,"key",b))+"="+v(f(P,p.encoder,O,"value",b))]:[v(r)+"="+v(String(P))];var A,C=[];if(void 0===P)return C;if("comma"===o&&u(P))w&&f&&(P=i.maybeMap(P,f)),A=[{value:P.length>0?P.join(",")||null:void 0}];else if(u(d))A=d;else{var T=Object.keys(P);A=y?T.sort(y):T}for(var E=a&&u(P)&&1===P.length?r+"[]":r,I=0;I<A.length;++I){var R=A[I],F="object"==typeof R&&void 0!==R.value?R.value:P[R];if(!c||null!==F){var M=u(P)?"function"==typeof o?o(E,R):E:E+(m?"."+R:"["+R+"]");j.set(e,S);var U=n();U.set(h,j),l(C,t(F,M,o,a,s,c,"comma"===o&&w&&u(P)?null:f,d,y,m,g,b,v,w,O,U))}}return C};t.exports=function(t,e){var r,i=t,c=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==t.format){if(!a.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=o.formatters[r],i=p.filter;return("function"==typeof t.filter||u(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof c.filter?i=(0,c.filter)("",i):u(c.filter)&&(r=c.filter);var f,d=[];if("object"!=typeof i||null===i)return"";f=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var h=s[f];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var m="comma"===h&&e&&e.commaRoundTrip;r||(r=Object.keys(i)),c.sort&&r.sort(c.sort);for(var g=n(),b=0;b<r.length;++b){var v=r[b];c.skipNulls&&null===i[v]||l(d,y(i[v],v,h,m,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}var w=d.join(c.delimiter),O=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),w.length>0?O+w:""}},24506:(t,e,r)=>{var n=r(26991),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var c=s[u],l=a[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:a,prop:c}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,i,o){if(0===t.length)return t;var s=t;if("symbol"==typeof t?s=Symbol.prototype.toString.call(t):"string"!=typeof t&&(s=String(t)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var u="",c=0;c<s.length;++c){var l=s.charCodeAt(c);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===n.RFC1738&&(40===l||41===l)?u+=s.charAt(c):l<128?u+=a[l]:l<2048?u+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?u+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(c+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(c)),u+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return u},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(o(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(o(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var a=e;return o(e)&&!o(r)&&(a=s(e,n)),o(e)&&o(r)?(r.forEach((function(r,o){if(i.call(e,o)){var a=e[o];a&&"object"==typeof a&&r&&"object"==typeof r?e[o]=t(a,r,n):e.push(r)}else e[o]=r})),e):Object.keys(r).reduce((function(e,o){var a=r[o];return i.call(e,o)?e[o]=t(e[o],a,n):e[o]=a,e}),a)}}},68413:(t,e,r)=>{var n=r(18343),i=r(54703),o=r(29017),a=n("%TypeError%"),s=n("%WeakMap%",!0),u=n("%Map%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),h=i("Map.prototype.has",!0),y=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new a("Side channel does not contain "+o(t))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(t)return c(t,n)}else if(u){if(e)return d(e,n)}else if(r)return function(t,e){var r=y(t,e);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(t)return f(t,n)}else if(u){if(e)return h(e,n)}else if(r)return function(t,e){return!!y(t,e)}(r,n);return!1},set:function(n,i){s&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new s),l(t,n,i)):u?(e||(e=new u),p(e,n,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=y(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,i))}};return n}},74507:t=>{t.exports=function(t){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(t,e){var r=t[0],n=t[1],i=t[2],o=t[3];n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&i)+e[1]-389564586|0)<<12|o>>>20)+r|0)&r|~o&n)+e[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&r)+e[3]-1044525330|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&i)+e[5]+1200080426|0)<<12|o>>>20)+r|0)&r|~o&n)+e[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&r)+e[7]-45705983|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&i)+e[9]-1958414417|0)<<12|o>>>20)+r|0)&r|~o&n)+e[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&r)+e[11]-1990404162|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&i)+e[13]-40341101|0)<<12|o>>>20)+r|0)&r|~o&n)+e[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&r)+e[15]+1236535329|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[1]-165796510|0)<<5|r>>>27)+n|0)&i|n&~i)+e[6]-1069501632|0)<<9|o>>>23)+r|0)&n|r&~n)+e[11]+643717713|0)<<14|i>>>18)+o|0)&r|o&~r)+e[0]-373897302|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[5]-701558691|0)<<5|r>>>27)+n|0)&i|n&~i)+e[10]+38016083|0)<<9|o>>>23)+r|0)&n|r&~n)+e[15]-660478335|0)<<14|i>>>18)+o|0)&r|o&~r)+e[4]-405537848|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[9]+568446438|0)<<5|r>>>27)+n|0)&i|n&~i)+e[14]-1019803690|0)<<9|o>>>23)+r|0)&n|r&~n)+e[3]-187363961|0)<<14|i>>>18)+o|0)&r|o&~r)+e[8]+1163531501|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[13]-1444681467|0)<<5|r>>>27)+n|0)&i|n&~i)+e[2]-51403784|0)<<9|o>>>23)+r|0)&n|r&~n)+e[7]+1735328473|0)<<14|i>>>18)+o|0)&r|o&~r)+e[12]-1926607734|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[5]-378558|0)<<4|r>>>28)+n|0)^n^i)+e[8]-2022574463|0)<<11|o>>>21)+r|0)^r^n)+e[11]+1839030562|0)<<16|i>>>16)+o|0)^o^r)+e[14]-35309556|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[1]-1530992060|0)<<4|r>>>28)+n|0)^n^i)+e[4]+1272893353|0)<<11|o>>>21)+r|0)^r^n)+e[7]-155497632|0)<<16|i>>>16)+o|0)^o^r)+e[10]-1094730640|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[13]+681279174|0)<<4|r>>>28)+n|0)^n^i)+e[0]-358537222|0)<<11|o>>>21)+r|0)^r^n)+e[3]-722521979|0)<<16|i>>>16)+o|0)^o^r)+e[6]+76029189|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[9]-640364487|0)<<4|r>>>28)+n|0)^n^i)+e[12]-421815835|0)<<11|o>>>21)+r|0)^r^n)+e[15]+530742520|0)<<16|i>>>16)+o|0)^o^r)+e[2]-995338651|0)<<23|n>>>9)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[0]-198630844|0)<<6|r>>>26)+n|0)|~i))+e[7]+1126891415|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[14]-1416354905|0)<<15|i>>>17)+o|0)|~r))+e[5]-57434055|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[12]+1700485571|0)<<6|r>>>26)+n|0)|~i))+e[3]-1894986606|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[10]-1051523|0)<<15|i>>>17)+o|0)|~r))+e[1]-2054922799|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[8]+1873313359|0)<<6|r>>>26)+n|0)|~i))+e[15]-30611744|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[6]-1560198380|0)<<15|i>>>17)+o|0)|~r))+e[13]+1309151649|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[4]-145523070|0)<<6|r>>>26)+n|0)|~i))+e[11]-1120210379|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[2]+718787259|0)<<15|i>>>17)+o|0)|~r))+e[9]-343485551|0)<<21|n>>>11)+i|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=i+t[2]|0,t[3]=o+t[3]|0}function n(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function i(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function o(t){var e,i,o,a,s,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)r(l,n(t.substring(e-64,e)));for(i=(t=t.substring(e-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(r(l,o),e=0;e<16;e+=1)o[e]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,r(l,o),l}function a(t){var r,n="";for(r=0;r<4;r+=1)n+=e[t>>8*r+4&15]+e[t>>8*r&15];return n}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=a(t[e]);return t.join("")}function u(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function c(t){var e,r=[],n=t.length;for(e=0;e<n-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function l(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(e,r){var n,i,o,a,s=this.byteLength,u=t(e,s),c=s;return undefined!==r&&(c=t(r,s)),u>c?new ArrayBuffer(0):(n=c-u,i=new ArrayBuffer(n),o=new Uint8Array(i),a=new Uint8Array(this,u,n),o.set(a),i)}}(),l.prototype.append=function(t){return this.appendBinary(u(t)),this},l.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,i=this._buff.length;for(e=64;e<=i;e+=64)r(this._hash,n(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},l.prototype.end=function(t){var e,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),r=s(this._hash),t&&(r=c(r)),this.reset(),r},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(t,e){var n,i,o,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(r(this._hash,t),a=0;a<16;a+=1)t[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),o=parseInt(n[1],16)||0,t[14]=i,t[15]=o,r(this._hash,t)},l.hash=function(t,e){return l.hashBinary(u(t),e)},l.hashBinary=function(t,e){var r=s(o(t));return e?c(r):r},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(t){var e,n,o,a,s,u=(n=this._buff.buffer,o=t,a=!0,(s=new Uint8Array(n.byteLength+o.byteLength)).set(new Uint8Array(n)),s.set(new Uint8Array(o),n.byteLength),a?s:s.buffer),c=u.length;for(this._length+=t.byteLength,e=64;e<=c;e+=64)r(this._hash,i(u.subarray(e-64,e)));return this._buff=e-64<c?new Uint8Array(u.buffer.slice(e-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(t){var e,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=n[e]<<(e%4<<3);return this._finish(o,i),r=s(this._hash),t&&(r=c(r)),this.reset(),r},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var t,e=l.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},l.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var r,n=t.length,i=new ArrayBuffer(n),o=new Uint8Array(i);for(r=0;r<n;r+=1)o[r]=t.charCodeAt(r);return e?o:i}(t.buff,!0),l.prototype.setState.call(this,t)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(t,e){var n=s(function(t){var e,n,o,a,s,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)r(l,i(t.subarray(e-64,e)));for(n=(t=e-64<c?t.subarray(e-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)o[e>>2]|=t[e]<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(r(l,o),e=0;e<16;e+=1)o[e]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,r(l,o),l}(new Uint8Array(t)));return e?c(n):n},l}()},73734:(t,e,r)=>{r.d(e,{ej:()=>s,kG:()=>u});var n=r(65890),i="Invariant Violation",o=Object.setPrototypeOf,a=void 0===o?function(t,e){return t.__proto__=e,t}:o,s=function(t){function e(r){void 0===r&&(r=i);var n=t.call(this,"number"==typeof r?i+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=i,a(n,e.prototype),n}return(0,n.ZT)(e,t),e}(Error);function u(t,e){if(!t)throw new s(e)}var c=["log","warn","error","silent"],l=c.indexOf("log");function f(t){return function(){if(c.indexOf(t)>=l)return console[t].apply(console,arguments)}}!function(t){t.log=f("log"),t.warn=f("warn"),t.error=f("error")}(u||(u={})),"object"==typeof process&&"object"==typeof process.env&&process},65890:(t,e,r)=>{r.d(e,{ZT:()=>i,_T:()=>o});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}Object.create,Object.create},40005:(t,e,r)=>{var n;r.d(e,{Z:()=>l});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=[],u=0;u<256;++u)s.push((u+256).toString(16).substr(1));const c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&a.test(t)}(r))throw TypeError("Stringified UUID is invalid");return r},l=function(t,e,r){var n=(t=t||{}).random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return c(n)}},6052:(t,e,r)=>{r.r(e),r.d(e,{DOMException:()=>O,Headers:()=>l,Request:()=>g,Response:()=>v,fetch:()=>j});var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n&&n,i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(t){return t&&o.indexOf(Object.prototype.toString.call(t))>-1};function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i.iterable&&(e[Symbol.iterator]=function(){return e}),e}function l(t){this.map={},t instanceof l?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function p(t){var e=new FileReader,r=d(e);return e.readAsArrayBuffer(t),r}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():i.arrayBuffer&&i.blob&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||a(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(p)}),this.text=function(){var t,e,r,n=f(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,r=d(e=new FileReader),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(t,e){t=s(t),e=u(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},l.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),c(t)},l.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),c(t)},l.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),c(t)},i.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(t,e){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function v(t,e){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},y.call(g.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];v.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})};var O=n.DOMException;try{new O}catch(t){(O=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),O.prototype.constructor=O}function j(t,e){return new Promise((function(r,o){var a=new g(t,e);if(a.signal&&a.signal.aborted)return o(new O("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;setTimeout((function(){r(new v(i,n))}),0)},s.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){o(new O("Aborted","AbortError"))}),0)},s.open(a.method,function(t){try{return""===t&&n.location.href?n.location.href:t}catch(e){return t}}(a.url),!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&(i.blob?s.responseType="blob":i.arrayBuffer&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof l?a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){s.setRequestHeader(t,u(e.headers[t]))})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}j.polyfill=!0,n.fetch||(n.fetch=j,n.Headers=l,n.Request=g,n.Response=v)},11732:(t,e,r)=>{r.d(e,{AZ:()=>i,Ib:()=>n});class n{constructor(t,e){this.item=t,this.validator=e}build(){return this.item}modify(t){return this.item=t(this).build(),this}validate(){if("function"!=typeof this.validator)throw new Error("Validator was not provided!");return this.validator(this.item),this}}function i(t,e,r){return r(new t(e)).build()}},19676:(t,e,r)=>{r.d(e,{W:()=>p});var n=r(29205),i=r.n(n),o=r(89558),a=r(57408),s=r(33082),u=r(7045),c=r(11732),l=r(98962),f=r(25);class d extends u.W2{attribute(t,e){return(0,o.A)(t)?this.item.attribute=t:this.item.attribute=(0,l.a)(t,e),this}defaultDisplayForm(t,e){return(0,a.i_)(t)?this.item.defaultDisplayForm=t:this.item.defaultDisplayForm=(0,f.H)(t,e),this}displayForms(t){return this.item.displayForms=t,this}geoPinDisplayForms(t){return this.item.geoPinDisplayForms=t,this}toExecutionModel(t=i()){if(!this.item.defaultDisplayForm)throw new Error("Cannot convert catalog attribute to execution model, no displayForm found!");const e=t=>{var e;return t.alias(null===(e=this.item.defaultDisplayForm)||void 0===e?void 0:e.title)};return(0,s.YE)(this.item.defaultDisplayForm.ref,(r=>t(e(r))))}}const p=(t=i())=>(0,c.AZ)(d,{type:"attribute"},t)},37754:(t,e,r)=>{r.d(e,{hy:()=>p,xS:()=>y});var n=r(29205),i=r.n(n),o=r(89558),a=r(57408),s=r(18653),u=r(11732),c=r(98962),l=r(25),f=r(37914);class d extends u.Ib{granularity(t){return this.item.granularity=t,this}attribute(t,e){return(0,o.A)(t)?this.item.attribute=t:this.item.attribute=(0,c.a)(t,e),this}defaultDisplayForm(t,e){return(0,a.i_)(t)?this.item.defaultDisplayForm=t:this.item.defaultDisplayForm=(0,l.H)(t,e),this}}const p=(t=i())=>(0,u.AZ)(d,{},t);class h extends u.Ib{relevance(t){return this.item.relevance=t,this}dateAttributes(t){return this.item.dateAttributes=t,this}dataSet(t,e){var r;return r=t,(0,s.J)(r)&&"dataSet"===r.type?this.item.dataSet=t:this.item.dataSet=(0,f.q)(t,e),this}}const y=(t=i())=>(0,u.AZ)(h,{type:"dateDataset"},t)},23120:(t,e,r)=>{r.d(e,{Z:()=>l});var n=r(29205),i=r.n(n),o=r(18653),a=r(7045),s=r(11732),u=r(1556);class c extends a.W2{fact(t,e){var r;return r=t,(0,o.J)(r)&&"fact"===r.type?this.item.fact=t:this.item.fact=(0,u.k)(t,e),this}}const l=(t=i())=>(0,s.AZ)(c,{type:"fact"},t)},7045:(t,e,r)=>{r.d(e,{Dt:()=>u,W2:()=>a});var n=r(29205),i=r.n(n),o=r(11732);class a extends o.Ib{groups(t){return this.item.groups=t,this}}class s extends o.Ib{title(t){return this.item.title=t,this}tag(t){return this.item.tag=t,this}}const u=(t=i())=>(0,o.AZ)(s,{},t)},69036:(t,e,r)=>{r.d(e,{Y:()=>f});var n=r(29205),i=r.n(n),o=r(7045),a=r(13096),s=r(16473),u=r(11732),c=r(18587);class l extends o.W2{measure(t,e){return(0,a.i)(t)?this.item.measure=t:this.item.measure=(0,c._)(t,e),this}toExecutionModel(t=i()){if(!this.item.measure)throw new Error("Cannot convert catalog measure to execution model, no measure found!");const e=t=>{var e,r;return t.alias(null===(e=this.item.measure)||void 0===e?void 0:e.title).format(null===(r=this.item.measure)||void 0===r?void 0:r.format)};return(0,s.dg)(this.item.measure.ref,(r=>t(e(r))))}}const f=(t=i())=>(0,u.AZ)(l,{type:"measure"},t)},98962:(t,e,r)=>{r.d(e,{a:()=>u});var n=r(29205),i=r.n(n),o=r(64509),a=r(11732);class s extends o.U{drillDownStep(t){return t&&(this.item.drillDownStep=t),this}drillToAttributeLink(t){return t&&(this.item.drillToAttributeLink=t),this}displayForms(t){return this.item.displayForms=t,this}}const u=(t,e=i())=>(0,a.AZ)(s,{type:"attribute",ref:t},e)},37914:(t,e,r)=>{r.d(e,{q:()=>u});var n=r(29205),i=r.n(n),o=r(64509),a=r(11732);class s extends o.U{}const u=(t,e=i())=>(0,a.AZ)(s,{type:"dataSet",ref:t},e)},25:(t,e,r)=>{r.d(e,{H:()=>u});var n=r(29205),i=r.n(n),o=r(64509),a=r(11732);class s extends o.U{attribute(t){return this.item.attribute=t,this}displayFormType(t){return this.item.displayFormType=t,this}isDefault(t){return this.item.isDefault=t,this}}const u=(t,e=i())=>(0,a.AZ)(s,{type:"displayForm",ref:t},e)},1556:(t,e,r)=>{r.d(e,{k:()=>u});var n=r(29205),i=r.n(n),o=r(64509),a=r(11732);class s extends o.U{}const u=(t,e=i())=>(0,a.AZ)(s,{type:"fact",ref:t},e)},64509:(t,e,r)=>{r.d(e,{U:()=>i});var n=r(11732);class i extends n.Ib{title(t){return this.item.title=t,this}description(t){return this.item.description=t,this}id(t){return this.item.id=t,this}uri(t){return this.item.uri=t,this}unlisted(t){return this.item.unlisted=t,this}production(t){return this.item.production=t,this}deprecated(t){return this.item.deprecated=t,this}}},18587:(t,e,r)=>{r.d(e,{_:()=>u});var n=r(29205),i=r.n(n),o=r(64509),a=r(11732);class s extends o.U{expression(t){return this.item.expression=t,this}format(t){return this.item.format=t,this}isLocked(t){return this.item.isLocked=t,this}created(t){return this.item.created=t,this}createdBy(t){return this.item.createdBy=t,this}updated(t){return this.item.updated=t,this}updatedBy(t){return this.item.updatedBy=t,this}}const u=(t,e=i())=>(0,a.AZ)(s,{type:"measure",ref:t},e)},73075:(t,e,r)=>{r.d(e,{qL:()=>i,v7:()=>o});var n=r(33011);class i{constructor(t){this.realProvider=t,this.reset=()=>{this.principal=void 0},this.initializeClient=t=>{var e,r;null===(r=(e=this.realProvider).initializeClient)||void 0===r||r.call(e,t)},this.onNotAuthenticated=(t,e)=>{var r,n;null===(n=(r=this.realProvider).onNotAuthenticated)||void 0===n||n.call(r,t,e)},this.authenticate=t=>this.principal?Promise.resolve(this.principal):(this.inflightRequest||(this.inflightRequest=this.realProvider.authenticate(t).then((t=>(this.principal=t,this.inflightRequest=void 0,t))).catch((t=>{throw this.inflightRequest=void 0,t}))),this.inflightRequest)}getCurrentPrincipal(t){return this.realProvider.getCurrentPrincipal(t)}async deauthenticate(t){return this.realProvider.deauthenticate(t)}}class o{authenticate(t){throw new n.tn("NoopAuthProvider does not support authenticate")}getCurrentPrincipal(t){throw new n.tn("NoopAuthProvider does not support getCurrentPrincipal")}deauthenticate(t){throw new n.tn("NoopAuthProvider does not support deauthenticate")}reset(){throw new n.tn("NoopAuthProvider does not support reset")}}},1408:(t,e,r)=>{r.d(e,{vH:()=>i});var n=r(70567);class i{constructor(t){this.workspace=t}forItems(t,e){const r=(0,n.Bm)((0,n.Zj)(this.workspace,t,e),n.ni);return this.forDefinition(r)}forBuckets(t,e){const r=(0,n.Bm)((0,n.iO)(this.workspace,t,e),n.ni);return this.forDefinition(r)}forInsight(t,e){const r=(0,n.Bm)((0,n.M)(this.workspace,t,e),n.ni);return this.forDefinition(r)}forInsightByRef(t,e){return this.forInsight(t,e)}}},29118:(t,e,r)=>{r.d(e,{q:()=>l,r:()=>f});var n=r(73734),i=r(32354),o=r.n(i),a=r(99991),s=r.n(a),u=r(20253),c=r.n(u);class l{constructor(t,e=50,r=0){this.allItems=t,(0,n.kG)(r>=0,`paging offset must be non-negative, got: ${r}`),(0,n.kG)(e>0,`limit must be a positive number, got: ${e}`),this.items=t.slice(r,r+e),this.offset=Math.min(r,t.length),this.limit=e,this.totalCount=t.length}async next(){return 0===this.items.length?this:new l(this.allItems,this.limit,this.offset+this.items.length)}async goTo(t){return 0===this.items.length?this:new l(this.allItems,this.limit,t*this.items.length)}async all(){return[...this.allItems]}async allSorted(t){return[...this.allItems].sort(t)}}class f{static async for(t,e=50,r=0){(0,n.kG)(r>=0,`paging offset must be non-negative, got: ${r}`),(0,n.kG)(e>0,`limit must be a positive number, got: ${e}`);const{totalCount:i,items:o}=await t({limit:e,offset:r});return(0,n.kG)(!c()(i),`total count must be specified, got: ${i}`),new f(t,e,r,i,o)}constructor(t,e=50,r=0,n,i){this.getData=t,this.limit=e,this.offset=r,this.totalCount=n,this.items=i,this.next=async()=>{if(0===this.items.length)return this;if(this.items.length<this.limit||this.offset+this.items.length===this.totalCount)return new f(this.getData,this.limit,this.offset+this.limit,this.totalCount,[]);const t=await this.getData({limit:this.limit,offset:this.offset+this.limit});return new f(this.getData,this.limit,this.offset+this.limit,t.totalCount,t.items)},this.goTo=async t=>{const e=t*this.limit,r=await this.getData({limit:this.limit,offset:e});return new f(this.getData,this.limit,e,r.totalCount,r.items)},this.all=async()=>{const t=[],e=o()(0,this.totalCount/this.limit);for(0===this.offset&&(t.push(...this.items),e.shift());e.length>0;){const r=e.slice(0,6);e.splice(0,6);const n=await Promise.all(r.map((t=>this.goTo(t))));t.push(...s()(n,(t=>t.items)))}return t},this.allSorted=async t=>(await this.all()).sort(t)}}},16893:(t,e,r)=>{r.d(e,{q:()=>a});var n=r(21692);const i="about:blank";function o(t,e){const r=(0,n.N)(t);return t!==r?r===i?`${e} contains invalid schema; possible XSS detected`:`${e} contains invalid characters`:t.search(/\/\.+/)>-1?`${e} contains reserved filename characters`:void 0}function a(t){var e;try{if("https:"!==new URL(t).protocol)return"url does not use https"}catch(t){return"url is malformed"}const r=null!==(e=o(t,"url"))&&void 0!==e?e:o(decodeURIComponent(t),"decoded url");if(r)return r}},33011:(t,e,r)=>{r.d(e,{$b:()=>p,J:()=>s,O4:()=>h,S2:()=>f,hp:()=>u,kF:()=>c,ml:()=>l,tn:()=>d,wO:()=>y});var n=r(37693),i=r.n(n);const o={NO_DATA:"ND",DATA_TOO_LARGE:"DTL",PROTECTED_DATA:"PD",UNEXPECTED_HTTP:"UH",UNEXPECTED:"UE",NOT_SUPPORTED:"NS",NOT_IMPLEMENTED:"NI!",NOT_AUTHENTICATED:"NAuth",LIMIT_REACHED:"LR",CONTRACT_EXPIRED:"CE",TIMEOUT_ERROR:"TE"};class a extends Error{constructor(t,e,r){super(t),this.abeType=e,this.cause=r,Object.setPrototypeOf(this,new.target.prototype)}}class s extends a{constructor(t,e,r){super(t,o.NO_DATA,r),this.dataView=e}}class u extends a{constructor(t,e){super(t,o.DATA_TOO_LARGE,e)}}class c extends a{constructor(t,e){super(t,o.PROTECTED_DATA,e)}}class l extends a{constructor(t,e,r,n,i){super(t,o.UNEXPECTED_HTTP,i),this.httpStatus=e,this.responseBody=r,this.traceId=n}}class f extends a{constructor(t,e){super(t,o.UNEXPECTED,e)}}class d extends a{constructor(t){super(t,o.NOT_SUPPORTED)}}class p extends a{constructor(t,e,r){super(t,o.NOT_AUTHENTICATED,e),this.reason=r}}function h(t){return!i()(t)&&void 0!==t.abeType}function y(t){return h(t)&&t.abeType===o.NOT_AUTHENTICATED}},99296:(t,e,r)=>{function n(t){return function(t){return!!t&&!!t.values}(t)||function(t){return!!t&&!!t.primaryValues}(t)}r.d(e,{Gb:()=>n})},11985:(t,e,r)=>{r.d(e,{Vy:()=>u,ln:()=>c});var n=r(5953),i=r(29322),o=r(30299),a=r.n(o);function s(t,{sectionCallback:e=a(),itemCallback:r=a(),widgetCallback:o=a()},u=["sections"]){t.sections.forEach(((t,a)=>{const c=[...u,a];e(t,c),t.items.forEach(((t,a)=>{const u=[...c,"items",a];if(r(t,u),(0,n.Qd)(t.widget)||(0,n.eu)(t.widget)){const e=[...u,"widget"];o(t.widget,e)}else(0,i.LI)(t.widget)&&s(t.widget,{sectionCallback:e,itemCallback:r,widgetCallback:o},[...u,"widget","sections"])}))}))}function u(t){const e=[];return s(t,{widgetCallback:(t,r)=>e.push({widget:t,path:r})}),e}function c(t){const e=[];return s(t,{widgetCallback:t=>e.push(t)}),e}},80912:(t,e,r)=>{r.d(e,{Jo:()=>o});var n=r(37693),i=r.n(n);const o=t=>!i()(t)&&"granularUser"===t.type},43050:(t,e,r)=>{r.d(e,{KQ:()=>a,TR:()=>l,f5:()=>c,hh:()=>u,oU:()=>o,oZ:()=>f,x4:()=>s});var n=r(37693),i=r.n(n);function o(t){return!i()(t)&&"drillFromMeasure"===t.type}function a(t){return!i()(t)&&"drillFromAttribute"===t.type}function s(t){return!i()(t)&&"drillToLegacyDashboard"===t.type}function u(t){return!i()(t)&&"drillToDashboard"===t.type}function c(t){return!i()(t)&&"drillToInsight"===t.type}function l(t){return!i()(t)&&"drillToCustomUrl"===t.type}function f(t){return!i()(t)&&"drillToAttributeUrl"===t.type}},84879:(t,e,r)=>{r.d(e,{Fk:()=>u,V0:()=>f,br:()=>l,j:()=>a,jG:()=>s,kx:()=>c,mu:()=>d});var n=r(37693),i=r.n(n),o=(r(20253),r(14215));function a(t){return!i()(t)&&!!t.attributeFilter}function s(t){return!i()(t)&&!!t.dateFilter}function u(t){return p(t)&&!(0,o.K0)(t.ref)}function c(t){return p(t)&&(0,o.K0)(t.ref)}function l(t){return p(t)&&(0,o.K0)(t.ref)&&!t.identifier&&!t.title}function f(t){return!i()(t)&&"dateFilterReference"===t.type}function d(t){return e=t,i()(e)||"attributeFilterReference"!==e.type?t.dataSet:t.displayForm;var e}function p(t){return!i()(t)&&!!t.filters}},10897:(t,e,r)=>{r.d(e,{VP:()=>o});var n=r(37693),i=r.n(n);function o(t){return!i()(t)&&("previousPeriod"===t.comparisonType||"lastYear"===t.comparisonType)}},29322:(t,e,r)=>{r.d(e,{LI:()=>o});var n=r(37693),i=r.n(n);function o(t){return!i()(t)&&"IDashboardLayout"===t.type}r(44490)},96783:(t,e,r)=>{r.d(e,{X:()=>o,z:()=>a});var n=r(37693),i=r.n(n);function o(t){return!i()(t)&&void 0!==t.dashboard}function a(t){return!i()(t)&&void 0!==t.widget}},5953:(t,e,r)=>{r.d(e,{Qd:()=>u,eu:()=>s,np:()=>l,oS:()=>f});var n=r(37693),i=r.n(n),o=r(73734),a=r(14215);function s(t){return c(t)&&!(0,a.K0)(t.ref)}function u(t){return c(t)&&(0,a.K0)(t.ref)}function c(t){return!i()(t)&&("kpi"===t.type||"insight"===t.type)}function l(t){return(0,o.kG)(t,"widget to get uri of must be specified"),t.uri}function f(t){return(0,o.kG)(t,"widget to get type of must be specified"),t.type}},33082:(t,e,r)=>{r.d(e,{ST:()=>g,YE:()=>m});var n=r(29205),i=r.n(n),o=r(81028),a=r.n(o),s=r(37693),u=r.n(s),c=r(61550),l=r(14215),f=r(2326),d=r(74507),p=r.n(d),h=r(44113);class y{constructor(t){if(this.customLocalId=!1,this.alias=t=>t?(this.attribute.alias=t,this):this.noAlias(),this.noAlias=()=>(delete this.attribute.alias,this),this.showAllValues=t=>(void 0===t?delete this.attribute.showAllValues:this.attribute.showAllValues=t,this),this.displayForm=t=>(this.attribute.displayForm=t,this),this.localId=t=>t&&0!==t.trim().length?(this.attribute.localIdentifier=t,this.customLocalId=!0,this):this.defaultLocalId(),this.defaultLocalId=()=>(this.attribute.localIdentifier="",this.customLocalId=!1,this),this.build=()=>{const t=this.getOrGenerateLocalId();return{attribute:Object.assign(Object.assign({},this.attribute),{localIdentifier:t})}},(0,c.dt)(t))this.attribute=a()(t.attribute),this.customLocalId=!0;else{const e=(0,l.K0)(t)?t:(0,f.Ii)(t,"displayForm");this.attribute={displayForm:e,localIdentifier:""}}}getOrGenerateLocalId(){return this.customLocalId&&!u()(this.attribute.localIdentifier)?this.attribute.localIdentifier:(0,h.V)(["a",this.calculateAliasHash(),(0,l.Rs)(this.attribute.displayForm)].filter((t=>!u()(t))).join("_"))}calculateAliasHash(){if(!this.attribute.alias)return"";const t=new(p());return t.append(this.attribute.alias),t.end().substr(0,8)}}function m(t,e=i()){return e(new y(t)).build()}function g(t,e=i()){return e(new y(t)).build()}},61550:(t,e,r)=>{r.d(e,{G_:()=>s,KH:()=>l,WP:()=>u,dt:()=>a,pV:()=>c});var n=r(37693),i=r.n(n),o=r(73734);function a(t){return!i()(t)&&void 0!==t.attribute}const s=t=>!0;function u(t){return(0,o.kG)(t,"attribute must be specified"),"string"==typeof t?t:t.attribute.localIdentifier}function c(t){return(0,o.kG)(t,"attribute must be specified"),t.attribute.alias}function l(t){return(0,o.kG)(t,"attribute must be specified"),t.attribute.displayForm}},74627:(t,e,r)=>{r.d(e,{Dc:()=>f,IC:()=>h,IM:()=>y,OT:()=>m,Pm:()=>l,qN:()=>p,vM:()=>d});var n=r(73734),i=r(29257),o=r(37693),a=r.n(o),s=r(82654),u=r.n(s),c=r(61550);const l="measureGroup",f=t=>t===l;function d(t){return!a()(t)&&void 0!==t.itemIdentifiers}function p(t){return(0,n.kG)(t,"dimension must be specified"),t.totals?t.totals:[]}function h(t,e){(0,n.kG)(t,"input for first dimension must be specified"),(0,n.kG)(e,"input for second dimension must be specified");const r=!(t.find(f)&&e.find(f));return(0,n.kG)(r,"The 'measureGroup' identifier must only be specified in one dimension."),[y(t),y(e)]}function y(t=[],e=[]){const r=t.reduce(((t,e)=>((0,i.Eu)(e)?t.totals.push(e):(0,c.dt)(e)?t.ids.push((0,c.WP)(e)):t.ids.push(e),t)),{ids:[],totals:[]});r.totals.push(...e);const n=a()(r.totals)?{}:{totals:r.totals};return Object.assign({itemIdentifiers:r.ids},n)}function m(t,e){const r=[];for(let n=0;n<t.length;n++){const i=t[n],o=u()(i.itemIdentifiers,(t=>t===e));o>=0&&r.push({dim:i,dimIdx:n,itemIdx:o})}return r}},33692:(t,e,r)=>{r.d(e,{Sg:()=>u,Ti:()=>a,at:()=>s});var n=r(37693),i=r.n(n),o=r(73734);function a(t){return!i()(t)&&void 0!==t.measureSortItem}function s(t){return!i()(t)&&void 0!==t.attributeLocatorItem}function u(t){(0,o.kG)(t,"sort item must be specified");const e={attributeIdentifiers:[],measureIdentifiers:[],allIdentifiers:[]};if(r=t,i()(r)||void 0===r.attributeSortItem)a(t)&&t.measureSortItem.locators.forEach((t=>{if(s(t)){const r=t.attributeLocatorItem.attributeIdentifier;e.attributeIdentifiers.push(r),e.allIdentifiers.push(r)}else if(r=t,!i()(r)&&void 0!==r.measureLocatorItem){const r=t.measureLocatorItem.measureIdentifier;e.measureIdentifiers.push(r),e.allIdentifiers.push(r)}var r}));else{const r=t.attributeSortItem.attributeIdentifier;e.attributeIdentifiers.push(r),e.allIdentifiers.push(r)}var r;return e}},29257:(t,e,r)=>{r.d(e,{Eu:()=>a,UB:()=>s});var n=r(37693),i=r.n(n),o=r(73734);function a(t){return!i()(t)&&void 0!==t.type&&void 0!==t.measureIdentifier&&void 0!==t.attributeIdentifier}function s(t){return(0,o.kG)(t,"total must be specified"),"nat"===t.type}},65074:(t,e,r)=>{r.d(e,{$Q:()=>h,Cl:()=>d,EG:()=>p,H:()=>f,_:()=>c,w6:()=>l});var n=r(75469),i=r(61550),o=r(56130),a=r(99991),s=r.n(a),u=r(73734);function c(t,e=i.G_){return(0,u.kG)(t,"buckets must be specified"),t.length?s()(t,(t=>(0,n.BQ)(t,e))):[]}function l(t,e=o.Nr){return(0,u.kG)(t,"buckets must be specified"),t.length?s()(t,(t=>(0,n.zL)(t,e))):[]}function f(t,e=n.be){(0,u.kG)(t,"buckets must be specified");const r="string"==typeof e?(0,n.C0)(e):e;return t.find(r)}function d(t,...e){return(0,u.kG)(t,"buckets must be specified"),t.length&&e&&e.length?t.filter((t=>t.localIdentifier&&e.indexOf(t.localIdentifier)>=0)):[]}function p(t){return(0,u.kG)(t,"buckets must be specified"),s()(t,(t=>(0,n.SN)(t)))}function h(t){return(0,u.kG)(t,"buckets must be specified"),!t.length||t.every(n.F7)}r(29205),r(82654)},75469:(t,e,r)=>{r.d(e,{BQ:()=>c,C0:()=>s,F7:()=>u,SN:()=>f,be:()=>a,zL:()=>l}),r(37693);var n=r(61550),i=r(56130),o=r(73734);r(44490),r(29205),r(82654),r(42633),r(79884);const a=t=>!0,s=t=>e=>e.localIdentifier===t;function u(t){return(0,o.kG)(t,"bucket must be specified"),0===t.items.length&&(!t.totals||0===t.totals.length)}function c(t,e=n.G_){return(0,o.kG)(t,"bucket must be specified"),t.items.filter((t=>(0,n.dt)(t)&&e(t)))}function l(t,e=i.Nr){return(0,o.kG)(t,"bucket must be specified"),t.items.filter((t=>(0,i.kb)(t)&&e(t)))}function f(t){return(0,o.kG)(t,"bucket must be specified"),t.items}var d;!function(t){t[t.NEVER=0]="NEVER",t[t.SINGLE_MEASURE_ONLY=1]="SINGLE_MEASURE_ONLY",t[t.ANY_MEASURE=2]="ANY_MEASURE"}(d=d||(d={}))},70567:(t,e,r)=>{r.d(e,{nc:()=>x,Bm:()=>P,Pc:()=>j,ni:()=>_,iO:()=>w,M:()=>O,Zj:()=>v});var n=r(61550),i=r(74627),o=r(75469),a=r(65074),s=r(42487),u=r(56130),c=r(15978),l=r(37693),f=r.n(l),d=r(73734),p=r(45763),h=r.n(p),y=r(60062),m=r.n(y);function g(t){const e=[...t.attributes,...t.measures],r=h()(e,(t=>(0,n.dt)(t)?(0,n.WP)(t):(0,u.i1)(t)));m()(r).forEach((([t,e])=>{(0,d.kG)(1===e.length,`There are ${e.length} items with the same localId '${t}'. Please make sure the attributes and measures in the execution definition have unique localIds.`)}))}function b(t){return{workspace:t,buckets:[],attributes:[],measures:[],dimensions:[],filters:[],sortBy:[],postProcessing:{}}}function v(t,e,r=[]){(0,d.kG)(t,"workspace to create exec def for must be specified"),(0,d.kG)(e,"items to create exec def from must be specified");const i=Object.assign(Object.assign({},b(t)),{attributes:e.filter(n.dt),measures:e.filter(u.kb)});return g(i),(0,c.pX)(i,r)}function w(t,e,r=[]){(0,d.kG)(t,"workspace to create exec def for must be specified"),(0,d.kG)(e,"buckets to create exec def from must be specified");const n=Object.assign(Object.assign({},b(t)),{buckets:e,attributes:(0,a._)(e),measures:(0,a.w6)(e)});return g(n),(0,c.pX)(n,r)}function O(t,e,r=[]){(0,d.kG)(t,"workspace to create exec def for must be specified"),(0,d.kG)(e,"insight to create exec def from must be specified");const n=w(t,(0,s.Av)(e));g(n);const i=r||[],o=(0,c.pX)(n,[...(0,s.Tm)(e),...i]);return(0,c.xn)(o,(0,s.Qp)(e))}function j(t,e){return(0,c.xn)(t,e)}function x(t,e){const r=t.postProcessing||{};return function(t,e){return(0,c.O4)(t,e)}(t,Object.assign(Object.assign({},r),{dateFormat:e}))}function P(t,...e){return(0,c.vq)(t,function(t,e){if(!t||f()(t))return[];const r=t[0];return"function"==typeof r?r(e):t.filter(i.vM)}(e,t))}function _(t){(0,d.kG)(t,"definition must be specified");const e=t.buckets;return(0,a.$Q)(e)?function(t){return t.measures.length?(0,i.IC)([i.Pm],t.attributes):[(0,i.IM)(t.attributes)]}(t):function(t){const[e,...r]=t;if((0,a.$Q)(r))return(0,o.zL)(e).length?(0,i.IC)([i.Pm],(0,o.BQ)(e)):[(0,i.IM)((0,o.BQ)(e))];const n=(0,o.BQ)(e),s=(0,a._)(r);return(0,o.zL)(e).length?(0,i.IC)([...n,i.Pm],s):(0,i.IC)(n,[...s,i.Pm])}(e)}},15978:(t,e,r)=>{r.d(e,{Nr:()=>D,vq:()=>S,O4:()=>_,xn:()=>P,pX:()=>x});var n=r(37693),i=r.n(n),o=r(89608),a=r.n(o),s=r(74507),u=r.n(s),c=r(73734),l=r(19113),f=r(79884),d=r.n(f),p=r(56130),h=r(46186),y=r.n(h),m=r(1662);function g(t){return(0,m.tG)(t)?!!t.measureValueFilter.condition:!(0,m.II)(t)||!(0,m.yQ)(t.negativeAttributeFilter.notIn)}function b(t){return g(t)?d()(t):void 0}function v(t){return(0,p.MI)(t)?function(t){var e;const{measureDefinition:r}=t.measure.definition,n=Object.assign(Object.assign({},r),{filters:null===(e=r.filters)||void 0===e?void 0:e.filter(g)}),i=y()({filters:[],computeRatio:!1},n);return d()({measure:Object.assign(Object.assign({},t.measure),{definition:{measureDefinition:i}})})}(t):d()(t)}function w(t){return(0,c.kG)(t,"attribute must not be undefined"),d()(t)}function O(t){return d()(t)}function j(t){const e=y()({totals:[]},t);return d()(e)}function x(t,e=[]){return(0,c.kG)(t,"execution definition to add more filters to must be defined"),i()(e)?t:Object.assign(Object.assign({},t),{filters:(0,l.f)(t.filters,e)})}function P(t,e=[]){return(0,c.kG)(t,"execution definition to set sorts in must be defined"),Object.assign(Object.assign({},t),{sortBy:e})}function _(t,e){return(0,c.kG)(t,"execution definition to set post processing in must be defined"),Object.assign(Object.assign({},t),{postProcessing:e})}function S(t,e=[]){return(0,c.kG)(t,"execution definition to set dimension for must be defined"),Object.assign(Object.assign({},t),{dimensions:e})}function D(t){var e,r;(0,c.kG)(t,"execution definition to calculate fingerprint for must be defined");const n=new(u()),i=n.append.bind(n);var o;return n.append(t.workspace),t.attributes.map(w).forEach(i),t.measures.map(v).forEach(i),t.filters.map(b).filter(a()).forEach(i),t.sortBy.map(O).forEach(i),t.dimensions.map(j).forEach(i),(null===(e=t.executionConfig)||void 0===e?void 0:e.dataSamplingPercentage)&&i((o=null===(r=t.executionConfig)||void 0===r?void 0:r.dataSamplingPercentage)?o.toString():"undefined"),n.end()}},55991:(t,e,r)=>{r.d(e,{Z1:()=>a,o7:()=>s,u3:()=>c,xk:()=>u}),r(73734),r(20253);var n=r(61550),i=r(14215),o=r(2326);function a(t,e){return{positiveAttributeFilter:{displayForm:(0,i.K0)(t)?t:"string"==typeof t?(0,o.Ii)(t):(0,n.KH)(t),in:Array.isArray(e)?{values:e}:e}}}function s(t,e){return{negativeAttributeFilter:{displayForm:(0,i.K0)(t)?t:"string"==typeof t?(0,o.Ii)(t):(0,n.KH)(t),notIn:Array.isArray(e)?{values:e}:e}}}function u(t,e,r){return{absoluteDateFilter:{dataSet:(0,i.K0)(t)?t:(0,o.Ii)(t),from:e,to:r}}}function c(t,e,r,n){return{relativeDateFilter:{dataSet:(0,i.K0)(t)?t:(0,o.Ii)(t),granularity:e,from:r,to:n}}}},19113:(t,e,r)=>{r.d(e,{f:()=>y});var n=r(14215),i=r(1662),o=r(17506),a=r.n(o),s=r(45763),u=r.n(s),c=r(51805),l=r.n(c),f=r(73734),d=r(52948),p=r.n(d);function h(t){const e={attribute:[],date:[],measureValue:[],ranking:[]};return t.forEach((t=>{(0,i.ZU)(t)?e.attribute.push(t):(0,i.gE)(t)?e.date.push(t):(0,i.tG)(t)?e.measureValue.push(t):(0,i.Ey)(t)&&e.ranking.push(t),(0,f.kG)(t,"filter is not supported")})),e}function y(t,e){(0,f.kG)(t,"original filters must be specified");const r=a()(null!=e?e:[]);if(!r.length)return t;if(!t.length)return r.filter((t=>!(0,i.wh)(t)));const o=h(t),s=h(r),c=[...o.attribute,...s.attribute],d=function(t,e){const r=[...t,...e],o=u()(r,(t=>(0,n.Rs)((0,i.zH)(t)))),a=[];return p()(o).forEach((t=>{const e=l()(t);(0,i.wh)(e)||a.push(e)})),a}(o.date,s.date),y=function(t,e){const r=[...t,...e],i=u()(r,(t=>(0,n.Rs)(t.measureValueFilter.measure)));return p()(i).map((t=>l()(t)))}(o.measureValue,s.measureValue);return[...c,...d,...y,...o.ranking,...s.ranking]}},1662:(t,e,r)=>{r.d(e,{C0:()=>y,Ey:()=>h,II:()=>s,Mr:()=>_,Nl:()=>j,OF:()=>m,Or:()=>b,QJ:()=>c,Vc:()=>a,ZU:()=>f,ct:()=>g,eh:()=>w,gE:()=>d,tG:()=>p,wF:()=>x,wh:()=>l,xo:()=>P,yQ:()=>v,yf:()=>u,zH:()=>O});var n=r(37693),i=r.n(n),o=r(73734);function a(t){return!i()(t)&&void 0!==t.positiveAttributeFilter}function s(t){return!i()(t)&&void 0!==t.negativeAttributeFilter}function u(t){return!i()(t)&&void 0!==t.absoluteDateFilter}function c(t){return!i()(t)&&void 0!==t.relativeDateFilter}function l(t){var e;return!i()(t)&&"ALL_TIME_GRANULARITY"===(null===(e=t.relativeDateFilter)||void 0===e?void 0:e.granularity)}function f(t){return a(t)||s(t)}function d(t){return c(t)||u(t)}function p(t){return!i()(t)&&void 0!==t.measureValueFilter}function h(t){return!i()(t)&&void 0!==t.rankingFilter}function y(t){return!i()(t)&&void 0!==t.comparison}function m(t){return!i()(t)&&void 0!==t.uris}function g(t){return!i()(t)&&void 0!==t.values}function b(t){return(0,o.kG)(t,"filter must be specified"),a(t)?v(t.positiveAttributeFilter.in):v(t.negativeAttributeFilter.notIn)}function v(t){return(0,o.kG)(t,"attribute elements must be specified"),m(t)?i()(t.uris):i()(t.values)}function w(t){if((0,o.kG)(t,"attribute elements must be specified"),f(t))return a(t)?t.positiveAttributeFilter.in:t.negativeAttributeFilter.notIn}function O(t){return(0,o.kG)(t,"filter must be specified"),a(t)?t.positiveAttributeFilter.displayForm:s(t)?t.negativeAttributeFilter.displayForm:u(t)?t.absoluteDateFilter.dataSet:c(t)?t.relativeDateFilter.dataSet:void 0}function j(t){return(0,o.kG)(t,"filter must be specified"),{from:t.absoluteDateFilter.from,to:t.absoluteDateFilter.to}}function x(t){return(0,o.kG)(t,"filter must be specified"),{from:t.relativeDateFilter.from,to:t.relativeDateFilter.to,granularity:t.relativeDateFilter.granularity}}function P(t){return(0,o.kG)(t,"filter must be specified"),t.measureValueFilter.measure}function _(t){return(0,o.kG)(t,"filter must be specified"),t.measureValueFilter.condition}},16473:(t,e,r)=>{r.d(e,{HB:()=>w,Mn:()=>O,dg:()=>v});var n=r(81028),i=r.n(n),o=r(37693),a=r.n(o),s=r(29205),u=r.n(s),c=r(56130),l=r(14215),f=r(2326),d=r(74507),p=r.n(d),h=r(73734),y=r(44113);class m{constructor(){this.customLocalId=!1,this.localId=t=>t&&0!==t.trim().length?(this.measure.localIdentifier=t,this.customLocalId=!0,this):this.defaultLocalId(),this.defaultLocalId=()=>(this.measure.localIdentifier="",this.customLocalId=!1,this),this.alias=t=>t?(this.measure.alias=t,this):this.noAlias(),this.noAlias=()=>(delete this.measure.alias,this),this.title=t=>t?(this.measure.title=t,this):this.noTitle(),this.noTitle=()=>(delete this.measure.title,this),this.format=t=>t?(this.measure.format=t,this):this.defaultFormat(),this.defaultFormat=()=>(delete this.measure.format,this),this.build=()=>{const t=this.buildEnvelope();return{measure:Object.assign(Object.assign({},t),{definition:this.buildDefinition()})}},this.measure={localIdentifier:""}}initializeFromExisting(t){this.measure=i()(t),this.measure.localIdentifier=t.localIdentifier,this.customLocalId=!0}getOrGenerateLocalId(){return this.customLocalId&&!a()(this.measure.localIdentifier)?this.measure.localIdentifier:(0,y.V)(["m",this.buildEnvelopeLocalIdPart(),this.generateLocalId()].filter((t=>!a()(t))).join("_"))}buildEnvelopeLocalIdPart(){const{alias:t,format:e,title:r}=this.measure;if(!t&&!e&&!r)return"";const n=new(p());return n.append("alias_"+(null!=t?t:"")),n.append("format_"+(null!=e?e:"")),n.append("title_"+(null!=r?r:"")),n.end().substr(0,8)}buildEnvelope(){return Object.assign(Object.assign({},this.measure),{localIdentifier:this.getOrGenerateLocalId()})}}class g extends m{constructor(t){super(),this.aggregation=t=>t?(this.measureDefinition.aggregation=t,this):this.defaultAggregation(),this.defaultAggregation=()=>(delete this.measureDefinition.aggregation,this),this.ratio=(t=!0)=>t?(this.measureDefinition.computeRatio=!0,this):this.noRatio(),this.noRatio=()=>(delete this.measureDefinition.computeRatio,this),this.filters=(...t)=>(this.measureDefinition.filters=t,this),this.noFilters=()=>(this.measureDefinition.filters=[],this),this.measureItem=t=>(this.measureDefinition.item=t,this),(0,c.kb)(t)?(this.initializeFromExisting(t.measure),this.measureDefinition=i()(t.measure.definition.measureDefinition)):this.measureDefinition={item:t}}generateLocalId(){const t=this.measureDefinition.aggregation?`_${this.measureDefinition.aggregation}`:"",e=this.measureDefinition.computeRatio?"_ratio":"";return`${(0,l.Rs)(this.measureDefinition.item)}${t}${e}${this.filterLocalIdString()}`}buildDefinition(){return{measureDefinition:this.measureDefinition}}filterLocalIdString(){if(a()(this.measureDefinition.filters))return"";const t=new(p());return t.append(JSON.stringify(this.measureDefinition.filters)),"_"+t.end().substr(0,8)}}class b extends m{constructor(t){if(super(),this.masterMeasure=t=>(this.popMeasureDefinition.measureIdentifier=(0,c.i1)(t),this),this.popAttribute=t=>(this.popMeasureDefinition.popAttribute=(0,l.K0)(t)?t:(0,f.Ii)(t,"attribute"),this),(0,c.E3)(t))this.initializeFromExisting(t.measure),this.popMeasureDefinition=i()(t.measure.definition.popMeasureDefinition);else{const e=(0,c.i1)(t.measureOrLocalId),r=(0,l.K0)(t.popAttrIdOrRef)?t.popAttrIdOrRef:(0,f.Ii)(t.popAttrIdOrRef,"attribute");this.popMeasureDefinition={measureIdentifier:e,popAttribute:r}}}buildDefinition(){return{popMeasureDefinition:this.popMeasureDefinition}}generateLocalId(){return`${this.popMeasureDefinition.measureIdentifier}_${(0,l.Rs)(this.popMeasureDefinition.popAttribute)}`}}function v(t,e=u()){const r=(0,l.K0)(t)?t:(0,f.Ii)(t);return e(new g(r)).build()}function w(t,e=u()){return(0,h.kG)(t,"measure must be specified"),e(new g(t)).build()}function O(t,e=u()){return(0,h.kG)(t,"measure must be specified"),e(new b(t)).build()}},56130:(t,e,r)=>{r.d(e,{B3:()=>m,BJ:()=>p,Cg:()=>h,E3:()=>l,F8:()=>_,Hz:()=>T,JL:()=>S,Lc:()=>D,MI:()=>c,Nr:()=>s,Nx:()=>d,PN:()=>P,Q6:()=>w,Rd:()=>k,V7:()=>y,YV:()=>x,dN:()=>C,eR:()=>v,gY:()=>A,i1:()=>g,kb:()=>u,mw:()=>O,n6:()=>b,pY:()=>j,yq:()=>f});var n=r(37693),i=r.n(n),o=r(73734),a=r(14215);const s=t=>!0;function u(t){var e;return!i()(t)&&void 0!==(null===(e=t.measure)||void 0===e?void 0:e.definition)}function c(t){return u(t)&&p(t.measure.definition)}function l(t){return u(t)&&h(t.measure.definition)}function f(t){return u(t)&&y(t.measure.definition)}function d(t){return u(t)&&m(t.measure.definition)}function p(t){return!i()(t)&&void 0!==t.measureDefinition}function h(t){return!i()(t)&&void 0!==t.popMeasureDefinition}function y(t){return!i()(t)&&void 0!==t.previousPeriodMeasure}function m(t){return!i()(t)&&void 0!==t.arithmeticMeasure}function g(t){return(0,o.kG)(t,"measure or local id must be specified"),"string"==typeof t?t:t.measure.localIdentifier}function b(t){(0,o.kG)(t,"measure must be specified");const e=w(t);if(e)return(0,a.hj)(e)?e.uri:void 0}function v(t){(0,o.kG)(t,"measure must be specified");const e=w(t);if(e)return(0,a.$y)(e)?e.identifier:void 0}function w(t){var e;return(0,o.kG)(t,"measure must be specified"),null===(e=t.measure.definition.measureDefinition)||void 0===e?void 0:e.item}function O(t){return(0,o.kG)(t,"measure must be specified"),!!c(t)&&!!t.measure.definition.measureDefinition.computeRatio}function j(t){return(0,o.kG)(t,"measure must be specified"),l(t)?t.measure.definition.popMeasureDefinition.measureIdentifier:f(t)?t.measure.definition.previousPeriodMeasure.measureIdentifier:void 0}function x(t){if((0,o.kG)(t,"measure must be specified"),d(t))return t.measure.definition.arithmeticMeasure.measureIdentifiers}function P(t){if((0,o.kG)(t,"measure must be specified"),d(t))return t.measure.definition.arithmeticMeasure.operator}function _(t){return(0,o.kG)(t,"measure must be specified"),t.measure.alias}function S(t){return(0,o.kG)(t,"measure must be specified"),t.measure.title}function D(t){return(0,o.kG)(t,"measure must be specified"),t.measure.format}function k(t){if((0,o.kG)(t,"measure must be specified"),c(t))return t.measure.definition.measureDefinition.aggregation}function A(t){if((0,o.kG)(t,"measure must be specified"),c(t))return t.measure.definition.measureDefinition.filters}function C(t){if((0,o.kG)(t,"measure must be specified"),l(t))return t.measure.definition.popMeasureDefinition.popAttribute}function T(t){if((0,o.kG)(t,"measure must be specified"),f(t))return t.measure.definition.previousPeriodMeasure.dateDataSets}},91486:(t,e,r)=>{r.d(e,{AM:()=>u,_w:()=>o,aZ:()=>a,xG:()=>s});var n=r(37693),i=r.n(n);function o(t){return!i()(t)&&void 0!==t.attributeHeader}function a(t){return!i()(t)&&void 0!==t.totalHeaderItem}function s(t){return!i()(t)&&void 0!==t.attributeHeaderItem}function u(t){return!i()(t)&&void 0!==t.measureHeaderItem&&void 0!==t.measureHeaderItem.order}},42487:(t,e,r)=>{r.d(e,{$:()=>P,AZ:()=>D,Av:()=>d,BR:()=>w,Cj:()=>O,FM:()=>_,Qp:()=>y,T:()=>x,Tm:()=>h,XF:()=>m,Yt:()=>g,_H:()=>b,oj:()=>v,wG:()=>j,zB:()=>S,zy:()=>p});var n=r(37693),i=r.n(n),o=r(42633),a=r.n(o),s=r(33692),u=r(56130),c=r(61550),l=r(65074),f=r(73734);function d(t,...e){return(0,f.kG)(t,"insight must be specified"),i()(e)?t.insight.buckets:(0,l.Cl)(t.insight.buckets,...e)}function p(t){return(0,f.kG)(t,"insight must be specified"),(0,l.EG)(t.insight.buckets)}function h(t){return(0,f.kG)(t,"insight must be specified"),t.insight.filters}function y(t){(0,f.kG)(t,"insight must be specified");const e=function(t,e=c.G_){return(0,f.kG)(t,"insight must be specified"),(0,l._)(t.insight.buckets,e)}(t).map(c.WP),r=function(t,e=u.Nr){return(0,f.kG)(t,"insight must be specified"),(0,l.w6)(t.insight.buckets,e)}(t).map(u.i1);function n(t,e){return a()(t,e).length===e.length}return t.insight.sorts.filter((t=>{const i=(0,s.Sg)(t);return n(e,i.attributeIdentifiers)&&n(r,i.measureIdentifiers)}))}function m(t){return(0,f.kG)(t,"insight must be specified"),t.insight.properties}function g(t){return(0,f.kG)(t,"insight to get vis class URI from must be specified"),t.insight.visualizationUrl}function b(t){return(0,f.kG)(t,"insight to get title from must be specified"),t.insight.title}function v(t){var e;return(0,f.kG)(t,"insight must be specified"),null!==(e=t.insight.tags)&&void 0!==e?e:[]}function w(t){var e;return(0,f.kG)(t,"insight must be specified"),null!==(e=t.insight.summary)&&void 0!==e?e:""}function O(t){return(0,f.kG)(t,"insight to get ref of must be specified"),t.insight.ref}function j(t){return(0,f.kG)(t,"insight to get id of must be specified"),t.insight.identifier}function x(t){return(0,f.kG)(t,"insight to get uri of must be specified"),t.insight.uri}function P(t){return(0,f.kG)(t,"insight must be specified"),t.insight.created}function _(t){return(0,f.kG)(t,"insight must be specified"),t.insight.updated}function S(t){return(0,f.kG)(t,"insight must be specified"),t.insight.isLocked||!1}function D(t,e=[]){return(0,f.kG)(t,"insight must be specified"),{insight:Object.assign(Object.assign({},t.insight),{filters:e})}}r(29205),r(99991),r(21882)},94514:(t,e,r)=>{r.d(e,{f:()=>o});var n=r(37693),i=r.n(n);function o(t){return!i()(t)&&"attribute"===t.type}},26090:(t,e,r)=>{r.d(e,{t:()=>o});var n=r(37693),i=r.n(n);function o(t){return!i()(t)&&"attributeHierarchy"===t.type}},26235:(t,e,r)=>{r.d(e,{q:()=>o});var n=r(37693),i=r.n(n);function o(t){return!i()(t)&&"dateDataset"===t.type}},95296:(t,e,r)=>{r.d(e,{j:()=>o});var n=r(37693),i=r.n(n);function o(t){return!i()(t)&&"fact"===t.type}},39166:(t,e,r)=>{r.d(e,{m:()=>o});var n=r(37693),i=r.n(n);function o(t){return!i()(t)&&"measure"===t.type}},89558:(t,e,r)=>{r.d(e,{A:()=>i});var n=r(18653);function i(t){return(0,n.J)(t)&&"attribute"===t.type}},57408:(t,e,r)=>{r.d(e,{i_:()=>i}),r(73734);var n=r(18653);function i(t){return(0,n.J)(t)&&"displayForm"===t.type}},13096:(t,e,r)=>{r.d(e,{i:()=>i});var n=r(18653);function i(t){return(0,n.J)(t)&&"measure"===t.type}},18653:(t,e,r)=>{r.d(e,{J:()=>o});var n=r(37693),i=r.n(n);function o(t){const e=t;return!i()(e)&&void 0!==e.type&&void 0!==e.ref}},2326:(t,e,r)=>{function n(t,e){return e?{identifier:t,type:e}:{identifier:t}}function i(t){return{uri:t}}function o(t){return{localIdentifier:t}}r.d(e,{Ii:()=>n,Qc:()=>o,lR:()=>i})},14215:(t,e,r)=>{r.d(e,{$y:()=>s,K0:()=>u,Mt:()=>c,Rs:()=>l,T8:()=>f,hj:()=>a});var n=r(37693),i=r.n(n),o=r(73734);function a(t){return!i()(t)&&void 0!==t.uri}function s(t){return!i()(t)&&void 0!==t.identifier}function u(t){return a(t)||s(t)}function c(t){return!i()(t)&&void 0!==t.localIdentifier}function l(t){return(0,o.kG)(t,"object reference must be specified"),s(t)?`${t.identifier}`:a(t)?t.uri:t.localIdentifier}function f(t,e){return null==t?null==e:s(t)&&s(e)&&t.type&&e.type?t.identifier===e.identifier&&t.type===e.type:s(t)&&s(e)?t.identifier===e.identifier:a(t)&&a(e)?t.uri===e.uri:c(t)&&c(e)&&t.localIdentifier===e.localIdentifier}r(79884)},44113:(t,e,r)=>{function n(t){return t.replace(/[^a-zA-Z0-9_.]/g,"_")}r.d(e,{V:()=>n})},6695:()=>{}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n](o,o.exports,r),o.loaded=!0,o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};(()=>{r.d(n,{ContextDeferredAuthProvider:()=>ku,default:()=>Au,redirectToBearAuthentication:()=>Cu,redirectToBearSsoAuthentication:()=>Tu}),r(85890);var t=r(81028),e=r.n(t),i=r(37693),o=r.n(i);function a(t){return!o()(t)&&void 0!==t.visualizationObject}function s(t){return!o()(t)&&void 0!==t.measure}function u(t){return!o()(t)&&void 0!==t.visualizationAttribute}function c(t){return!o()(t)&&(void 0!==t.positiveAttributeFilter||void 0!==t.negativeAttributeFilter)}function l(t){return!o()(t)&&void 0!==t.positiveAttributeFilter}function f(t){return function(t){var e,r;return null!==(r=null===(e=function(t){return e=t.definition,o()(e)||void 0===e.measureDefinition?void 0:t.definition.measureDefinition;var e}(t))||void 0===e?void 0:e.filters)&&void 0!==r?r:[]}(t).filter(c)}function d(t){return l(t)?t.positiveAttributeFilter.displayForm.uri:t.negativeAttributeFilter.displayForm.uri}function p(t){const e=function(t){return t.buckets.reduce(((t,e)=>(t.push(...function(t){return t.items.reduce(((t,e)=>(u(e)&&t.push(e.visualizationAttribute),t)),[])}(e)),t)),[])}(t).map((t=>t.displayForm.uri)),r=function(t){return function(t){return t.buckets.reduce(((t,e)=>(t.push(...function(t){return t.items.reduce(((t,e)=>(s(e)&&t.push(e.measure),t)),[])}(e)),t)),[])}(t).reduce(((t,e)=>(t.push(...f(e)),t)),[])}(t);return[...r.map(d),...e]}var h=r(65890),y=r(93064),m=r.n(y),g=r(49274),b=r.n(g),v=r(53991),w=r.n(v),O=r(36553),j=r.n(O),x=r(46186),P=r.n(x),_=r(3335),S=r.n(_),D=r(94778),k=r.n(D);const A=(t,e)=>k().stringify(t,Object.assign(Object.assign({},e),{arrayFormat:"comma"})),C="X-GDC-DEPRECATED",T={name:"@gooddata/api-client-bear",version:"0.0.0-dev.0"};function E(t,e){const r={setRequestHeader(t,r){w()(e,["headers",t],r)}};b()(e.beforeSend)&&e.beforeSend(r,t)}function I(t,e,r){let n=t;const i=e;return r&&(-1===t.indexOf(r)&&(n=r+t),i.mode="cors",i.credentials="include"),{url:n,settings:i}}function R({name:t,version:e}){return{"X-GDC-JS-PKG":t,"X-GDC-JS-PKG-VERSION":e}}class F extends Error{constructor(t,e){super(t),this.cause=e,Object.setPrototypeOf(this,new.target.prototype)}}class M extends F{constructor(t,e,r){super(t,null),this.response=e,this.responseBody=r}}class U extends F{}class B{constructor(t,e){this.response=t,this.responseBody=e}get data(){return this.getDataInner()}getData(){return this.getDataInner()}getRawData(){return this.responseBody}getHeaders(){return this.response}getDataInner(){if("string"==typeof this.responseBody)try{return JSON.parse(this.responseBody)}catch(t){throw new Error("Cannot parse responseBody.")}throw new Error("ArrayBuffer ResponseBody cannot be parsed to requested type.")}}let N=!0;class L{constructor(t,e){this.fetch=t,this.configStorage=e,j()(e,{xhrSettings:{}})}ensureNoLeadingTokenRequest(){this.tokenRequest=null}ajaxSetup(t){Object.assign(this.configStorage.xhrSettings,t)}async ajax(t,e={}){var r,n;const i=this.createRequestSettings(e),{url:o,settings:a}=I(t,i,this.configStorage.domain);if(E(o,a),this.tokenRequest)return this.continueAfterTokenRequest(o,a);let s;try{s=await this.fetch(o,a)}catch(t){throw new U(t.message,t)}const u=a.arrayBufferResponseBody?await s.arrayBuffer():await s.text();if(401===s.status){const t=-1!==o.indexOf("/gdc/account/login"),e=-1!==o.indexOf("/gdc/account/token");if(t||e)throw new M("Unauthorized",s,u);return this.handleUnauthorized(o,a)}if(202===s.status&&!a.dontPollOnResult){let t;try{t=JSON.parse(this.responseBodyAsString(u))}catch(e){t={}}const e=""!==s.url?s.url:void 0;let i=null!==(n=null!==(r=t.uri)&&void 0!==r?r:e)&&void 0!==n?n:o;const c=a;return s.headers.has("Location")&&(i=s.headers.get("Location")),c.method="GET",delete c.data,delete c.body,function(t,e,r){const n=S()(e,"pollDelay");return new Promise(((i,o)=>{setTimeout((()=>{r(t,e).then(i,o)}),n)}))}(i,c,this.ajax.bind(this))}if(this.verifyRestApiDeprecationStatus(s.headers),s.status>=200&&s.status<=399)return new B(s,u);throw new M(s.statusText,s,this.responseBodyAsString(u))}get(t,e){return this.ajax(t,P()({method:"GET"},e))}getParsed(t,e={}){const{data:r}=e,n=(0,h._T)(e,["data"]);let i=t;return r&&(i=`${t}?${A(r)}`),this.ajax(i,P()({method:"GET"},n)).then((t=>t.getData()))}head(t,e){return this.ajax(t,P()({method:"HEAD"},e))}post(t,e){return this.ajax(t,P()({method:"POST"},e))}postParsed(t,e){return this.ajax(t,P()({method:"POST"},e)).then((t=>t.getData()))}put(t,e){return this.ajax(t,P()({method:"PUT"},e))}del(t,e){return this.ajax(t,P()({method:"DELETE"},e))}createRequestSettings(t){const e=P()({headers:Object.assign({Accept:"application/json; charset=utf-8","Content-Type":"application/json","X-GDC-VERSION":5},R(this.configStorage.originPackage||T))},this.configStorage.xhrSettings,t);return e.pollDelay=void 0!==e.pollDelay?e.pollDelay:1e3,e.body=e.data?e.data:e.body,e.mode="same-origin",e.credentials="same-origin",m()(e.body)&&(e.body=JSON.stringify(e.body)),e}continueAfterTokenRequest(t,e){return this.tokenRequest.then((async r=>{if(!r.ok)throw new M("Unauthorized",r,null);return this.tokenRequest=null,this.ajax(t,e)}),(t=>(this.tokenRequest=null,t)))}async handleUnauthorized(t,e){if(this.tokenRequest)return this.continueAfterTokenRequest(t,e);const{url:r,settings:n}=I("/gdc/account/token",this.createRequestSettings({}),this.configStorage.domain);E(r,n),this.tokenRequest=this.fetch(r,n);const i=await this.tokenRequest,o=await i.text();if(this.tokenRequest=null,401===i.status)throw new M("Unauthorized",i,o);if(!i.ok)throw new M(i.statusText,i,o);return this.ajax(t,e)}logDeprecatedRestApiCall(t){console.warn(`The REST API version 5 is deprecated (${t}). Please migrate your application to use GoodData.UI SDK or @gooddata/api-client-bear package that supports newer version of the API.`)}isRestApiDeprecated(t){return t.has(C)}verifyRestApiDeprecationStatus(t){if(N&&this.isRestApiDeprecated(t)){const e=t.get(C);this.logDeprecatedRestApiCall(e),N=!1}}responseBodyAsString(t){const e=new TextDecoder("utf-8");return t instanceof ArrayBuffer?e.decode(t):t}}var W=r(73734),z=r(20253),G=r.n(z),$=r(46139),H=r.n($),q=r(44384);function V(t){return new Promise((e=>{setTimeout((()=>e()),t)}))}function Y(t){const e=t.status;return 200===e||e>=400}const Q=t=>{const e=t.headers.get("Content-Disposition")||"",r=/filename\*?=([^']*'')?([^;]*)/.exec(e),n=r?r[2]:void 0;return n?decodeURIComponent(n):void 0},J=t=>{switch(t){case"csv":return"text/csv";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";default:return"application/octet-stream"}},K=r.n(q)()((t=>!!G()(t)||!!H()(t)&&o()(t))),X=t=>{var e;return null===(e=null==t?void 0:t.query)||void 0===e?void 0:e.entries},Z=(t,e,r,n={})=>{const{attempts:i=0,maxAttempts:o=50,pollStep:a=5e3}=n;return t(e).then((t=>t.getData())).then((s=>i>o?Promise.reject(new Error(s)):r(s)?Promise.resolve(s):V(a).then((()=>Z(t,e,r,Object.assign(Object.assign({},n),{attempts:i+1}))))))},tt=(t,e,r,n={})=>{const{attempts:i=0,maxAttempts:o=50,pollStep:a=5e3,blobContentType:s}=n;return t(e,{arrayBufferResponseBody:void 0!==s}).then((s=>{if(i>o)return Promise.reject(new Error("Export timeout!!!"));const u=s.getHeaders();if(r(u,s)){if(200===u.status){if(n.blobContentType){const t=new Blob([s.getRawData()],{type:n.blobContentType});return Promise.resolve({uri:e,objectUrl:URL.createObjectURL(t),fileName:Q(u)})}return Promise.resolve({uri:e})}return Promise.reject(new M(s.statusText,s,s.getData()))}return V(a).then((()=>tt(t,e,r,Object.assign(Object.assign({},n),{attempts:i+1}))))}))},et=/\/gdc\/md\/\S+\/obj\/\d+/,rt=t=>et.test(t);function nt(t){return t?`?${Object.keys(t).map((e=>{return r=e,n=t[e],Array.isArray(n)?n.map((t=>`${encodeURIComponent(r)}=${encodeURIComponent(t)}`)).join("&"):`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;var r,n})).join("&")}`:""}function it(t,e,r,n=0,i=[]){return new Promise(((o,a)=>{t.get(`${e}?offset=${n}&limit=100`).then((t=>t.getData())).then((a=>{var s,u;const c=null==a?void 0:a[r],l=i.concat(c.items),f=null!==(u=null===(s=null==c?void 0:c.paging)||void 0===s?void 0:s.totalCount)&&void 0!==u?u:0,d=n+100;o(d>f?l:it(t,e,r,d,l))}),a)}))}const ot=t=>{if("true"===t)return!0;if("false"===t)return!1;const e=Number(t);return e.toString()===t?e:t},at=[{r:43,g:107,b:174},{r:105,g:170,b:81},{r:238,g:177,b:76},{r:213,g:60,b:56},{r:137,g:77,b:148},{r:115,g:115,b:115},{r:68,g:169,b:190},{r:150,g:189,b:95},{r:253,g:147,b:105},{r:225,g:93,b:134},{r:124,g:111,b:173},{r:165,g:165,b:165},{r:122,g:166,b:213},{r:130,g:208,b:141},{r:255,g:210,b:137},{r:241,g:132,b:128},{r:191,g:144,b:198},{r:191,g:191,b:191}];class st{constructor(t){this.xhr=t}getCurrentProjectId(){return this.xhr.getParsed("/gdc/app/account/bootstrap/projectId").then((t=>t.projectId))}getProject(t){return this.xhr.getParsed(`/gdc/projects/${t}`)}getProjects(t){return it(this.xhr,`/gdc/account/profile/${t}/projects`,"projects").then((t=>t.map((t=>t.project))))}getProjectsWithPaging(t,e,r,n){const i={limit:r,offset:e,userId:t,projectStates:"ENABLED",userState:"ENABLED"};n&&(i.titleSubstring=n);const o=`/gdc/internal/projects/?${A(i)}`;return this.xhr.get(o).then((t=>t.getData()))}getDatasets(t){return this.xhr.get(`/gdc/md/${t}/query/datasets`).then((t=>t.getData())).then(X)}getColorPalette(t){return this.xhr.get(`/gdc/projects/${t}/styleSettings`).then((t=>t.getData())).then((t=>t?t.styleSettings.chartPalette.map((t=>({r:t.fill.r,g:t.fill.g,b:t.fill.b}))):at)).catch((t=>{if(!(t instanceof F))return at;throw t}))}getColorPaletteWithGuids(t){return this.xhr.get(`/gdc/projects/${t}/styleSettings`).then((t=>t.getData())).then((t=>(null==t?void 0:t.styleSettings)?t.styleSettings.chartPalette:void 0)).catch((t=>{if(t instanceof F)throw t}))}setColorPalette(t,e){return this.xhr.put(`/gdc/projects/${t}/styleSettings`,{body:{styleSettings:{chartPalette:e.map(((t,e)=>({fill:t,guid:`guid${e}`})))}}})}getTimezone(t){const e=`/gdc/app/projects/${t}/timezone`;return this.xhr.getParsed(e).then((t=>t.timezone))}setTimezone(t,e){const r=`/gdc/md/${t}/service/timezone`,n={service:{timezone:e}};return this.xhr.post(r,{body:n}).then((t=>t.getData()))}createProject(t,e,r={}){const{summary:n,projectTemplate:i,driver:o="Pg",environment:a="TESTING",guidedNavigation:s=1}=r;return this.xhr.post("/gdc/projects",{body:JSON.stringify({project:{content:{guidedNavigation:s,driver:o,authorizationToken:e,environment:a},meta:{title:t,summary:n,projectTemplate:i}}})}).then((t=>t.getData())).then((t=>Z(this.xhr.get.bind(this.xhr),t.uri,(t=>(t=>{const e=t.content.state;return"ENABLED"===e||"DELETED"===e})(t.project)),r)))}deleteProject(t){return this.xhr.del(`/gdc/projects/${t}`)}getFeatureFlags(t){return this.xhr.get(`/gdc/app/projects/${t}/featureFlags`).then((t=>t.getData())).then((t=>(null==t?void 0:t.featureFlags)?t.featureFlags:{}))}getConfig(t){return this.xhr.get(`/gdc/app/projects/${t}/config`).then((t=>t.getData())).then((t=>{var e;return(null===(e=null==t?void 0:t.settings)||void 0===e?void 0:e.items)?t.settings.items:[]}))}getConfigItem(t,e){return this.xhr.get(`/gdc/app/projects/${t}/config/${e}`).then((t=>t.getData())).catch((t=>{var e;if(404!==(null===(e=null==t?void 0:t.response)||void 0===e?void 0:e.status))throw t}))}getProjectFeatureFlags(t,e){return this.getConfig(t).then((t=>{const r=e?t.filter((t=>t.settingItem.source===e)):t,n={};return r.forEach((t=>{n[t.settingItem.key]=ot(t.settingItem.value)})),n}))}getUserListWithPaging(t,e){return this.xhr.getParsed(`/gdc/projects/${t}/userlist`,{data:e})}getUserList(t,e){const r=async(n=0,i=1e3,o=[])=>this.getUserListWithPaging(t,Object.assign(Object.assign({},e),{limit:i,offset:n})).then((({userList:{items:t,paging:{count:e}}})=>{const a=[...o,...t];return e<i?a:r(n+i,i,a)}));return r()}getUserGroups(t,e){const{offset:r="0",limit:n=100}=e;return this.xhr.getParsed(`/gdc/userGroups?project=${t}&offset=${r}&limit=${n}`)}getGranteesInfo(t,e){const{permission:r="read"}=e,n=t.replace("/md/","/projects/");return this.xhr.getParsed(`${n}/grantees?permission=${r}`)}convertGrantees(t=[]){return t.map((t=>({aclEntryURI:{permission:"read",grantee:t}})))}handleGranteesChangeError(t){var e;if(200!==(null===(e=null==t?void 0:t.response)||void 0===e?void 0:e.status))throw t}addGrantees(t,e){const r={granteeURIs:{items:this.convertGrantees(e)}};return this.xhr.post(`${t}/grantees/add`,{body:Object.assign({},r)}).catch(this.handleGranteesChangeError)}removeGrantees(t,e=[]){const r={granteeURIs:{items:this.convertGrantees(e)}};return this.xhr.post(`${t}/grantees/remove`,{body:Object.assign({},r)}).catch(this.handleGranteesChangeError)}getPermissions(t,e){return this.xhr.getParsed(`/gdc/projects/${t}/users/${e}/permissions`)}getProjectLcmIdentifiers(t,e,r,n){return(0,W.kG)(t,"domain ID must be specified"),e?this.xhr.getParsed(`/gdc/projects/${e}/lcmEntity`).then((({projectUri:t,clientId:e,dataProductId:r,segmentId:n})=>({projectLcm:{projectId:this.extractIdFromUri(t),clientId:e,dataProductId:r,segmentId:n}}))):((0,W.kG)(r,"product ID must be specified when project ID is not provided"),(0,W.kG)(n,"client ID must be specified when project ID is not provided"),this.xhr.getParsed(`/gdc/domains/${t}/dataproducts/${r}/clients/${n}`).then((({client:{id:t,project:e,segment:r,links:n}})=>({projectLcm:{projectId:this.extractIdFromUri(e),clientId:t,dataProductId:this.extractIdFromUri(null==n?void 0:n.dataProduct),segmentId:this.extractIdFromUri(r)}}))))}extractIdFromUri(t){return null==t?void 0:t.split("/").pop()}}class ut{constructor(t){this.xhr=t}async isLoggedIn(){var t;try{return!!(await this.xhr.get("/gdc/account/token")).response.ok}catch(e){if(401===(null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.status))return!1;throw e}}async isLoggedInProject(t){const e=await this.getCurrentProfile(),r=new st(this.xhr);return(await r.getProjects(e.links.self.split("/")[4])).some((e=>{var r;return(null===(r=e.links)||void 0===r?void 0:r.self)===`/gdc/projects/${t}`}))}login(t,e){return this.xhr.postParsed("/gdc/account/login",{body:JSON.stringify({postUserLogin:{login:t,password:e,remember:1,captcha:"",verifyCaptcha:""}})})}loginSso(t,e,r){return this.xhr.post("/gdc/account/customerlogin",{data:{pgpLoginRequest:{targetUrl:r,ssoProvider:e,encryptedClaims:t}}})}async logout(){if(await this.isLoggedIn()){const{logoutUri:t}=await this.getAccountInfo();return this.xhr.del(t)}}getCurrentProfile(){return this.xhr.getParsed("/gdc/account/profile/current").then((t=>t.accountSetting))}getUserRegionalNumberFormatting(t){return this.xhr.getParsed(`/gdc/account/profile/${t}/settings/separators`).then((t=>({decimal:t.separators.decimal,thousand:t.separators.thousand})))}updateProfileSettings(t,e){return this.xhr.put(`/gdc/account/profile/${t}/settings`,{body:e})}async getAccountInfo(){const{accountInfo:t}=await this.xhr.getParsed("/gdc/app/account/bootstrap/account");return t}async getUserConfigs(t){return(await this.xhr.getParsed(`/gdc/account/profile/${t}/config`)).settings.items||[]}getUserFeatureFlags(t,e){return this.getUserConfigs(t).then((t=>{const r=e?t.filter((t=>e.includes(t.settingItem.source))):t,n={};return r.forEach((t=>{n[t.settingItem.key]=ot(t.settingItem.value)})),n}))}async getFeatureFlags(){const{featureFlags:t}=await this.xhr.getParsed("/gdc/app/account/bootstrap/featureFlags");return t}async getCurrentOrganization(){return this.xhr.getParsed("/gdc/app/organization/current")}getBootstrapResource(t={}){const{projectId:e,productId:r,clientId:n,loadAnalyticalDashboards:i=!0}=t;let o=`/gdc/app/account/bootstrap?loadAnalyticalDashboards=${i}`;return e?o=`${o}&projectUri=/gdc/projects/${e}`:r&&n&&(o=`${o}&projectUri=/gdc/projects/client:${r}:${n}`),this.xhr.getParsed(o)}initiateSamlSso(t){return this.xhr.ensureNoLeadingTokenRequest(),this.xhr.get(`/gdc/account/samlrequest?${k().stringify({relayState:t})}`).then((t=>t.getData())).then((t=>{const e=t.samlRequests.items[0].samlRequest.loginUrl;window.location.assign(e)}))}}var ct=r(83401),lt=r.n(ct),ft=r(610),dt=r.n(ft),pt=r(36614),ht=r.n(pt),yt=r(72626),mt=r.n(yt),gt=r(76967),bt=r.n(gt),vt=r(90576),wt=r.n(vt);function Ot(t){return!bt()(t)&&"attribute"===t.meta.category}function jt(t){return!bt()(t)&&wt()(t,"attribute")}function xt(t){return!bt()(t)&&"attributeDisplayForm"===t.meta.category}function Pt(t){return!bt()(t)&&"metric"===t.meta.category}function _t(t){return!bt()(t)&&"fact"===t.meta.category}function St(t){return!bt()(t)&&"dataSet"===t.meta.category}function Dt(t){return!bt()(t)&&"theme"===t.meta.category}function kt(t){if(!t.response.ok)throw new M(t.response.statusText,t.response,t.getData());return t.getData()}class At{constructor(t){this.xhr=t}async getAttributeElementDefaultDisplayFormValue(t){const e=t.match(/(.+)\/elements\?id=(.*)/);if(!e)throw new Error("Provide valid attribute element uri");const r=e[1],n=e[2],i=await this.getAttributeDefaultDisplayForm(r);if(!i)throw new Error("Attribute of the provided element has no default display form!");const o=i.meta.uri;return(await this.xhr.getParsed(`${o}/elements?id=${n}`)).attributeElements.elements[0]}async getAttributeDefaultDisplayForm(t){const e=await this.xhr.getParsed(t);if(!jt(e))throw new Error("Provided uri is not attribute uri!");return e.attribute.content.displayForms.find((t=>1===t.content.default))||e.attribute.content.displayForms[0]}async getObjectByIdentifier(t,e){const r=await this.getObjectUri(t,e);return this.xhr.getParsed(r)}async getObjectsByIdentifiers(t,e){const r=(await this.getUrisFromIdentifiers(t,e)).map((t=>t.uri));return this.getObjects(t,r)}getObjects(t,e){const r=`/gdc/md/${t}/objects/get`,n=lt()(e,50).map((t=>{const e={get:{items:t}};return this.xhr.post(r,{body:e}).then((t=>{if(!t.response.ok)throw new M(t.response.statusText,t.response,t.responseBody);return t.getData()})).then((t=>t.objects.items.map((t=>t.visualizationObject?{visualizationObject:t.visualizationObject}:t))))}));return Promise.all(n).then(dt())}getObjectsByQuery(t,e){const r=(t,e=[])=>this.xhr.get(t).then((t=>t.getData())).then((({objects:t})=>{e.push(...t.items);const n=t.paging.next;return n?r(n,e):e})),n=e.deprecated?{deprecated:1}:{},i=`/gdc/md/${t}/objects/query`,o=ht()(Object.assign(Object.assign({limit:50},e),n),["category","mode","author","limit","deprecated"]);return r(i+nt(o))}getObjectsByQueryWithPaging(t,e){const r=(null==e?void 0:e.getTotalCount)?1:0,n=`/gdc/md/${t}/objects/query?${A(Object.assign(Object.assign({},e),{getTotalCount:r}))}`;return this.xhr.get(n).then((t=>t.getData())).then((({objects:t})=>t))}getObjectUsing(t,e,r={}){const{types:n=[],nearest:i=!1}=r,o=`/gdc/md/${t}/using2`,a={inUse:{uri:e,types:n,nearest:i?1:0}};return this.xhr.post(o,{body:a}).then(kt).then((t=>t.entries))}getObjectUsingMany(t,e,r={}){const{types:n=[],nearest:i=!1}=r,o=`/gdc/md/${t}/using2`,a={inUseMany:{uris:e,types:n,nearest:i?1:0}};return this.xhr.post(o,{body:a}).then(kt).then((t=>t.useMany))}getObjectUsedBy(t,e,r){const{nearest:n=!1,types:i=[]}=r,o={inUse:{nearest:n?1:0,uri:e,types:i}};return this.xhr.postParsed(`/gdc/md/${t}/usedby2`,{body:o}).then((t=>t.entries))}getObjectsUsedByMany(t,e,r){const n=`/gdc/md/${t}/usedby2`,{nearest:i=!1,types:o=[]}=r,a={inUseMany:{nearest:i?1:0,uris:e,types:o}};return this.xhr.postParsed(n,{body:a}).then((t=>t.useMany))}getVisualizations(t){return this.xhr.get(`/gdc/md/${t}/query/visualizationobjects`).then((t=>t.response.ok?t.getData():t.response)).then(X)}getAttributes(t){return this.xhr.get(`/gdc/md/${t}/query/attributes`).then((t=>t.response.ok?t.getData():t.response)).then(X)}getDimensions(t){return this.xhr.get(`/gdc/md/${t}/query/dimensions`).then((t=>t.response.ok?t.getData():t.response)).then(X)}getFolders(t,e){const r=(t,e)=>{const r=e?`?type=${e}`:"";return this.xhr.get(`/gdc/md/${t}/query/folders${r}`).then((t=>t.getData())).then(X)};switch(e){case"fact":case"metric":return r(t,e);case"attribute":return this.getDimensions(t);default:return Promise.all([r(t,"fact"),r(t,"metric"),this.getDimensions(t)]).then((([t,e,r])=>({fact:t,metric:e,attribute:r})))}}getFacts(t){return this.xhr.get(`/gdc/md/${t}/query/facts`).then((t=>t.response.ok?t.getData():t.response)).then(X)}getMetrics(t){return this.xhr.get(`/gdc/md/${t}/query/metrics`).then((t=>t.response.ok?t.getData():t.response)).then(X)}getProjectDashboards(t){return this.xhr.getParsed(`/gdc/md/${t}/query/projectdashboards`).then((e=>{const r=e.query.entries.map((t=>t.link));return this.getObjects(t,r)}))}getAnalyticalDashboards(t,e){return this.xhr.getParsed(`/gdc/md/${t}/query/analyticaldashboard?showAll=${e?1:0}`).then((t=>t.query.entries))}getDashboardPlugins(t){return this.xhr.getParsed(`/gdc/md/${t}/query/dashboardplugins`).then((t=>t.query.entries))}getAvailableMetrics(t,e=[]){return this.xhr.post(`/gdc/md/${t}/availablemetrics`,{body:e}).then((t=>t.response.ok?t.getData():t.response)).then((t=>t.entries))}getAvailableAttributes(t,e=[]){return this.xhr.post(`/gdc/md/${t}/drillcrosspaths`,{body:e}).then((t=>t.response.ok?t.getData():t.response)).then((t=>t.drillcrosspath.links))}getAvailableFacts(t,e=[]){return this.xhr.post(`/gdc/md/${t}/availablefacts`,{body:e}).then((t=>t.response.ok?t.getData():t.response)).then((t=>t.entries))}getObjectDetails(t){return this.xhr.get(t).then((t=>t.getData()))}getFoldersWithItems(t,e){return this.getFolders(t,e).then((r=>{const n=t=>Promise.all(t.map(this.getObjectDetails)).then((t=>t.map((t=>t.metric))));function i(t,e){return t.map((t=>t[e]))}const o=t=>{t.forEach((t=>{t.items.sort(((t,e)=>t.meta.title<e.meta.title?-1:t.meta.title>e.meta.title?1:0))})),t.sort(((t,e)=>t.title<e.title?-1:t.title>e.title?1:0))},a=i(r,"link"),s=i(r,"title");return Promise.all(a.map(this.getObjectDetails)).then((r=>{if("attribute"===e)return this.getAttributes(t).then((t=>{const e=[];r.forEach((t=>{t.dimension.content.attributes.forEach((t=>{e.push(t.meta.uri)}))}));const n=t.filter((t=>-1===e.indexOf(t.link))).map((t=>t.link));return Promise.all(n.map(this.getObjectDetails)).then((t=>{const e=t.map((t=>t.attribute)),n=r.map((t=>({title:t.dimension.meta.title,items:t.dimension.content.attributes})));return n.push({title:"Unsorted",items:e}),o(n),n}))}));if("metric"===e){const e=r.map((t=>i(t.folder.content.entries,"link")));return this.getMetrics(t).then((t=>{const i=[];r.forEach((t=>{t.folder.content.entries.forEach((t=>{i.push(t.link)}))}));const a=t.filter((t=>-1===i.indexOf(t.link))).map((t=>t.link));return e.push(a),Promise.all(e.map((t=>n(t)))).then((t=>{const e=t.map(((t,e)=>({title:s[e]||"Unsorted",items:t})));return o(e),e}))}))}return Promise.reject(null)}))}))}getObjectIdentifier(t){function e(t){if(t.attribute)return t.attribute.content.displayForms[0].meta.identifier;if(t.dimension)return t.dimension.content.attributes.content.displayForms[0].meta.identifier;if(t.metric)return t.metric.meta.identifier;if(t.dataSet)return t.dataSet.meta.identifier;throw Error("Unknown object!")}return m()(t)?Promise.resolve(e(t)):this.getObjectDetails(t).then((t=>e(t)))}getObjectUri(t,e){return this.xhr.post(`/gdc/md/${t}/identifiers`,{body:{identifierToUri:[e]}}).then((r=>{const n=r.getData().identifiers.find((t=>t.identifier===e));if(n)return n.uri;throw new M(`Object with identifier ${e} not found in project ${t}`,r.response,r.responseBody)}))}getUrisFromIdentifiers(t,e){return e.length?this.xhr.post(`/gdc/md/${t}/identifiers`,{body:{identifierToUri:e}}).then((t=>t.getData())).then((t=>t.identifiers)):Promise.resolve([])}getIdentifiersFromUris(t,e){return this.xhr.post(`/gdc/md/${t}/identifiers`,{body:{uriToIdentifier:e}}).then((t=>t.getData())).then((t=>t.identifiers))}translateElementLabelsToUris(t,e,r,n="EXACT"){return this.xhr.post(`/gdc/md/${t}/labels`,{body:{elementLabelToUri:[{labelUri:e,mode:n,patterns:r}]}}).then((t=>{var e;return t.response.ok?null===(e=t.getData())||void 0===e?void 0:e.elementLabelUri:t.response}))}getValidElements(t,e,r={}){const n=nt(mt()(ht()(r,["limit","offset","order","filter","prompt"]),(t=>void 0!==t))),i=ht()(r,["uris","complement","includeTotalCountWithoutFilters","restrictiveDefinition"]),{afm:o}=r;return(o?()=>this.xhr.post(`/gdc/app/projects/${t}/executeAfm/debug`,{body:{execution:{afm:o}}}).then((t=>t.getData())).then((t=>Object.assign(Object.assign({},i),{restrictiveDefinitionContent:t.reportDefinitionWithInlinedMetrics.content}))):()=>Promise.resolve(i))().then((r=>this.xhr.postParsed(`/gdc/md/${t}/obj/${e}/validElements${n}`.replace(/\?$/,""),{body:{validElementsRequest:r}})))}getVisualization(t){return this.getObjectDetails(t).then((t=>({visualizationObject:t.visualizationObject})))}saveVisualization(t,e){return this.createObject(t,{visualizationObject:e.visualizationObject})}updateVisualization(t,e,r){const n=e.split("/").slice(-1)[0];return this.updateObject(t,n,{visualizationObject:r.visualizationObject})}deleteVisualization(t){return this.deleteObject(t)}deleteObject(t){return this.xhr.del(t)}async bulkDeleteObjects(t,e,r="cascade"){const n=`/gdc/md/${t}/objects/delete`,i={delete:{items:e,mode:r}};await this.xhr.post(n,{data:i})}createObject(t,e){return this.xhr.postParsed(`/gdc/md/${t}/obj?createAndGet=true`,{body:e})}updateObject(t,e,r){return this.xhr.put(`/gdc/md/${t}/obj/${e}`,{body:r}).then((t=>t.getData()))}openVisualizationAsReport(t,e){return this.xhr.post(`/gdc/internal/projects/${t}/convertVisualizationObject`,{body:e}).then((t=>t.getData())).then((({uri:t})=>t))}ldmManage(t,e,r={}){return this.xhr.post(`/gdc/md/${t}/ldm/manage2`,{body:{manage:{maql:e}}}).then((t=>t.getData())).then((t=>{const e=t.entries[0].link;return Z(this.xhr.get.bind(this.xhr),e,this.isTaskFinished,r)})).then(this.checkStatusForError)}etlPull(t,e,r={}){return this.xhr.post(`/gdc/md/${t}/etl/pull2`,{body:{pullIntegration:e}}).then((t=>t.getData())).then((t=>{const e=t.pull2Task.links.poll;return Z(this.xhr.get.bind(this.xhr),e,this.isTaskFinished,r)})).then(this.checkStatusForError)}isTaskFinished(t){const e=t.wTaskStatus.status;return"OK"===e||"ERROR"===e}checkStatusForError(t){return"ERROR"===t.wTaskStatus.status?Promise.reject(t):t}}var Ct=r(76917),Tt=r.n(Ct),Et=r(17506),It=r.n(Et),Rt=r(84799),Ft=r.n(Rt);function Mt(t,e){return Ft()(t,It()(["identifier","uri","author","created","updated","contributor",(null==e?void 0:e.clearLockedFlag)&&"locked"]))}class Ut{constructor(t){this.xhr=t,this.metadataModule=new At(t),this.userModule=new ut(t)}async saveDashboardAs(t,e,r){var n,i,o,a;const s=await this.getObjectsFromDashboard(t,e),u=await this.metadataModule.getObjectDetails(e),{analyticalDashboard:c}=u,l=[],f=[];try{const e=await this.duplicateFilterContext(t,s,r);l.push(e);const d=await this.duplicateOrKeepKpis(t,s,r);this.shouldCopyKpi(r)&&l.push(...Array.from(d.values()));const p=await this.duplicateWidgets(t,s,r);f.push(...Array.from(p.values()));const h=function(t,e){return r=>{const n=t.get(r),i=e.get(r);return n||i||r}}(d,p),y=function(t,e,r){return Tt()(Object.assign(Object.assign({},t.content),{filterContext:r,widgets:t.content.widgets.map((t=>e(t)))}),(t=>{const r=t.uri;if(r)return Object.assign(Object.assign({},t),{uri:e(r)})}))}(c,h,e),m={analyticalDashboard:Object.assign(Object.assign({},u.analyticalDashboard),{content:{filterContext:e,layout:Object.assign({},y.layout),widgets:[...y.widgets]},meta:Object.assign(Object.assign({},Mt(u.analyticalDashboard.meta,r)),{title:null!==(n=r.name)&&void 0!==n?n:`Copy of ${c.meta.title}`,summary:null!==(o=null!==(i=r.summary)&&void 0!==i?i:c.meta.summary)&&void 0!==o?o:"",tags:null!==(a=r.tags)&&void 0!==a?a:c.meta.tags})})};return(await this.metadataModule.createObject(t,m)).analyticalDashboard.meta.uri}catch(n){return this.shouldCopyVisObj(r)?await Promise.all(f.map((e=>this.cascadingDelete(t,e)))):await Promise.all(f.map((t=>this.metadataModule.deleteObject(t)))),await Promise.all(l.map((e=>this.cascadingDelete(t,e)))),e}}async cascadingDelete(t,e){const r=await this.metadataModule.getObjectUsing(t,e),n=(await this.userModule.getAccountInfo()).profileUri,i=r.filter((t=>t.author===n)).map((t=>t.link));return this.xhr.post(`/gdc/md/${t}/objects/delete`,{body:{delete:{items:[e].concat(i),mode:"cascade"}}})}async duplicateOrKeepKpis(t,e,r){const n=new Map;return this.shouldCopyKpi(r)&&await Promise.all(e.filter((t=>"kpi"===this.unwrapObj(t).meta.category)).map((async e=>{const{kpi:i}=e,o={kpi:{meta:Mt(i.meta,r),content:Object.assign({},i.content)}},a=(await this.metadataModule.createObject(t,o)).kpi.meta.uri;n.set(i.meta.uri,a)}))),n}async duplicateWidgets(t,e,r){const n=new Map;return await Promise.all(e.filter((t=>"visualizationWidget"===this.unwrapObj(t).meta.category)).map((async e=>this.createAndUpdateWidgets(t,e,r,n)))),n}async createAndUpdateWidgets(t,e,r,n){const{visualizationWidget:i}=e;if(this.shouldCopyVisObj(r)){const o=await this.metadataModule.getObjectDetails(i.content.visualization),a={visualizationObject:{meta:Mt(o.visualizationObject.meta,r),content:Object.assign({},o.visualizationObject.content)}},s=(await this.metadataModule.createObject(t,a)).visualizationObject.meta.uri,u={visualizationWidget:{meta:Mt(e.visualizationWidget.meta,r),content:Object.assign(Object.assign({},e.visualizationWidget.content),{visualization:s})}},c=(await this.metadataModule.createObject(t,u)).visualizationWidget.meta.uri;n.set(i.meta.uri,c)}else{const i={visualizationWidget:{meta:Mt(e.visualizationWidget.meta,r),content:Object.assign({},e.visualizationWidget.content)}},{visualizationWidget:o}=await this.metadataModule.createObject(t,i);n.set(e.visualizationWidget.meta.uri,o.meta.uri)}}async duplicateFilterContext(t,e,r){const n=e.filter((t=>"filterContext"===this.unwrapObj(t).meta.category))[0],i={filterContext:{meta:Mt(n.filterContext.meta,r),content:Object.assign({},n.filterContext.content)}},{filterContext:o}=await this.metadataModule.createObject(t,i);return o.meta.uri}async getObjectsFromDashboard(t,e){const r=await this.getObjectsUrisInDashboard(t,e);return this.metadataModule.getObjects(t,r)}async getObjectsUrisInDashboard(t,e){return(await this.metadataModule.getObjectUsing(t,e,{types:["kpi","visualizationWidget","filterContext"]})).map((t=>t.link))}unwrapObj(t){return t[Object.keys(t)[0]]}shouldCopyVisObj(t){return!(!t.copyVisObj&&void 0!==t.copyVisObj)}shouldCopyKpi(t){return!(!t.copyKpi&&void 0!==t.copyKpi)}}var Bt=r(74507),Nt=r.n(Bt),Lt=r(12347),Wt=r.n(Lt),zt=r(66380),Gt=r.n(zt),$t=r(84868),Ht=r.n($t),qt=r(96601),Vt=r.n(qt),Yt=r(11954),Qt=r.n(Yt),Jt=r(40596),Kt=r.n(Jt),Xt=r(78307),Zt=r.n(Xt),te=r(11894),ee=r.n(te);const re=/\{\S+\}/g;function ne({metricDefinition:t}){return(t.expression.match(re)||[]).map((t=>t.substring(1,t.length-1)))}function ie({metricDefinition:t}){return t.identifier}function oe(t,{dependencies:e}){const r=Vt()(t,"identifier");return 0===ee()(e,r).length}function ae(t,e){for(let r=0;r<e.length;r+=1){const n=e[r];oe(t,n)&&(t.push(n),e.splice(r,1),r-=1)}}function se(t){const e=t.map((t=>({definition:t,identifier:ie(t),dependencies:ne(t)})));return Vt()(function(t){const e=[];let r;for(;t.length>0;)if(r=t.length,ae(e,t),t.length===r)throw new Error("Metric defintions cannot be sorted due to missing dependencies.");return e}(e),"definition")}class ue{constructor(t){this.md=t}loadAttributesMap(t,e){return 0===e.length?Promise.resolve({}):this.md.getObjects(t,e).then((e=>{const r=function(t){return t.map((t=>t.attributeDisplayForm.content.formOf))}(e);return this.md.getObjects(t,r).then((t=>function(t,e){return t.reduce(((t,r)=>{const n=r.attributeDisplayForm.meta.uri,i=e.find((t=>t.attribute.meta.uri===r.attributeDisplayForm.content.formOf));return t[n]=i,t}),{})}(e,t)))}))}}const ce=Kt()(o());function le(t,e){return(t.element===e.id||t.element===e.uri)&&void 0===e.measureIndex}const fe={extendedTabularDataResult:{values:[],warnings:[]}},de=Zt()((function(t,e){const r=1e3-t.length;return e&&e.length>r?")"===e[e.length-1]?`${e.substring(0,r-2)}…)${t}`:`${e.substring(0,r-1)}…${t}`:`${e}${t}`}),""),pe="#,##0.00%";function he(t){var e,r;return(null!==(r=null===(e=Fe(t))||void 0===e?void 0:e.aggregation)&&void 0!==r?r:"").toLowerCase()}function ye(t){return Qt()(Vt()(Ue(t),(t=>{return(null==(e=t)?void 0:e.positiveAttributeFilter)?o()(null===(r=e.positiveAttributeFilter)||void 0===r?void 0:r.in):(null==e?void 0:e.negativeAttributeFilter)?o()(null===(n=e.negativeAttributeFilter)||void 0===n?void 0:n.notIn):(null==e?void 0:e.absoluteDateFilter)?void 0===(null===(i=null==e?void 0:e.absoluteDateFilter)||void 0===i?void 0:i.from)&&void 0===(null===(a=null==e?void 0:e.absoluteDateFilter)||void 0===a?void 0:a.to):void 0===(null===(s=null==e?void 0:e.relativeDateFilter)||void 0===s?void 0:s.from)&&void 0===(null===(u=null==e?void 0:e.relativeDateFilter)||void 0===u?void 0:u.to);var e,r,n,i,a,s,u})))}function me(t){return""!==he(t)||!ye(t)}function ge(t,e){var r,n,i;return null===(i=null===(n=null===(r=null==e?void 0:e[t])||void 0===r?void 0:r.attribute)||void 0===n?void 0:n.meta)||void 0===i?void 0:i.uri}function be(t,e){return c(e)?function(t,e){var r,n;const i=!!(null==t?void 0:t.negativeAttributeFilter),a=ge(null===(n=null===(r=null==t?void 0:t[i?"negativeAttributeFilter":"positiveAttributeFilter"])||void 0===r?void 0:r.displayForm)||void 0===n?void 0:n.uri,e),s=function(t){var e,r;const n=function(t){return void 0!==(null==t?void 0:t.negativeAttributeFilter)}(t),i=n?null===(e=null==t?void 0:t.negativeAttributeFilter)||void 0===e?void 0:e.notIn:null===(r=null==t?void 0:t.positiveAttributeFilter)||void 0===r?void 0:r.in;return null!=i?i:[]}(t);return o()(s)?null:`[${a}] ${i?"NOT ":""}IN (${Vt()(s,(t=>`[${t}]`)).join(",")})`}(e,t):""}function ve(t,e){var r,n;const i=he(t).toUpperCase(),o=null===(n=null===(r=Fe(t))||void 0===r?void 0:r.item)||void 0===n?void 0:n.uri,a=Wt()(Vt()(Ue(t),Zt()(be,e)),(t=>!!t));return["SELECT",i?`${i}([${o}])`:`[${o}]`,ce(...a)&&`WHERE ${a.join(" AND ")}`].filter(Boolean).join(" ")}function we(t,r,n){var i,o,a;let s=`SELECT [${null===(o=null===(i=Fe(n))||void 0===i?void 0:i.item)||void 0===o?void 0:o.uri}]`;me(n)&&(s=ve(w()(e()(n),["definition","measureDefinition","filters"],[]),r));const u=ge(null===(a=null==t?void 0:t.displayForm)||void 0===a?void 0:a.uri,r),c=Wt()(Vt()(Ue(n),Zt()(be,r)),(t=>!!t)),l=u?` BY ALL [${u}]`:"",f=ce(...c)?` WHERE ${c.join(" AND ")}`:"";return`SELECT (${s}${f}) / (${s}${l}${f})`}function Oe(t,e){return`SELECT ${e} FOR PREVIOUS ([${t}])`}function je(t,e,r){return Nt().hash(`${r}#${t}#${e}`)}function xe(t,e,r,n,i){var a,s,u;const[,,,c,,l]=(null!==(u=null===(s=null===(a=Fe(t))||void 0===a?void 0:a.item)||void 0===s?void 0:s.uri)&&void 0!==u?u:"").split("/"),f=`${c}_${l}`,d=n(r(t,i)),p=o()(Ue(t)),h=function(t){const e=he(t);return""===e?"metric":"count"===e?"attribute":"fact"}(t);return`${h}_${f}.generated.${d}${p||ye(t)?"":"_filtered"}_${e}`}function Pe(t,e){var r,n,i,o;const a=(null!==(n=null===(r=null==e?void 0:e.properties)||void 0===r?void 0:r.sortItems)&&void 0!==n?n:[]).find((e=>{var r,n,i;const o=null==e?void 0:e.measureSortItem;return!!o&&(null===(i=null===(n=null===(r=o.locators)||void 0===r?void 0:r[0])||void 0===n?void 0:n.measureLocatorItem)||void 0===i?void 0:i.measureIdentifier)===(null==t?void 0:t.localIdentifier)}));return null!==(o=null===(i=null==a?void 0:a.measureSortItem)||void 0===i?void 0:i.direction)&&void 0!==o?o:null}function _e(t,e){var r,n,i,o;const a=(null!==(n=null===(r=null==e?void 0:e.properties)||void 0===r?void 0:r.sortItems)&&void 0!==n?n:[]).find((e=>{const r=null==e?void 0:e.attributeSortItem;return!!r&&(null==r?void 0:r.attributeIdentifier)===(null==t?void 0:t.localIdentifier)}));return null!==(o=null===(i=null==a?void 0:a.attributeSortItem)||void 0===i?void 0:i.direction)&&void 0!==o?o:null}function Se(t,e,r,n){const{format:i}=t,o=Pe(t,e),a=de(t.title),s=Zt()(je,a,i),u=he(t),c=xe(t,u.length?u:"base",ve,s,n);return{element:c,definition:{metricDefinition:{identifier:c,expression:ve(t,n),title:a,format:i}},sort:o,meta:{measureIndex:r}}}function De(t,e,r,n){const i=Gt()(Re(e)),o=Zt()(we,i,n),a=de(null==t?void 0:t.title),s=xe(t,"percent",o,Zt()(je,a,pe),n);return{element:s,definition:{metricDefinition:{identifier:s,expression:o(t),title:a,format:pe}},sort:Pe(t,e),meta:{measureIndex:r}}}function ke(t,e){return Me(e).find((e=>{var r;return(null==e?void 0:e.localIdentifier)===(null===(r=function(t){var e,r;return null!==(r=null===(e=null==t?void 0:t.definition)||void 0===e?void 0:e.popMeasureDefinition)&&void 0!==r?r:{}}(t))||void 0===r?void 0:r.measureIdentifier)}))}function Ae(t,e,r){var n;return{element:ge(null===(n=null==r?void 0:r.displayForm)||void 0===n?void 0:n.uri,t),sort:_e(r,e)}}function Ce({definition:t}){return void 0!==(null==t?void 0:t.popMeasureDefinition)}function Te({definition:t}){var e;return null===(e=null==t?void 0:t.measureDefinition)||void 0===e?void 0:e.computeRatio}const Ee=new class{constructor(){this.rules=[]}addRule(t,e){this.rules.push([t,e])}match(t,e){const[,r]=Ht()(this.rules,(([r])=>Qt()(r,(r=>r(t,e)))));return(0,W.kG)(r,"No suitable rule to handle the parameters found."),r}};function Ie(t){var e;return null!==(e=null==t?void 0:t.buckets)&&void 0!==e?e:[]}function Re(t){return Ie(t).reduce(((t,e)=>(t.push(...function(t){return t.items.reduce(((t,e)=>(u(e)&&t.push(e.visualizationAttribute),t)),[])}(e)),t)),[])}function Fe(t){var e,r;return null!==(r=null===(e=null==t?void 0:t.definition)||void 0===e?void 0:e.measureDefinition)&&void 0!==r?r:{}}function Me(t){return Ie(t).reduce(((t,e)=>(t.push(...function(t){return t.items.reduce(((t,e)=>(s(e)&&t.push(e.measure),t)),[])}(e)),t)),[])}function Ue(t){var e,r;return null!==(r=null===(e=Fe(t))||void 0===e?void 0:e.filters)&&void 0!==r?r:[]}Ee.addRule([function(t,e){return!!Ce(t)&&Te(ke(t,e))}],(function(t,e,r,n){var i,o,a;const s=null===(a=null===(o=null===(i=null==t?void 0:t.definition)||void 0===i?void 0:i.popMeasureDefinition)||void 0===o?void 0:o.popAttribute)||void 0===a?void 0:a.uri,u=ke(t,e),c=De(u,e,r,n),l=de(null==t?void 0:t.title),f=pe,d=Zt()(je,l,f),p=Oe(s,`(${c.definition.metricDefinition.expression})`),h=xe(u,"pop",(()=>p),d,n);return{element:h,definition:{metricDefinition:{identifier:h,expression:p,title:l,format:f}},sort:Pe(),meta:{measureIndex:r,isPoP:!0}}})),Ee.addRule([Ce],(function(t,e,r,n){var i,o,a,s,u;const c=de(null==t?void 0:t.title),l=null==t?void 0:t.format,f=Zt()(je,c,l),d=null===(a=null===(o=null===(i=null==t?void 0:t.definition)||void 0===i?void 0:i.popMeasureDefinition)||void 0===o?void 0:o.popAttribute)||void 0===a?void 0:a.uri,p=ke(t,e);let h=Oe(d,`[${null===(u=null===(s=Fe(p))||void 0===s?void 0:s.item)||void 0===u?void 0:u.uri}]`);if(me(p)){const t=`(${Se(p,e,r,n).definition.metricDefinition.expression})`;h=Oe(d,t)}const y=xe(p,"pop",(()=>h),f,n);return{element:y,definition:{metricDefinition:{identifier:y,expression:h,title:c,format:l}},sort:Pe(t,e),meta:{measureIndex:r,isPoP:!0}}})),Ee.addRule([Te],De),Ee.addRule([me],Se),Ee.addRule([function({definition:t}){var e;return void 0===(null===(e=null==t?void 0:t.measureDefinition)||void 0===e?void 0:e.aggregation)}],((t,e,r)=>{var n,i,o;return{element:null===(o=null===(i=null===(n=null==t?void 0:t.definition)||void 0===n?void 0:n.measureDefinition)||void 0===i?void 0:i.item)||void 0===o?void 0:o.uri,sort:Pe(t,e),meta:{measureIndex:r}}}));class Be{constructor(t,e){this.xhr=t,this.loadAttributesMap=e}getData(t,e,r={},n={}){console.warn("ExperimentalExecutionsModule is deprecated and is no longer being maintained. Please migrate to the ExecuteAfmModule.");const i={isLoaded:!1},o={execution:{columns:e}};return["where","orderBy","definitions"].forEach((t=>{r[t]&&(o.execution[t]=r[t])})),this.xhr.post(`/gdc/internal/projects/${t}/experimental/executions`,Object.assign(Object.assign({},n),{body:JSON.stringify(o)})).then((t=>t.getData())).then((t=>{var e,o,a,s;return i.headers=(a=null==r?void 0:r.metricMappings,s=null!==(o=null===(e=null==t?void 0:t.executionResult)||void 0===e?void 0:e.headers)&&void 0!==o?o:[],a&&a.forEach((t=>{const e=Ht()(s,Zt()(le,t));e&&(e.measureIndex=t.measureIndex,e.isPoP=t.isPoP)})),s),this.loadExtendedDataResults(t.executionResult.extendedTabularDataResult,n)})).then((t=>{var e,r,n,o;const{result:a,status:s}=t;return Object.assign(Object.assign({},i),{rawData:null!==(r=null===(e=null==a?void 0:a.extendedTabularDataResult)||void 0===e?void 0:e.values)&&void 0!==r?r:[],warnings:null!==(o=null===(n=null==a?void 0:a.extendedTabularDataResult)||void 0===n?void 0:n.warnings)&&void 0!==o?o:[],isLoaded:!0,isEmpty:204===s})}))}mdToExecutionDefinitionsAndColumns(t,e,r={}){const n=p(e);return this.getAttributesMap(r,n,t).then((t=>function(t,e,r){const n=Me(t);let i=Re(t);const o=dt()(Vt()(n,((e,n)=>function(t,e){const r=Ee.match(t,e);return(0,W.kG)(r,`Unknown metric factory for: ${t}`),r}(e,t)(e,t,n,r))));return e.removeDateItems&&(i=Wt()(i,(t=>!function(t,e={}){var r;return void 0!==function(t,e){var r,n,i;return null===(i=null===(n=null===(r=null==e?void 0:e[t])||void 0===r?void 0:r.attribute)||void 0===n?void 0:n.content)||void 0===i?void 0:i.type}(null===(r=null==t?void 0:t.displayForm)||void 0===r?void 0:r.uri,e)}(t,r)))),i=Vt()(i,Zt()(Ae,r,t)),{columns:It()(Vt()([...i,...o],"element")),definitions:se(It()(Vt()(o,"definition")))}}(e,r,t)))}getAttributesMap(t={},e,r){var n;const i=null!==(n=t.attributesMap)&&void 0!==n?n:{},o=function(t,e){return(t||[]).filter((t=>!e[t]))}(e,i);return this.loadAttributesMap(r,o).then((t=>Object.assign(Object.assign({},i),t)))}loadExtendedDataResults(t,e,r=fe){return new Promise(((n,i)=>{this.xhr.ajax(t,e).then((t=>{const{response:e}=t;return 204===e.status?{status:e.status,result:""}:{status:e.status,result:t.getData()}})).then((({status:t,result:i})=>{var o,a,s,u,c,l,f,d,p,h;const y=[...null!==(a=null===(o=null==r?void 0:r.extendedTabularDataResult)||void 0===o?void 0:o.values)&&void 0!==a?a:[],...null!==(u=null===(s=null==i?void 0:i.extendedTabularDataResult)||void 0===s?void 0:s.values)&&void 0!==u?u:[]],m=[...null!==(l=null===(c=null==r?void 0:r.extendedTabularDataResult)||void 0===c?void 0:c.warnings)&&void 0!==l?l:[],...null!==(d=null===(f=null==i?void 0:i.extendedTabularDataResult)||void 0===f?void 0:f.warnings)&&void 0!==d?d:[]],g=P()({},r,{extendedTabularDataResult:{values:y,warnings:m}}),b=null===(h=null===(p=null==i?void 0:i.extendedTabularDataResult)||void 0===p?void 0:p.paging)||void 0===h?void 0:h.next;n(b?this.loadExtendedDataResults(b,e,g):{status:t,result:g})}),i)}))}}var Ne=r(32354),Le=r.n(Ne);function We(t){return JSON.stringify(t)}class ze extends M{constructor(t,e){super(t.message,t.response,t.responseBody),this.executionResponse=e}}class Ge{constructor(t){this.xhr=t}executeAfm(t,e){var r,n,i;return Ve(null!==(i=null===(n=null===(r=e.execution.resultSpec)||void 0===r?void 0:r.dimensions)||void 0===n?void 0:n.length)&&void 0!==i?i:0),this.getExecutionResponse(t,e).then((t=>this.getExecutionResult(t.links.executionResult).then((e=>({executionResponse:t,executionResult:e}))).catch((e=>{throw new ze(e,t)}))))}getExecutionResponse(t,e){var r,n,i;return Ve(null!==(i=null===(n=null===(r=e.execution.resultSpec)||void 0===r?void 0:r.dimensions)||void 0===n?void 0:n.length)&&void 0!==i?i:0),this.xhr.post(`/gdc/app/projects/${t}/executeAfm`,{body:We(e)}).then((t=>t.getData())).then(He)}_executeVisualization(t,e){return this._getVisExecutionResponse(t,e).then((t=>this.getExecutionResult(t.links.executionResult).then((e=>({executionResponse:t,executionResult:e})))))}_getVisExecutionResponse(t,e){const r=function(t){const{reference:e,resultSpec:r,filters:n}=t.visualizationExecution,i=r?{resultSpec:r}:void 0,o=n?{filters:n}:void 0;return JSON.stringify({visualizationExecution:Object.assign(Object.assign({reference:e},i),o)})}(e);return this.xhr.post(`/gdc/app/projects/${t}/executeVisualization`,{body:r}).then((t=>t.getData())).then(He)}getPartialExecutionResult(t,e,r){const n=$e(t);return Ve(Number(k().parse(n).dimensions)),this.getPage(t,e,r)}getExecutionResult(t){const e=$e(t),r=Number(k().parse(e).dimensions);Ve(r);const n=Array(r).fill(1e3),i=Array(r).fill(0);return this.getAllPages(t,n,i)}getPage(t,e,r){return this.fetchExecutionResult(t,e,r).then((t=>t?qe(t):null))}getAllPages(t,e,r,n){return this.fetchExecutionResult(t,e,r).then((r=>{if(!r)return null;const i=qe(r),o=n?function(t,e){var r,n,i,o,a,s,u,c,l,f,d,p;const h=t,{headerItems:y,data:m,paging:g}=e,b=t=>{const e=0===t?1:0;0===g.offset[e]&&Ye(t,y,h)},v=g.offset[0];if(h.data[v])for(let t=0;t<m.length;t+=1){const e=m[t];h.data[t+v].push(...e)}else{const t=m;h.data.push(...t)}return g.offset.length>1?(b(0),b(1)):Ye(0,y,h),1===g.offset.length&&(h.paging.count=[null!==(o=null===(i=null===(n=null===(r=null==h?void 0:h.headerItems)||void 0===r?void 0:r[0])||void 0===n?void 0:n[0])||void 0===i?void 0:i.length)&&void 0!==o?o:0]),2===g.offset.length&&(h.paging.count=[null!==(c=null===(u=null===(s=null===(a=null==h?void 0:h.headerItems)||void 0===a?void 0:a[0])||void 0===s?void 0:s[0])||void 0===u?void 0:u.length)&&void 0!==c?c:0,null!==(p=null===(d=null===(f=null===(l=null==h?void 0:h.headerItems)||void 0===l?void 0:l[1])||void 0===f?void 0:f[0])||void 0===d?void 0:d.length)&&void 0!==p?p:0]),h}(n,i):i,{offset:a,total:s}=i.paging,u=function(t,e,r){const n=r.length,i=e[0]+t[0];if(1===n)return[i];const o=e[1]+t[1],a=e[1]+t[1]<r[1];return[a?e[0]:i,a?o:0]}(e,a,s),c=function(t,e,r){const n=r.length;Ve(n);const i=(t,e,r)=>e+t>r?r-e:t;return 2===n&&0===e[1]&&t[0]<r[1]?[i(t[0],e[0],r[0]),t[0]]:Le()(n).map((n=>i(t[n],e[n],r[n])))}(e,u,s);return function(t,e){return t[0]<e[0]}(u,s)?this.getAllPages(t,c,u,o):o}))}fetchExecutionResult(t,e,r){const n=function(t,e,r){const[n,i]=t.split(/\?(.+)/),o=Object.assign(Object.assign({},k().parse(i)),{limit:e.join(","),offset:r.join(",")});return n+A(o,{addQueryPrefix:!0})}(t,e,r);return this.xhr.get(n).then((t=>204===t.response.status?null:t.getData()))}}function $e(t){return t.split(/\?(.+)/)[1]}function He(t){return t.executionResponse}function qe(t){return t.executionResult}function Ve(t){(0,W.kG)(1===t||2===t,`${t} dimensions are not allowed. Only 1 or 2 dimensions are supported.`)}function Ye(t,e,r){if(e&&r.headerItems)for(let n=0;n<e[t].length;n+=1)r.headerItems[t][n].push(...e[t][n])}class Qe{constructor(t,e){this.executeAfmModule=new Ge(t),this.executeAfm=this.executeAfmModule.executeAfm.bind(this.executeAfmModule),this.getExecutionResponse=this.executeAfmModule.getExecutionResponse.bind(this.executeAfmModule),this._executeVisualization=this.executeAfmModule._executeVisualization.bind(this.executeAfmModule),this._getVisExecutionResponse=this.executeAfmModule._getVisExecutionResponse.bind(this.executeAfmModule),this.getPartialExecutionResult=this.executeAfmModule.getPartialExecutionResult.bind(this.executeAfmModule),this.getExecutionResult=this.executeAfmModule.getExecutionResult.bind(this.executeAfmModule),this.xhr=t,this.md=e}getData(t,e,r={},n={}){return this.getExperimentalExecutionsModule().getData(t,e,r,n)}mdToExecutionDefinitionsAndColumns(t,e,r={}){return this.getExperimentalExecutionsModule().mdToExecutionDefinitionsAndColumns(t,e,r)}getExperimentalExecutionsModule(){const t=new ue(this.md);return new Be(this.xhr,t.loadAttributesMap.bind(t))}}class Je{constructor(t){this.xhr=t,this.handleExportResultError=t=>{if(this.isApiResponseError(t)&&400===t.response.status&&-1!==t.responseBody.indexOf("Export to required format is not allowed for data flagged as restricted.")){const e=new M("You cannot export this insight because it contains restricted data.",t.response,t.responseBody);return Promise.reject(e)}return Promise.reject(t)}}exportResult(t,e,r={},n={}){const i={resultExport:{executionResult:e,exportConfig:Object.assign(Object.assign({},r),this.sanitizeExportConfig(r))}};return this.xhr.post(`/gdc/internal/projects/${t}/exportResult`,{body:i}).then((t=>t.getData())).then((t=>tt(this.xhr.get.bind(this.xhr),t.uri,Y,Object.assign(Object.assign({},n),{blobContentType:J(r.format)})))).catch(this.handleExportResultError)}sanitizeExportConfig(t){const{afm:e}=t;if(e&&!o()(e.filters)){const r=Object.assign(Object.assign({},e),{filters:this.sanitizeFilters(e.filters)});return Object.assign(Object.assign({},t),{afm:r})}return t}isApiResponseError(t){return void 0!==t.response}sanitizeFilters(t){return t?It()(t):[]}}var Ke=r(76654),Xe=r.n(Ke),Ze=r(24245),tr=r.n(Ze);function er(t){return!o()(t)&&!!t.attributeFilter}function rr(t){return t.map((t=>function(t){return!o()(t)&&!!t.dateFilter}(t)?function(t){const{dateFilter:{from:e,to:r,type:n,granularity:i},dateFilter:o}=t,a=Xe()(o,tr());return{dateFilter:Object.assign(Object.assign(Object.assign({type:n,granularity:i},a),void 0===e?{}:{from:String(e)}),void 0===r?{}:{to:String(r)})}}(t):er(t)?function(t){const{attributeFilter:{displayForm:e,negativeSelection:r,attributeElements:n}}=t;return{attributeFilter:{displayForm:e,negativeSelection:r,attributeElements:n}}}(t):t))}class nr{constructor(t){this.xhr=t}async exportToPdf(t,e,r=[],n={}){const i=rr(r),o=this.getDashboardExportPayload(e,i),a=await this.xhr.post(`/gdc/internal/projects/${t}/exportDashboard`,{body:o});return this.pollPdfFile(a,n)}async pollPdfFile(t,e){const r=t.getData();return tt(this.xhr.head.bind(this.xhr),r.uri,Y,Object.assign(Object.assign({},e),{blobContentType:"application/pdf"}))}getDashboardExportPayload(t,e){return e.length?{dashboardExport:{dashboardUri:t,filters:e}}:{dashboardExport:{dashboardUri:t}}}}function ir(t){if(null===t)return;const e=(t||"").match("(?:(https)://+|(www\\.)?)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");if(!e)throw new Error(`${t} is not a valid url`);return`https://${e[0].replace(/^https?:\/\/|\/$/g,"")}`}class or{constructor(t){if(this.configStorage=t,1!==arguments.length)throw new Error("Config module has to be called with exactly one argument.")}setCustomDomain(t){this.configStorage.domain=ir(t)}getCustomDomain(){return this.configStorage.domain}setJsPackage(t,e){this.configStorage.originPackage||(this.configStorage.originPackage={name:t,version:e})}getJsPackage(){return this.configStorage.originPackage}setRequestHeader(t,e){w()(this.configStorage,["xhrSettings","headers",t],e)}getRequestHeader(t){var e,r,n;return null===(n=null===(r=null===(e=this.configStorage)||void 0===e?void 0:e.xhrSettings)||void 0===r?void 0:r.headers)||void 0===n?void 0:n[t]}}const ar={types:["attribute","metric","fact"],paging:{offset:0}},sr={includeUnavailableDateDataSetsCount:!0,includeAvailableDateAttributes:!0},ur=(t={})=>t.returnAllRelatedDateDataSets?{}:t.returnAllDateDataSets?{requiredDataSets:{type:"ALL"}}:t.dataSetIdentifier?{requiredDataSets:{type:"CUSTOM",customIdentifiers:[t.dataSetIdentifier]}}:{requiredDataSets:{type:"PRODUCTION"}},cr=t=>{if((t=>!!t.uri)(t))return t.uri;if((t=>!!t.expression)(t))return t.expression;throw new Error("Item description can only have expression or uri")};class lr{constructor(t,e){this.xhr=t,this.execution=e}async loadAllItems(t,e={}){const r=K(e),n=async(e,r=[])=>{const i=await this.xhr.getParsed(`/gdc/internal/projects/${t}/catalog/items`,{data:e}),o=i.catalogItems.items,a=[...r,...o];if(o.length===e.limit){const t=Object.assign(Object.assign({},e),{offset:i.catalogItems.paging.offset+e.limit});return n(t,a)}return a};return n(Object.assign({offset:0,limit:1e3},r))}async loadGroups(t,e={}){return(await this.xhr.getParsed(`/gdc/internal/projects/${t}/catalog/groups`,{data:K(e)})).catalogGroups}async loadAvailableItemUris(t,e){const r=Xe()(e.catalogQueryRequest,o());return(await this.xhr.postParsed(`/gdc/internal/projects/${t}/catalog/query`,{data:{catalogQueryRequest:r}})).catalogAvailableItems.items}loadItems(t,r={}){var n;const i=Ft()(Object.assign(Object.assign(Object.assign({},ar),r),ur(r)),["dataSetIdentifier","returnAllDateDataSets","attributesMap"]),o=null===(n=e()(r))||void 0===n?void 0:n.bucketItems,a=null==r?void 0:r.attributesMap;return void 0!==(null==o?void 0:o.buckets)?this.loadItemDescriptionObjects(t,o,a).then((e=>this.loadCatalog(t,Object.assign(Object.assign({},i),{bucketItems:e.map(cr)})))):this.loadCatalog(t,i)}async loadDateDataSets(t,r){const n=e()(r).bucketItems,i=n?await this.loadItemDescriptionObjects(t,n,r.attributesMap):void 0,o=null==i?void 0:i.map(cr),a=["filter","types","paging","dataSetIdentifier","returnAllDateDataSets","returnAllRelatedDateDataSets","attributesMap"];r.includeObjectsWithTags&&a.push("excludeObjectsWithTags");const s=Ft()(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},sr),ar),r),ur(r)),{bucketItems:o}),a);return this.requestDateDataSets(t,s)}async loadItemDescriptionObjects(t,e,r={},n=!1){return(({columns:t,definitions:e})=>t?t.map((t=>{var r;const n=Ht()(e,(({metricDefinition:e})=>e.identifier===t)),i=null===(r=null==n?void 0:n.metricDefinition)||void 0===r?void 0:r.expression;return i?{expression:i}:{uri:t}})):[])(await this.execution.mdToExecutionDefinitionsAndColumns(t,e,{attributesMap:r,removeDateItems:n}))}async loadDataSets(t){const e=`/gdc/dataload/internal/projects/${t}/csv/datasets`;return(await this.xhr.getParsed(e)).datasets.items}requestDateDataSets(t,e){const r=`/gdc/internal/projects/${t}/loadDateDataSets`;return this.xhr.postParsed(r,{data:{dateDataSetsRequest:e}}).then((t=>t.dateDataSetsResponse))}loadCatalog(t,e){const r=`/gdc/internal/projects/${t}/loadCatalog`;return this.xhr.post(r,{data:{catalogRequest:e}}).then((t=>t.getData())).then((t=>t.catalogResponse))}}class fr{constructor(t){this.xhr=t}getCommonAttributes(t,e){return this.xhr.post(`/gdc/md/${t}/ldm/attributeupperbound`,{body:{attributeUpperBounds:{attributes:e}}}).then((t=>t.getData())).then((t=>{if(t.attributeUpperBoundsResponse)return t.attributeUpperBoundsResponse.upperbounds}))}}class dr{constructor(t){this.xhr=t}getCurrentOrganization(){return this.xhr.getParsed("/gdc/app/organization/current")}}class pr{constructor(t,e={}){this.fetchMethod=t,this.configStorage=function(t){const e=Object.assign({},t);return t.domain&&(e.domain=ir(t.domain)),e}(e),this.config=new or(this.configStorage),this.xhr=new L(t,this.configStorage),this.user=new ut(this.xhr),this.md=new At(this.xhr),this.mdExt=new Ut(this.xhr),this.execution=new Qe(this.xhr,this.md),this.project=new st(this.xhr),this.report=new Je(this.xhr),this.dashboard=new nr(this.xhr),this.catalogue=new lr(this.xhr,this.execution),this.ldm=new fr(this.xhr),this.organization=new dr(this.xhr);const r=new ue(this.md);this.utils={loadAttributesMap:r.loadAttributesMap.bind(r),getAttributesDisplayForms:p}}clone(){return new pr(this.fetchMethod,e()(this.configStorage))}}const hr=t=>{return(e=fetch.bind(window),(t={})=>new pr(e,t))(t);var e};hr();var yr=r(33011),mr=r(85403),gr=r.n(mr),br=r(5374),vr=r.n(br),wr=r(89608),Or=r.n(wr),jr=r(77748);function xr(t){return void 0!==t.response}function Pr(t){var e,r,n;if(t.response.status!==jr.W.BAD_REQUEST)return!1;const i=null!==(n=null===(r=null===(e=function(t){try{return JSON.parse(t)}catch(t){return null}}(t.responseBody))||void 0===e?void 0:e.error)||void 0===r?void 0:r.message)&&void 0!==n?n:"";return vr()(i,"Attempt to execute protected report unsafely")||vr()(i,"Export to required format is not allowed for data flagged as restricted")}function _r(t){if(xr(t)){if(t.response.status===jr.W.NO_CONTENT)return new yr.J("Server returned no data");if(t.response.status===jr.W.REQUEST_TOO_LONG)return new yr.hp("Server has reached data size limits when processing this request",t);if(Pr(t))return new yr.kF("Request not authorized",t)}return Sr(t)}function Sr(t){if((0,yr.O4)(t))return t;if(xr(t)){if(t.response.status===jr.W.UNAUTHORIZED){const e=Or()(t.responseBody)&&vr()(t.responseBody,"gdc.login.password.expired")?"credentials_expired":"invalid_credentials";return new yr.$b("Not authenticated against backend",t,e)}return Pr(t)?new yr.kF("Request not authorized",t):new yr.ml(t.message,t.response.status,t.responseBody,function(t){var e,r,n,i;return(null===(r=null===(e=t.response)||void 0===e?void 0:e.headers)||void 0===r?void 0:r.get)?null===(i=null===(n=t.response)||void 0===n?void 0:n.headers)||void 0===i?void 0:i.get("x-gdc-request"):null}(t),t)}return new yr.S2("An unexpected error has occurred",t)}var Dr=r(70567),kr=r(1662),Ar=r(15978),Cr=r(78838),Tr=r.n(Cr),Er=r(74627),Ir=r(65074),Rr=r(61550),Fr=r(91486),Mr=r(14215),Ur=r(2326);function Br(t){return(0,Mr.hj)(t)?(0,Ur.lR)(t.uri):(0,Ur.Ii)(t.identifier)}function Nr(t){return(0,Mr.Mt)(t)?t:Br(t)}function Lr(t){const e=(0,kr.OF)(t)?t.uris:t.values;(0,W.kG)(e.every((t=>null!==t)),"Nulls are not supported as attribute element values or uris on bear")}const Wr=6;function zr(t){return parseFloat(t.toFixed(Wr))}function Gr(t){if((0,kr.C0)(t)){const e=G()(t.comparison.treatNullValuesAs)?{}:{treatNullValuesAs:t.comparison.treatNullValuesAs};return{comparison:Object.assign({operator:t.comparison.operator,value:zr(t.comparison.value)},e)}}{const e=G()(t.range.treatNullValuesAs)?{}:{treatNullValuesAs:t.range.treatNullValuesAs};return{range:Object.assign({operator:t.range.operator,from:zr(t.range.from),to:zr(t.range.to)},e)}}}function $r(t){return(0,kr.tG)(t)?function(t){return void 0===t.measureValueFilter.condition?null:{measureValueFilter:{measure:Nr(t.measureValueFilter.measure),condition:Gr(t.measureValueFilter.condition)}}}(t):(0,kr.Ey)(t)?function(t){const{measure:e,attributes:r,operator:n,value:i}=t.rankingFilter;return{rankingFilter:{measures:[Nr(e)],attributes:null==r?void 0:r.map(Nr),operator:n,value:i}}}(t):Hr(t)}function Hr(t){return(0,kr.ZU)(t)?function(t){return(0,kr.II)(t)&&(0,kr.Or)(t)?null:(0,kr.II)(t)?(Lr(t.negativeAttributeFilter.notIn),{negativeAttributeFilter:{displayForm:Br(t.negativeAttributeFilter.displayForm),notIn:t.negativeAttributeFilter.notIn}}):(Lr(t.positiveAttributeFilter.in),{positiveAttributeFilter:{displayForm:Br(t.positiveAttributeFilter.displayForm),in:t.positiveAttributeFilter.in}})}(t):(0,kr.yf)(t)?function(t){const{absoluteDateFilter:e}=t;return void 0===e.from||void 0===e.to?null:{absoluteDateFilter:{dataSet:Br(e.dataSet),from:String(e.from),to:String(e.to)}}}(t):function(t){const{relativeDateFilter:e}=t;return void 0===e.from||void 0===!e.to?null:{relativeDateFilter:{dataSet:Br(e.dataSet),granularity:e.granularity,from:Number(e.from),to:Number(e.to)}}}(t)}function qr(t){return t?It()(t.map($r)):[]}var Vr=r(56130);const Yr="#,##0.00%",Qr="#,##0";function Jr(t){const{measure:{definition:e}}=t,r=function(t){if((0,Vr.BJ)(t))return function(t){const{measureDefinition:e}=t,r=e.filters?It()(e.filters.map(Hr)):[],n=r.length?{filters:r}:{},i=Kr(e.aggregation),o=i?{aggregation:i}:{},a=e.computeRatio,s=a?{computeRatio:a}:{};return{measure:Object.assign(Object.assign(Object.assign({item:Br(e.item)},n),o),s)}}(t);if((0,Vr.Cg)(t))return function(t){const{popMeasureDefinition:e}=t;return{popMeasure:{measureIdentifier:e.measureIdentifier,popAttribute:Br(e.popAttribute)}}}(t);if((0,Vr.V7)(t))return function(t){const{previousPeriodMeasure:e}=t;return{previousPeriodMeasure:{measureIdentifier:e.measureIdentifier,dateDataSets:e.dateDataSets.map((t=>({dataSet:Br(t.dataSet),periodsAgo:t.periodsAgo})))}}}(t);if((0,Vr.B3)(t))return function(t){const{arithmeticMeasure:e}=t;return{arithmeticMeasure:{measureIdentifiers:e.measureIdentifiers.slice(),operator:e.operator}}}(t);throw Error("The measure definition is not supported: "+JSON.stringify(t))}(e),n=function(t){const{measure:{definition:e,format:r}}=t;if(r)return r;if((0,Vr.B3)(e)&&"change"===e.arithmeticMeasure.operator)return Yr;if((0,Vr.BJ)(e)){const{measureDefinition:t}=e;if(t.computeRatio)return Yr;if("count"===t.aggregation)return Qr}}(t),i=n?{format:n}:{},o=t.measure.alias?t.measure.alias:t.measure.title,a=o?{alias:o}:{};return Object.assign(Object.assign({localIdentifier:t.measure.localIdentifier,definition:r},a),i)}function Kr(t){return"approximate_count"===t?"count":t}var Xr=r(29257),Zr=r(33692);function tn(t,e){const r=t.attribute.alias,n=r?{alias:r}:{};return Object.assign({displayForm:Br(t.attribute.displayForm),localIdentifier:t.attribute.localIdentifier||`a${e+1}`},n)}function en(t){const e=t.attributes.map(tn),r=e.length?{attributes:e}:{},n=t.measures.map(Jr),i=n.length?{measures:n}:{},o=qr(t.filters),a=o.length?{filters:o}:{},s=function(t){const e=t.dimensions.map(Er.qN).reduce(((t,e)=>(t.push(...e),t)),[]).filter(Xr.UB);return e.map((e=>{const r=(0,Er.OT)(t.dimensions,e.attributeIdentifier);if(!r.length)throw new Error(`Native total references attribute that is not in any dimension: ${e.attributeIdentifier}`);if(r.length>1)throw new Error(`Native total references attribute that is in multiple dimensions: ${e.attributeIdentifier}`);const n=r[0];let i;if(1===n.dimIdx){const r=[...t.dimensions[0].itemIdentifiers,...n.dim.itemIdentifiers],o=r.findIndex((t=>t===e.attributeIdentifier));i=r.slice(0,o).filter((t=>t!==Er.Pm))}else i=n.dim.itemIdentifiers.slice(0,n.itemIdx).filter((t=>t!==Er.Pm));return{measureIdentifier:e.measureIdentifier,attributeIdentifiers:i}}))}(t),u=s.length?{nativeTotals:s}:{};return Object.assign(Object.assign(Object.assign(Object.assign({},i),r),a),u)}function rn(t){var e;!function(t){t.forEach((t=>{(0,Zr.Ti)(t)&&t.measureSortItem.locators.forEach((t=>{(0,Zr.at)(t)&&(0,W.kG)(null!==t.attributeLocatorItem.element,"Nulls are not supported as attribute element values or uris on bear")}))}))}(null!==(e=t.sortBy)&&void 0!==e?e:[]);const r=o()(t.sortBy)?{}:{sorts:t.sortBy},n=function(t){return t.dimensions.map((t=>{const e=function(t=[]){return t.map((t=>({type:t.type,attributeIdentifier:t.attributeIdentifier,measureIdentifier:t.measureIdentifier})))}(t.totals),r=o()(e)?{}:{totals:e};return Object.assign({itemIdentifiers:t.itemIdentifiers},r)}))}(t),i=o()(n)?{}:{dimensions:n};return Object.assign(Object.assign({},r),i)}const nn=t=>({execution:{afm:en(t),resultSpec:rn(t)}});function on(t){var e;return{warningCode:t.warningCode,message:t.message,parameters:null===(e=t.parameters)||void 0===e?void 0:e.map((t=>rt(t)?(0,Ur.lR)(t):t))}}var an=r(79051),sn=r.n(an);const un=["MM/dd/yyyy","dd/MM/yyyy","dd-MM-yyyy","yyyy-MM-dd","M/d/yy","dd.MM.yyyy"],cn="MM/dd/yyyy";var ln=r(99606),fn=r.n(ln);const dn=(t=cn)=>(e,r=t)=>{if(!un.includes(r))throw new yr.S2(`Unsupported date format "${r}". Supported date formats are ${un}`);return fn()(e,r)};function pn(t,e,r){if(!(0,Fr.xG)(t)||!(null==e?void 0:e.length)||!r||r===cn)return t;const n=t.attributeHeaderItem.uri;if(!e.some((t=>null==n?void 0:n.startsWith(t))))return t;try{return{attributeHeaderItem:{name:(i=dn(r),t=>i(((t,e=cn)=>{if(!un.includes(e))throw new yr.S2(`Unsupported date format "${e}". Supported date formats are ${un}`);if(null===t)throw new yr.S2("Unsupported date value null. Nulls are not supported as date values");return sn()(t,e,new Date)})(t)))(t.attributeHeaderItem.name),uri:n}}}catch(e){return t}var i}const hn=["sum","max","min","avg","med","nat"];class yn{constructor(t,e,r,n){this.authApiCall=t,this.definition=e,this.execFactory=r,this.execResponse=n,this.asDataView=t=>t.then((t=>{if(!t)throw new yr.S2("Server returned no data");if(function(t){return function(t){return 0===t.data.length}(t)&&function(t){return!t.headerItems}(t)}(t))throw new yr.J("The execution resulted in no data to display.",new vn(this,t));return new vn(this,t)})),this.dimensions=n.dimensions.map((t=>({headers:t.headers.map((t=>function(t){return!o()(t)&&void 0!==t.attributeHeader}(t)?{attributeHeader:Object.assign(Object.assign({},t.attributeHeader),{ref:(0,Ur.lR)(t.attributeHeader.uri),formOf:Object.assign(Object.assign({},t.attributeHeader.formOf),{ref:(0,Ur.lR)(t.attributeHeader.formOf.uri)})})}:{measureGroupHeader:{items:t.measureGroupHeader.items.map((t=>({measureHeaderItem:Object.assign(Object.assign({},t.measureHeaderItem),{ref:t.measureHeaderItem.uri?(0,Ur.lR)(t.measureHeaderItem.uri):void 0})}))),totalItems:t.measureGroupHeader.totalItems}}))}))),this._fingerprint=Nt().hash(n.links.executionResult)}async readAll(){return this.asDataView(this.authApiCall((t=>t.execution.getExecutionResult(this.execResponse.links.executionResult)),_r))}async readWindow(t,e){const r=function(t){return t.map(((t=0)=>t))}(t),n=function(t){return t.map(((t=mn)=>t>mn?(console.warn("The maximum limit per page is "+mn),mn):t))}(e);return this.asDataView(this.authApiCall((t=>t.execution.getPartialExecutionResult(this.execResponse.links.executionResult,n,r)),_r))}transform(){return this.execFactory.forDefinition(this.definition)}async export(t){const e=this.buildExportOptions(t);return this.authApiCall((t=>t.report.exportResult(this.definition.workspace,this.execResponse.links.executionResult,e)))}buildExportOptions(t){const e={format:t.format,mergeHeaders:t.mergeHeaders,title:t.title,showFilters:t.showFilters};return t.showFilters&&(e.afm=nn(this.definition).execution.afm),e}equals(t){return this.fingerprint()===t.fingerprint()}fingerprint(){return this._fingerprint}}const mn=1e3,gn={attribute:0,columns:1};function bn(t,e,r){var n,i,o,a;const s=gn[r],u=null===(n=null==e?void 0:e.dimensions[s])||void 0===n?void 0:n.totals,c=null===(o=null===(i=null==e?void 0:e.dimensions[s])||void 0===i?void 0:i.itemIdentifiers)||void 0===o?void 0:o.find(Er.Dc);if(!(null==u?void 0:u.length)||!c)return t;const l=e.buckets,f=(0,Ir.w6)(l),d=((null===(a=(0,Ir.H)(l,r))||void 0===a?void 0:a.items)||[]).filter(Rr.dt).map((t=>{var e;return null===(e=t.attribute)||void 0===e?void 0:e.localIdentifier})),p=f.map((t=>t.measure.localIdentifier)),h=(y=d,u.reduce(((t,e)=>{var r;const n=y.indexOf(e.attributeIdentifier);return-1!==n?Object.assign(Object.assign({},t),{[n]:[...null!==(r=t[n])&&void 0!==r?r:[],e]}):t}),{}));var y;const m=function(t,e){return Object.keys(t).reduce(((r,n)=>{const i=[...t[n]];return i.sort(((t,r)=>{const n=hn.indexOf(t.type)-hn.indexOf(r.type);return 0!==n?n:e.indexOf(t.measureIdentifier)-e.indexOf(r.measureIdentifier)})),Object.assign(Object.assign({},r),{[n]:i})}),{})}(h,p),g=function(t){return Object.keys(t).reduce(((t,e)=>Object.assign(Object.assign({},t),{[e]:0})),{})}(m);return t.map((t=>{const e=[];return t.map((t=>t.find(Fr.AM)?t.map(((t,r)=>{if((0,Fr.aZ)(t)){const n=Math.max(0,d.length-e[r]),i=g[n],o=m[n][i],a=null==o?void 0:o.measureIdentifier,s=p.indexOf(a),u=Math.max(s,0),c=Object.assign(Object.assign({},t),{totalHeaderItem:Object.assign(Object.assign({},null==t?void 0:t.totalHeaderItem),{measureIndex:u})});return g[n]=(i+1)%m[n].length,c}return t})):(t.forEach(((t,r)=>{var n;e[r]=null!==(n=e[r])&&void 0!==n?n:0,(0,Fr.aZ)(t)&&(e[r]=e[r]+1)})),t)))}))}class vn{constructor(t,e){var r,n,i,o,a,s,u;this.result=t,this.definition=t.definition,this.data=e.data,this.headerItems=e.headerItems?e.headerItems:[],this.totals=e.totals,this.totalTotals=e.totalTotals,this.totalCount=e.paging.total,this.count=e.paging.count,this.offset=e.paging.offset,this.warnings=null!==(n=null===(r=e.warnings)||void 0===r?void 0:r.map(on))&&void 0!==n?n:[],this._fingerprint=`${t.fingerprint()}/${this.offset.join(",")}-${this.count.join(",")}`,this.headerItems=function(t,e){let r=t;return r=bn(r,e,"attribute"),r=bn(r,e,"columns"),r}(this.headerItems,this.definition),this.headerItems=(i=this.headerItems,u=t.dimensions,s=u.reduce(((t,e)=>(t.push(...e.headers.filter(Fr._w)),t)),[]).filter((t=>"GDC.time.day_us"===t.attributeHeader.type)).map((t=>t.attributeHeader.formOf.uri)),o=(t,e)=>pn(t,s,null==e?void 0:e.dateFormat),a=this.definition.postProcessing,o?i.map((t=>t.map((t=>t.map((t=>o(t,a))))))):i)}fingerprint(){return this._fingerprint}equals(t){return this.fingerprint()===t.fingerprint()}}class wn{constructor(t,e,r){this.authCall=t,this.definition=e,this.executionFactory=r}checkDefIsExecutable(t){var e;if(null===(e=t.filters)||void 0===e?void 0:e.some((t=>(0,kr.Vc)(t)&&(0,kr.Or)(t))))throw new yr.J("Server returned no data")}async execute(){this.checkDefIsExecutable(this.definition);const t=nn(this.definition);return this.authCall((e=>e.execution.getExecutionResponse(this.definition.workspace,t).then((t=>new yn(this.authCall,this.definition,this.executionFactory,t)))),_r)}explain(){return console.warn("Backend does not support explain mode"),{data:()=>Promise.reject(new Error("Backend does not support explain mode data call.")),download:()=>Promise.resolve()}}withDimensions(...t){return this.executionFactory.forDefinition((0,Dr.Bm)(this.definition,...t))}withSorting(...t){return this.executionFactory.forDefinition((0,Dr.Pc)(this.definition,t))}withDateFormat(t){return this.executionFactory.forDefinition((0,Dr.nc)(this.definition,t))}withExecConfig(t){return o()(null==t?void 0:t.dataSamplingPercentage)||console.warn("Backend does not support data sampling, result will be not affected"),this.executionFactory.forDefinition(this.definition)}fingerprint(){return this._fingerprint||(this._fingerprint=(0,Ar.Nr)(this.definition)),this._fingerprint}equals(t){return Tr()(this.definition,t.definition)}}var On=r(1408),jn=r(42487),xn=r(51805),Pn=r.n(xn),_n=r(39899),Sn=r.n(_n);const Dn=(t,e)=>{if(t||e)return[t,e].filter(Boolean).join(" ")},kn=t=>{const{email:e,login:r,firstName:n,lastName:i,links:o}=t;return{ref:(0,Ur.lR)(o.self),email:e,login:r,firstName:n,lastName:i,fullName:Dn(n,i)}},An=t=>{const{email:e,login:r,uri:n,firstName:i,lastName:o,state:a}=t,s=(t=>{switch(t){case"ACTIVE":return"ENABLED";case"INACTIVE":return"DISABLED";default:return}})(a),u=s?{status:s}:{};return Object.assign({ref:(0,Ur.lR)(n),email:e,login:r,uri:n,firstName:null!=i?i:void 0,lastName:null!=o?o:void 0,fullName:Dn(i,o)},u)},Cn=t=>{const{content:{email:e,login:r,firstname:n,lastname:i,status:o},links:a}=t,s=o?{status:o}:{};return Object.assign({ref:(0,Ur.lR)(a.self),uri:a.self,email:e,login:r,firstName:n,lastName:i,fullName:Dn(n,i)},s)},Tn=async t=>{var e,r;const n=null===(r=null===(e=(await t()).userMeta)||void 0===e?void 0:e.links)||void 0===r?void 0:r.self;return null!=n?n:null},En=async t=>{var e,r,n;const i=null!==(n=null===(r=null===(e=(await t()).userMeta)||void 0===e?void 0:e.links)||void 0===r?void 0:r.self)&&void 0!==n?n:"",o=Pn()(i.split("/"));return null!=o?o:null},In=async t=>{const e=await En(t);if(!e)throw new yr.S2("Cannot obtain the current user login md5");return e},Rn=t=>{const e=/\/obj\/([^$/?]*)/.exec(t);return e?e[1]:""},Fn=async(t,e,r)=>(0,Mr.hj)(t)?t.uri:r((r=>r.md.getObjectUri(e,t.identifier).catch((e=>{var r;if(xr(e)&&(null===(r=e.message)||void 0===r?void 0:r.search("not found"))>-1)throw new yr.ml(`Object with ${t.identifier} does not exist.`,404,e.responseBody);throw e})))),Mn=async(t,e,r,n=!0)=>{if(o()(t))return[];const i=t.filter(Mr.$y).map((t=>t.identifier)),a=await r((t=>t.md.getUrisFromIdentifiers(e,i))),s=[];return t.forEach((t=>{if((0,Mr.hj)(t))s.push(t.uri);else{const e=a.find((e=>e.identifier===t.identifier));if(!e){if(n)throw new yr.S2("REFERENCED_OBJECT_NOT_FOUND",new Error(`Referenced object for ${t.identifier} not found`));return void console.debug(`Unable to translate identifier ${t.identifier} to object URI. The ref will be skipped.`)}s.push(e.uri)}})),s},Un=async(t,e)=>(0,Mr.$y)(t)?t.identifier:e((e=>e.md.getObjectIdentifier(t.uri))),Bn=async(t,e)=>Promise.all(t.map((t=>Un(t,e)))),Nn=async(t,e,r)=>{const n=e.filter((e=>!t.has(e))),i=Sn()(n),o=await Promise.all(i.map((t=>r((async e=>{try{const r=await e.xhr.getParsed(t);return kn(r.accountSetting)}catch(t){return}})))));return o.forEach((e=>{if(e){const r=(0,Mr.hj)(e.ref)?e.ref.uri:void 0;(0,W.kG)(r,"User must have uri in bear backend instances."),t.set(r,e)}})),t};class Ln{constructor(t,e,r,n=[],i){this.authCall=t,this.definition=e,this.insight=r,this.filters=n,this.executionFactory=i}async execute(){const t=await this.createVisualizationExecution();return this.authCall((e=>e.execution._getVisExecutionResponse(this.definition.workspace,t).then((t=>new yn(this.authCall,this.definition,this.executionFactory,t)))),_r)}explain(){return console.warn("Backend does not support explain mode"),{data:()=>Promise.reject(new Error("Backend does not support explain mode data call.")),download:()=>Promise.resolve()}}async createVisualizationExecution(){return{visualizationExecution:{reference:await Fn((0,jn.Cj)(this.insight),this.definition.workspace,this.authCall),resultSpec:rn(this.definition),filters:qr(this.filters)}}}withDimensions(...t){return this.executionFactory.forDefinition((0,Dr.Bm)(this.definition,...t))}withSorting(...t){return this.executionFactory.forDefinition((0,Dr.Pc)(this.definition,t))}withDateFormat(t){return this.executionFactory.forDefinition((0,Dr.nc)(this.definition,t))}withExecConfig(t){return o()(null==t?void 0:t.dataSamplingPercentage)||console.warn("Backend does not support data sampling, result will be not affected"),this.executionFactory.forDefinition(this.definition)}fingerprint(){return this._fingerprint||(this._fingerprint=(0,Ar.Nr)(this.definition)),this._fingerprint}equals(t){return Tr()(this.definition,t.definition)}}class Wn extends On.vH{constructor(t,e){super(e),this.authCall=t}forDefinition(t){return new wn(this.authCall,t,this)}forInsightByRef(t,e){const r=(0,Dr.Bm)((0,Dr.M)(this.workspace,t,e),Dr.ni),n=It()(e),i=new zn(this.authCall,this.workspace,t,n);return new Ln(this.authCall,r,t,n,i)}}class zn extends On.vH{constructor(t,e,r,n=[]){super(e),this.authCall=t,this.insight=r,this.filters=n}forDefinition(t){return new Ln(this.authCall,t,this.insight,this.filters,this)}forInsightByRef(t,e){const r=(0,Dr.Bm)((0,Dr.M)(this.workspace,t,e),Dr.ni);return new Ln(this.authCall,r,t,e,this)}}var Gn=r(39218),$n=r.n(Gn),Hn=r(89074),qn=r.n(Hn);function Vn(t){return qn()($n(),Gt())(t)}var Yn=r(3223),Qn=r.n(Yn),Jn=r(23977),Kn=r.n(Jn),Xn=r(91404),Zn=r.n(Xn),ti=r(25),ei=r(98962),ri=r(18587),ni=r(1556),ii=r(37914),oi=r(29205),ai=r.n(oi),si=r(64509),ui=r(11732);class ci extends si.U{}const li=[Ot,xt,Pt,_t,St,function(t){return!bt()(t)&&"prompt"===t.meta.category},Dt],fi=t=>{if(!(t=>li.some((e=>e(t))))(t))throw new yr.S2(`Cannot convert metadata object, convertor not found! (${JSON.stringify(t,null,4)})`);const e=(0,Ur.lR)(t.meta.uri),r=e=>e.title(t.meta.title).description(t.meta.summary).id(t.meta.identifier).production(1===t.meta.isProduction).uri(t.meta.uri);if(Ot(t)){const n=t.content.displayForms.map((t=>(0,ti.H)((0,Ur.lR)(t.meta.uri),(r=>r.attribute(e).title(t.meta.title).description(t.meta.summary).id(t.meta.identifier).uri(t.meta.uri).displayFormType(t.content.type)))));return(0,ei.a)(e,(t=>t.modify(r).displayForms(n)))}return xt(t)?(0,ti.H)(e,(e=>e.modify(r).attribute((0,Ur.lR)(t.content.formOf)).displayFormType(t.content.type))):Pt(t)?(0,ri._)(e,(e=>e.modify(r).expression(t.content.expression).format(t.content.format||"##,#"))):_t(t)?(0,ni.k)(e,(t=>t.modify(r))):St(t)?(0,ii.q)(e,(t=>t.modify(r))):((t,e=ai())=>(0,ui.AZ)(ci,{type:"variable",ref:t},e))(e,(t=>t.modify(r)))},di=(t,e)=>{const r=(0,Ur.lR)(e.link);return{type:t,uri:e.link,id:e.identifier,ref:r,title:e.title,description:e.summary,production:!0,unlisted:1===e.unlisted,deprecated:"1"===e.deprecated}};function pi(t){const e=(0,Ur.lR)(t.link);return(0,ri._)(e,(e=>e.id(t.identifier).uri(t.link).title(t.title||"").description(t.summary||"")))}var hi=r(13096);function yi(t){return{meta:Object.assign(Object.assign({},(0,hi.i)(t)&&{identifier:t.id,uri:t.uri}),{title:t.title||"",summary:t.description,locked:t.isLocked}),content:{expression:t.expression,format:t.format}}}var mi=r(33969),gi=r.n(mi);const bi=/[[\]{}]/g,vi=[["text",/^[^#{}[\]"()0-9.]+/],["quoted_text",/^"(?:[^"\\]|\\"|\\'|\\\\.)*"/],["number",/^[+-]?((\d+(\.\d*)?)|(\.\d+))/],["bracket",/^[()]+/],["identifier",/^\{[^}]+\}/],["element_uri",/^\[[a-zA-Z0-9\\/]+elements\?id=\d+\]/],["uri",/^\[[a-zA-Z0-9\\/]+\]/],["comment",/#[^\n]*/]],wi=(t,e)=>qn()(gi()((e=>e.type===t)),Qn()((t=>t.value)),Zn())(e);var Oi=r(44490),ji=r.n(Oi),xi=r(40005);const Pi=(t,e)=>Object.keys(e).find((r=>e[r]===t)),_i=()=>(0,xi.Z)().replace(/-/g,""),Si=(t,e)=>ji()(t)?t.map((t=>Si(t,e))):H()(t)?Object.keys(t).reduce(((r,n)=>(r[n]=Si(t[n],e),r)),{}):Or()(t)?e(t):t,Di=t=>(e,r=_i)=>t(e,r),ki=t=>e=>((t,e)=>e[t])(e,t)||e,Ai=Di((({references:t,properties:e})=>({properties:Si(e,ki(t)),references:t}))),Ci=Di((({properties:t,references:e},r)=>{const n=((t,e)=>{const r={};return{convertedReferences:r,conversion:n=>{if(!rt(n))return n;const i=Pi(n,t)||Pi(n,r)||e();return r[i]=n,i}}})(e,r);return{properties:Si(t,n.conversion),references:n.convertedReferences}}));var Ti=r(79884),Ei=r.n(Ti);const Ii=t=>Ei()(t),Ri=t=>{try{return t?JSON.parse(t):{}}catch(e){return console.error(`Error parsing properties: "${t}"`),{}}};function Fi(t){return!o()(t)&&void 0!==t.uri}function Mi(t,e){return Fi(t)?(0,Ur.lR)(t.uri):(0,Ur.Ii)(t.identifier,e)}function Ui(t,e){return r=t,o()(r)||void 0===r.localIdentifier?Mi(t,e):(0,Ur.Qc)(t.localIdentifier);var r}const Bi=t=>{if(!t.length)return{uris:[]};const e=t[0];return/\/gdc\/md\/\S+\/obj\/\S+/.test(e)?{uris:t}:{values:t}},Ni=t=>function(t){return!o()(t)&&void 0!==t.measureValueFilter}(t)?(t=>({measureValueFilter:{condition:t.measureValueFilter.condition,measure:Ui(t.measureValueFilter.measure,"measure")}}))(t):function(t){return!o()(t)&&void 0!==t.rankingFilter}(t)?(t=>{const{measures:e,operator:r,value:n,attributes:i}=t.rankingFilter;return{rankingFilter:{measure:Ui(e[0],"measure"),operator:r,value:n,attributes:i}}})(t):Li(t),Li=t=>c(t)?l(t)?{positiveAttributeFilter:{displayForm:Mi(t.positiveAttributeFilter.displayForm,"displayForm"),in:Bi(t.positiveAttributeFilter.in)}}:{negativeAttributeFilter:{displayForm:Mi(t.negativeAttributeFilter.displayForm,"displayForm"),notIn:Bi(t.negativeAttributeFilter.notIn)}}:function(t){return!o()(t)&&void 0!==t.absoluteDateFilter}(t)?{absoluteDateFilter:{dataSet:Mi(t.absoluteDateFilter.dataSet,"dataSet"),from:t.absoluteDateFilter.from||"",to:t.absoluteDateFilter.to||""}}:((G()(t.relativeDateFilter.from)||G()(t.relativeDateFilter.to))&&console.warn("RelativeDateFilter without 'from' or 'to' field encountered.This can make sense in some legacy contexts (e.g. PoP measures with All time global filter), but generally, this indicates an error.Please check the visualization object data to make sure the relativeDateFilter data is what you expected."),{relativeDateFilter:Object.assign(Object.assign({},t.relativeDateFilter),{granularity:t.relativeDateFilter.granularity,from:t.relativeDateFilter.from,to:t.relativeDateFilter.to})}),Wi=t=>{if(function(t){return!o()(t)&&void 0!==t.arithmeticMeasure}(t))return t;if(function(t){return!o()(t)&&void 0!==t.popMeasureDefinition}(t))return t;if(function(t){return!o()(t)&&void 0!==t.previousPeriodMeasure}(t))return t;const{filters:e}=t.measureDefinition;return{measureDefinition:Object.assign(Object.assign({},t.measureDefinition),{filters:e?It()(e.map(Li)):[]})}},zi=t=>s(t)?(t=>{const{definition:e}=t.measure;return{measure:Object.assign(Object.assign({},t.measure),{definition:Wi(e)})}})(t):(t=>({attribute:Object.assign(Object.assign({},t.visualizationAttribute),{displayForm:Mi(t.visualizationAttribute.displayForm,"displayForm")})}))(t),Gi=t=>({items:t.items.map(zi),localIdentifier:t.localIdentifier,totals:t.totals}),$i=(t,e,r)=>{var n,i,a;const s=(t=>{const{content:e}=t;if(!e)return t;const{properties:r}=e;if(!r)return t;const{properties:n,references:i}=Ai({properties:Ri(r),references:e.references||{}}),a=o()(i)?void 0:{references:i};return Object.assign(Object.assign({},t),{content:Object.assign(Object.assign(Object.assign({},Ft()(t.content,"references")),{properties:Ii(n)}),a)})})(t.visualizationObject),{content:u,meta:c}=s,l=Ri(u.properties);return{insight:{buckets:u.buckets.map(Gi),filters:u.filters?It()(u.filters.map(Ni)):[],ref:(0,Ur.lR)(c.uri),identifier:c.identifier,properties:l,sorts:l.sortItems||[],title:c.title,uri:c.uri,visualizationUrl:e,created:c.created,createdBy:c.author?null==r?void 0:r.get(c.author):void 0,updated:c.updated,updatedBy:c.contributor?null==r?void 0:r.get(c.contributor):void 0,isLocked:c.locked,tags:null!==(i=null===(n=c.tags)||void 0===n?void 0:n.split(" ").filter(Boolean))&&void 0!==i?i:[],summary:null!==(a=c.summary)&&void 0!==a?a:""}}},Hi=t=>{const e=(0,Ur.lR)(t.link);return{insight:{identifier:t.identifier||"",title:t.title||"",uri:t.link,ref:e,properties:[],sorts:[],visualizationUrl:"",buckets:[],filters:[],tags:[],created:t.created,updated:t.updated,summary:t.summary}}};class qi{constructor(t,e){this.authCall=t,this.workspace=e}async getMeasureExpressionTokens(t){const e=await Fn(t,this.workspace,this.authCall),r=await this.authCall((t=>t.xhr.getParsed(e)));if(n=r,bt()(n)||!wt()(n,"metric"))throw new Error("To get measure expression tokens, provide the correct measure identifier. Did you provide a measure identifier?");var n;const i=(t=>{const e=[];let r=t;for(;r.length;){let t;for(const[n,i]of vi)if(t=r.match(i),t){const[i]=t;e.push({type:n,value:i}),r=r.substr(i.length);break}if(!t)throw new Error(`Unable to match token, rest of output is: "${r}"`)}return e.map((t=>Object.assign(Object.assign({},t),{value:"comment"===t.type?t.value:t.value.replace(bi,"")})))})(r.metric.content.expression),o=wi("identifier",i),a=wi("uri",i),s=wi("element_uri",i),u=(await this.authCall((t=>t.md.getUrisFromIdentifiers(this.workspace,o)))).map((t=>t.uri)),c=qn()(Qn()(Kn()(/\/elements\?id=.*/,"")),Zn())(s),l=Zn()([...a,...u,...c]),f=(await this.authCall((t=>t.md.getObjects(this.workspace,l)))).map(Vn),d=await Promise.all(s.map((t=>this.authCall((e=>e.md.getAttributeElementDefaultDisplayFormValue(t)))))),p=f.reduce(((t,e)=>(t[e.meta.uri]=e,t)),{}),h=f.reduce(((t,e)=>(t[e.meta.identifier]=e,t)),{}),y=d.reduce(((t,e)=>(e&&(t[e.uri]=e),t)),{});return i.map((t=>"element_uri"===t.type?function(t,e){const r=t[e.value];return Object.assign({type:"attributeElement"},r?{value:r.title}:{value:"",deleted:!0})}(y,t):"uri"===t.type||"identifier"===t.type?function(t,e,r){const n="uri"===t.type?fi(e[t.value]):fi(r[t.value]);return{type:n.type,value:n.title,id:n.id,ref:n.ref}}(t,p,h):"comment"===t.type||"number"===t.type||"quoted_text"===t.type||"text"===t.type||"bracket"===t.type?Vi(t.type,t.value):Vi("text",t.value)))}async createMeasure(t){return function(t){const e=(0,Ur.lR)(t.meta.uri),{meta:r,content:n}=t;return(0,ri._)(e,(t=>t.id(r.identifier).uri(r.uri).title(r.title).description(r.summary||"").expression(n.expression).format(n.format||"#,#.##").deprecated("1"===r.deprecated).isLocked(Boolean(r.locked)).production(Boolean(r.isProduction)).unlisted(Boolean(r.unlisted))))}((await this.authCall((e=>e.md.createObject(this.workspace,{metric:yi(t)})))).metric)}async deleteMeasure(t){const e=await Fn(t,this.workspace,this.authCall);await this.authCall((t=>t.md.deleteObject(e)))}async updateMeasure(t){const e=t.uri.split("/").slice(-1)[0];return await this.authCall((r=>r.md.updateObject(this.workspace,e,{metric:yi(t)}))),t}async getMeasureReferencingObjects(t){const e=await Fn(t,this.workspace,this.authCall),r=await this.authCall((t=>t.md.getObjectUsedBy(this.workspace,e,{types:["metric","visualizationObject"],nearest:!0})));return Promise.resolve({measures:r.filter((t=>"metric"===t.category)).map(pi),insights:r.filter((t=>"visualizationObject"===t.category)).map(Hi)})}}function Vi(t,e){return{type:t,value:e}}class Yi{constructor(t,e){this.authCall=t,this.workspace=e,this.getColorPalette=async()=>await this.authCall((t=>t.project.getColorPaletteWithGuids(this.workspace)))||[],this.getTheme=async()=>{const t=(await this.authCall((t=>t.project.getProjectFeatureFlags(this.workspace)))).selectedUiTheme;return t?this.authCall((e=>e.md.getObjectByIdentifier(this.workspace,t).then((t=>{const e=Vn(t);return Dt(e)&&e.content||{}})).catch((t=>{if(xr(t))return{};throw t})))):{}}}}var Qi=r(23334),Ji=r.n(Qi),Ki=r(99991),Xi=r.n(Ki),Zi=r(81986),to=r.n(Zi),eo=r(39166),ro=r(95296),no=r(94514),io=r(19676),oo=r(69036),ao=r(23120),so=r(37754),uo=r(7045);const co=t=>"dateDataset"!==t&&"attributeHierarchy"!==t,lo={attribute:"attribute",fact:"fact",measure:"metric"},fo=t=>lo[t],po=t=>(0,Ur.lR)(t.uri),ho=t=>(0,Ur.lR)(t.links.self),yo=t=>{const{groups:e=[]}=t;return e.map((t=>(0,Ur.Ii)(t)))},mo=t=>e=>{var r;return e.id(t.identifier).uri(t.uri).title(t.title).description(null!==(r=t.summary)&&void 0!==r?r:"").production(1===t.isProduction).unlisted(1===t.unlisted).deprecated("1"===t.deprecated)},go=t=>e=>e.id(t.identifier).uri(t.links.self).title(t.title).description(t.summary).production(t.production).unlisted(!1).deprecated(!1),bo=(t,e)=>{const r=po(t.meta);return(0,ti.H)(r,(r=>r.modify(mo(t.meta)).attribute(e).displayFormType(t.content.type)))},vo=(t,e)=>{const{availableDateAttributes:r=[]}=t,n=po(t.meta),i=r.map((t=>((t,e)=>{const{attributeMeta:r,defaultDisplayFormMeta:n}=t,i=po(r),o=po(n),a=e[r.identifier],s=a.attribute.content.displayForms.map((t=>bo(t,i))),u=a.attribute.content.drillDownStepAttributeDF?(0,Ur.lR)(a.attribute.content.drillDownStepAttributeDF):void 0;return(0,so.hy)((e=>e.attribute(i,(t=>t.modify(mo(r)).drillDownStep(u).displayForms(s))).defaultDisplayForm(o,(t=>t.modify(mo(n)))).granularity(t.type)))})(t,e)));return(0,so.xS)((e=>e.dataSet(n,(e=>e.modify(mo(t.meta)))).dateAttributes(i).relevance(t.relevance)))},wo=t=>{const{content:e,meta:r}=t.metric,n=(0,Ur.lR)(r.uri);return(0,oo.Y)((t=>t.measure(n,(t=>{var n;return t.modify(mo(r)).expression(e.expression).format(null!==(n=e.format)&&void 0!==n?n:"#,#.##")}))))},Oo=t=>(0,uo.Dt)((e=>e.title(t.title).tag((0,Ur.Ii)(t.identifier))));var jo=r(26235),xo=r(26090),Po=r(33082),_o=r(16473);const So=t=>{if((0,Mr.$y)(t))throw new Error("Cannot convert ref specified by identifier");return t},Do=t=>(0,kr.tG)(t)?(t=>{const e=(0,kr.xo)(t);if((0,Mr.$y)(e))throw new Error("Cannot convert measure value filter for measure specified by identifier");return{measureValueFilter:{measure:e,condition:(0,kr.Mr)(t)}}})(t):(0,kr.Ey)(t)?(t=>{const{measure:e,attributes:r,operator:n,value:i}=t.rankingFilter;return{rankingFilter:{measures:[So(e)],attributes:null==r?void 0:r.map(So),operator:n,value:i}}})(t):ko(t),ko=t=>(0,kr.Vc)(t)?(t=>{const e=(0,kr.eh)(t);return Lr(e),{positiveAttributeFilter:{displayForm:Br((0,kr.zH)(t)),in:(0,kr.OF)(e)?e.uris:e.values}}})(t):(0,kr.II)(t)?(t=>{const e=(0,kr.eh)(t);return Lr(e),{negativeAttributeFilter:{displayForm:Br((0,kr.zH)(t)),notIn:(0,kr.OF)(e)?e.uris:e.values}}})(t):(0,kr.yf)(t)?(t=>({absoluteDateFilter:Object.assign({dataSet:Br((0,kr.zH)(t))},(0,kr.Nl)(t))}))(t):(t=>({relativeDateFilter:Object.assign({dataSet:Br((0,kr.zH)(t))},(0,kr.wF)(t))}))(t),Ao=t=>({dataSet:Br(t.dataSet),periodsAgo:t.periodsAgo}),Co=t=>{if((0,Vr.MI)(t))return(t=>{const e=(0,Vr.eR)(t),r=(0,Vr.n6)(t);if(!e&&!r)throw new Error("Measure has neither uri nor identifier.");const n=Kr((0,Vr.Rd)(t)),i=(0,Vr.mw)(t),a=((0,Vr.gY)(t)||[]).map(ko);return{measureDefinition:Object.assign(Object.assign(Object.assign({item:e?{identifier:e}:{uri:r}},n&&{aggregation:n}),i&&{computeRatio:i}),!o()(a)&&{filters:a})}})(t);if((0,Vr.Nx)(t))return(t=>({arithmeticMeasure:{measureIdentifiers:(0,Vr.YV)(t),operator:(0,Vr.PN)(t)}}))(t);if((0,Vr.E3)(t))return(t=>({popMeasureDefinition:{measureIdentifier:(0,Vr.pY)(t),popAttribute:Br((0,Vr.dN)(t))}}))(t);if((0,Vr.yq)(t))return(t=>({previousPeriodMeasure:{measureIdentifier:(0,Vr.pY)(t),dateDataSets:(0,Vr.Hz)(t).map(Ao)}}))(t);throw new Error("Unknown measure type")},To=t=>(0,Vr.kb)(t)?(t=>{const e=(0,Vr.F8)(t),r=(0,Vr.Lc)(t),n=(0,Vr.JL)(t);return{measure:Object.assign(Object.assign(Object.assign({definition:Co(t),localIdentifier:(0,Vr.i1)(t)},e&&{alias:e}),r&&{format:r}),n&&{title:n})}})(t):(t=>{const e=(0,Rr.pV)(t);return{visualizationAttribute:Object.assign({localIdentifier:(0,Rr.WP)(t),displayForm:(0,Rr.KH)(t)},e&&{alias:e})}})(t),Eo=t=>{const{totals:e}=t;return Object.assign({items:t.items.map(To),localIdentifier:t.localIdentifier},!o()(e)&&{totals:e})},Io=t=>{const{properties:e,references:r}=Ci({properties:(0,jn.XF)(t),references:{}}),n=Xe()(e,((t,e)=>"controls"!==e&&o()(t))),i=(0,jn.Tm)(t).map(Do);return Object.assign(Object.assign(Object.assign({buckets:(0,jn.Av)(t).map(Eo),visualizationClass:{uri:(0,jn.Yt)(t)}},!o()(n)&&{properties:Ii(n)}),!o()(i)&&{filters:i}),!o()(r)&&{references:r})},Ro=t=>({content:Io(t),meta:{title:(0,jn._H)(t),category:"visualizationObject",summary:(0,jn.BR)(t)}}),Fo=t=>{const e=Ro(t),r=(0,jn.zB)(t);return{content:e.content,meta:Object.assign(Object.assign(Object.assign(Object.assign({},e.meta),{identifier:(0,jn.wG)(t),uri:(0,jn.T)(t),created:(0,jn.$)(t),updated:(0,jn.FM)(t)}),r&&{locked:r}),{tags:(0,jn.oj)(t).join(" ")})}};class Mo{constructor(t,e,r,n){this.catalogGroups=t,this.items=e,this.availableItems=r,this.options=n}groups(){return(0,W.kG)(this.options.loadGroups,"Catalog groups are not loaded."),this.catalogGroups}allItems(){return this.items}attributes(){return this.items.filter(no.f)}measures(){return this.items.filter(eo.m)}facts(){return this.items.filter(ro.j)}dateDatasets(){return this.items.filter(jo.q)}attributeHierarchies(){return this.items.filter(xo.t)}allAvailableItems(){return this.availableItems}availableAttributes(){return this.availableItems.filter(no.f)}availableMeasures(){return this.availableItems.filter(eo.m)}availableFacts(){return this.availableItems.filter(ro.j)}availableDateDatasets(){return this.availableItems.filter(jo.q)}availableAttributeHierarchies(){return this.availableItems.filter(xo.t)}}class Uo{constructor(t,e,r,n,i={types:["attribute","measure","fact","dateDataset","attributeHierarchy"],excludeTags:[],includeTags:[],loadGroups:!0},o){this.authCall=t,this.workspace=e,this.groups=r,this.items=n,this.options=i,this.mappings=o,this.loadAvailableCatalogItems=async t=>{const{types:e}=this.options,r=e.filter(co);if(0===r.length)return[];const n=r.map(fo),i=await this.authCall((e=>e.catalogue.loadItemDescriptionObjects(this.workspace,t.content,this.mappings.attributeByDisplayFormUri))),o=await this.authCall((t=>t.catalogue.loadAvailableItemUris(this.workspace,{catalogQueryRequest:{bucketItems:i,types:n}}))),a=e.includes("attributeHierarchy")?[...o,...this.items.filter(xo.t)]:[...o];return this.items.filter((t=>{return a.includes((e=t,(0,no.f)(e)?e.attribute.uri:(0,eo.m)(e)?e.measure.uri:(0,ro.j)(e)?e.fact.uri:(0,xo.t)(e)?e.attributeHierarchy.uri:e.dataSet.uri));var e}))},this.loadAvailableDateDatasets=async t=>{const{types:e,includeTags:r,excludeTags:n,dataset:i,production:o,includeDateGranularities:a}=this.options;if(!e.includes("dateDataset"))return[];const[s,u,c]=await Promise.all([Bn(r,this.authCall),Bn(n,this.authCall),i?Un(i,this.authCall):Promise.resolve("")]),l=!o&&!c;return(await this.authCall((e=>e.catalogue.loadDateDataSets(this.workspace,{bucketItems:t.content,includeAvailableDateAttributes:!0,dataSetIdentifier:c,attributesMap:this.mappings.attributeByDisplayFormUri,includeObjectsWithTags:s.length?s:void 0,excludeObjectsWithTags:u.length?u:void 0,returnAllDateDataSets:l,includeDateGranularities:a})))).dateDataSets.map((t=>vo(t,this.mappings.attributeById)))}}withOptions(t){const e=Object.assign(Object.assign({},this.options),t);return new Uo(this.authCall,this.workspace,this.groups,this.items,e,this.mappings)}forDataset(t){return this.withOptions({dataset:t})}forTypes(t){return this.withOptions({types:t})}includeTags(t){return this.withOptions({includeTags:t})}excludeTags(t){return this.withOptions({excludeTags:t})}forItems(t){return this.withOptions({items:t})}forInsight(t){return this.withOptions({insight:t})}withGroups(t){return this.withOptions({loadGroups:t})}async load(){const t=function(t,e){const{items:r=[],insight:n}=t;if(0===r.length&&!n)throw new Error("No items or insight was specified.");const i=function(t){const e=new Set,r=new Set;return t.forEach((t=>{(0,Vr.Nx)(t)?e.add((0,Vr.i1)(t)):(0,Vr.kb)(t)&&r.add((0,Vr.i1)(t))})),t.filter((t=>{if((0,Rr.dt)(t)||(0,Vr.MI)(t))return!0;if((0,Vr.Nx)(t))return!1;if((0,Vr.E3)(t)||(0,Vr.yq)(t)){const n=(0,Vr.pY)(t);return!e.has(n)&&r.has(n)}throw new W.ej("unexpected type of item encountered while constructing items for availability query")}))}(n?(0,jn.zy)(n):r).map((t=>function(t,e){var r,n;if((0,Rr.dt)(t)){const r=(0,Rr.KH)(t);if((0,Mr.$y)(r)){const n=e.displayFormById[r.identifier];return(0,Po.ST)(t,(e=>e.displayForm((0,Ur.lR)(n.meta.uri)).localId((0,Rr.WP)(t))))}return t}if((0,Vr.MI)(t)){const n=(0,Vr.Q6)(t);if((0,Mr.$y)(n)){const i=e.measureById[n.identifier],o=e.factById[n.identifier],a=null!==(r=null==i?void 0:i.uri)&&void 0!==r?r:o.uri;return(0,_o.HB)(t,(e=>e.measureItem((0,Ur.lR)(a)).localId((0,Vr.i1)(t))))}return t}if((0,Vr.E3)(t)){const r=(0,Vr.dN)(t);if((0,Mr.$y)(r)){const i=e.attributeById[r.identifier],o=e.dateAttributeById[r.identifier],a=null!==(n=null==i?void 0:i.attribute.meta.uri)&&void 0!==n?n:o.attribute.uri;return(0,_o.Mn)(t,(e=>e.popAttribute((0,Ur.lR)(a)).localId((0,Vr.i1)(t))))}}return t}(t,e)));return Ro({insight:{title:"",filters:[],properties:{},sorts:[],visualizationUrl:"",buckets:[{items:i}]}})}(this.options,this.mappings),[e,r]=await Promise.all([this.loadAvailableCatalogItems(t),this.loadAvailableDateDatasets(t)]),n=[...e,...r];return new Mo(this.groups,this.items,n,this.options)}}class Bo{constructor(t,e,r,n,i,o){this.authCall=t,this.workspace=e,this.catalogGroups=r,this.items=n,this.options=i,this.mappings=o}groups(){return(0,W.kG)(this.options.loadGroups,"Catalog groups are not loaded."),this.catalogGroups}allItems(){return this.items}attributes(){return this.items.filter(no.f)}measures(){return this.items.filter(eo.m)}facts(){return this.items.filter(ro.j)}dateDatasets(){return this.items.filter(jo.q)}attributeHierarchies(){return this.items.filter(xo.t)}availableItems(){return new Uo(this.authCall,this.workspace,this.catalogGroups,this.items,this.options,this.mappings)}}const No=({production:t,dataset:e})=>void 0===t?t:!e&&t?1:0,Lo=["attribute","measure","fact"],Wo=t=>Lo.includes(t);class zo{constructor(t,e,r={types:["attribute","measure","fact","dateDataset","attributeHierarchy"],excludeTags:[],includeTags:[],loadGroups:!0}){this.authCall=t,this.workspace=e,this.options=r,this.tagsAndDatasetIdsPromise=null,this.loadAllCatalogItemsAndMappings=async()=>{const[t,e]=await Promise.all([this.loadBearCatalogItems(),this.loadDateDatasets()]),r=(n=await this.loadBearAttributes(t,Xi()(e,(t=>{var e;return null!==(e=t.availableDateAttributes)&&void 0!==e?e:[]}))),Xi()(n,(t=>[t,...t.attribute.content.displayForms.map((t=>({attributeDisplayForm:t})))])));var n;const{attributeByDisplayFormUri:i,displayFormById:a,displayFormByUri:s,attributeById:u}=(t=>{const[e,r]=Ji()(t,jt),n=r.map((t=>t.attributeDisplayForm)),i=to()(e,(t=>t.attribute.meta.uri)),o=to()(e,(t=>t.attribute.meta.identifier)),a=to()(n,(t=>t.meta.uri)),s=to()(n,(t=>t.meta.identifier)),u=Object.keys(a).reduce(((t,e)=>{const r=a[e].content.formOf,n=i[r];return t[e]=n,t}),{});return{attributeById:o,attributeByDisplayFormUri:u,displayFormById:s,displayFormByUri:a}})(r),c=t.map(((t,e)=>r=>{return n=r,o()(n)||"attribute"!==n.type?function(t){return!o()(t)&&"metric"===t.type}(r)?(t=>{const e=ho(t),r=yo(t);return(0,oo.Y)((n=>n.measure(e,(e=>e.modify(go(t)).expression(t.expression).format(t.format))).groups(r)))})(r):(t=>{const e=ho(t),r=yo(t);return(0,ao.Z)((n=>n.fact(e,(e=>e.modify(go(t)))).groups(r)))})(r):((t,e,r)=>{var n;const i=ho(t),o=e[t.links.defaultDisplayForm],a=r[t.identifier],s=(null!==(n=t.links.geoPinDisplayForms)&&void 0!==n?n:[]).map((t=>e[t])),u=a.attribute.content.displayForms.map((t=>bo(t,i))),c=yo(t),l=a.attribute.content.drillDownStepAttributeDF?(0,Ur.lR)(a.attribute.content.drillDownStepAttributeDF):void 0,f=a.attribute.content.linkAttributeDF?(0,Ur.lR)(a.attribute.content.linkAttributeDF):void 0;return(0,io.W)((e=>e.attribute(i,(e=>e.modify(go(t)).drillDownStep(l).drillToAttributeLink(f).displayForms(u))).defaultDisplayForm(bo(o,i)).displayForms(u).geoPinDisplayForms(s.map((t=>bo(t,i)))).groups(c)))})(r,t,e);var n})(s,u)),l=e.map((t=>vo(t,u))),f=this.options.types.includes("attributeHierarchy")?function(t,e){const r=t.filter(no.f).filter((t=>t.attribute.drillDownStep)),n=e.flatMap((t=>t.dateAttributes.filter((t=>t.attribute.drillDownStep))));return[...r,...n].map((t=>{const{attribute:e}=t,r=(0,xi.Z)();return{type:"attributeHierarchy",attributeHierarchy:{type:"attributeHierarchy",id:r,uri:r,ref:(0,Ur.lR)(r),title:`Attribute hierarchy for ${e.title}`,description:"",production:!0,deprecated:!1,unlisted:!1,attributes:[e.ref,e.drillDownStep]}}}))}(c,l):[],d=c.concat(l,f),p=to()(c.filter(eo.m).map((t=>t.measure)),(t=>t.id)),h=to()(c.filter(ro.j).map((t=>t.fact)),(t=>t.id)),y=to()(Xi()(l,(t=>t.dateAttributes)),(t=>t.attribute.id));return{allCatalogItems:d,mappings:{attributeById:u,attributeByDisplayFormUri:i,displayFormById:a,measureById:p,factById:h,dateAttributeById:y}}},this.loadDateDatasets=async()=>{const{types:t,production:e,includeDateGranularities:r}=this.options;if(!t.includes("dateDataset"))return[];const{includeTagsIds:n,excludeTagsIds:i,dataSetId:o}=await this.getTagsAndDatasetIds(),a=!e&&!o;return(await this.authCall((t=>t.catalogue.loadDateDataSets(this.workspace,{returnAllDateDataSets:a,dataSetIdentifier:o,excludeObjectsWithTags:i.length?i:void 0,includeObjectsWithTags:n.length?n:void 0,includeDateGranularities:r})))).dateDataSets},this.loadBearCatalogItems=async()=>{const{types:t,dataset:e}=this.options,r=t.filter(co);if(0===r.length)return[];const{includeTagsIds:n,excludeTagsIds:i,dataSetId:o}=await this.getTagsAndDatasetIds(),a=r.map(fo);return this.authCall((t=>t.catalogue.loadAllItems(this.workspace,{types:a,includeWithTags:n.length?n:void 0,excludeWithTags:i.length?i:void 0,production:No(this.options),csvDataSets:e?[o]:[]})))},this.loadBearAttributes=async(t,e)=>{const{types:r}=this.options;if(!r.some((t=>"attribute"===t||"dateDataset"===t)))return[];const n=t.filter(no.f).map((t=>t.links.self)),i=e.map((t=>t.attributeMeta.uri));return this.authCall((t=>t.md.getObjects(this.workspace,Sn()([...n,...i]))))},this.loadCatalogGroups=async()=>{const{types:t,loadGroups:e}=this.options;if(!e||!t.some(Wo))return[];const{dataset:r}=this.options,{includeTagsIds:n,excludeTagsIds:i,dataSetId:o}=await this.getTagsAndDatasetIds();return(await this.authCall((t=>t.catalogue.loadGroups(this.workspace,{includeWithTags:n.length?n:void 0,excludeWithTags:i.length?i:void 0,production:No(this.options),csvDataSets:r?[o]:[]})))).map(Oo)},this.getTagsAndDatasetIds=async()=>{if(!this.tagsAndDatasetIdsPromise){const{dataset:t,includeTags:e,excludeTags:r}=this.options;this.tagsAndDatasetIdsPromise=Promise.all([Bn(e,this.authCall),Bn(r,this.authCall),t?Un(t,this.authCall):Promise.resolve("")]).then((([t,e,r])=>({dataSetId:r,excludeTagsIds:e,includeTagsIds:t})))}return this.tagsAndDatasetIdsPromise}}withOptions(t){const e=Object.assign(Object.assign({},this.options),t);return new zo(this.authCall,this.workspace,e)}forDataset(t){return this.withOptions({dataset:t})}forTypes(t){return this.withOptions({types:t})}includeTags(t){return this.withOptions({includeTags:t})}excludeTags(t){return this.withOptions({excludeTags:t})}withGroups(t){return this.withOptions({loadGroups:t})}async load(){const[{allCatalogItems:t,mappings:e},r]=await Promise.all([this.loadAllCatalogItemsAndMappings(),this.loadCatalogGroups()]);return new Bo(this.authCall,this.workspace,r,t,this.options,e)}}const Go={locale:"en-US",userId:"Anonymous",separators:{thousand:",",decimal:"."}},$o={metadataTimeZone:"Europe/Prague"},Ho=["enableAnalyticalDashboardPermissions","enableNewAnalyticalDashboardsNavigation"];class qo{constructor(t,e){this.authCall=t,this.workspace=e}getSettings(){return this.authCall((async t=>{const e=await t.project.getProjectFeatureFlags(this.workspace);return Object.assign(Object.assign(Object.assign({},$o),{workspace:this.workspace}),e)}))}getSettingsForCurrentUser(){return this.authCall((async(t,{getPrincipal:e})=>{const r=await En(e);if(!r){const t=await this.getSettings();return Object.assign(Object.assign(Object.assign({},$o),Go),t)}const[n,i,o,a]=await Promise.all([t.project.getProjectFeatureFlags(this.workspace),t.user.getUserFeatureFlags(r,["user"]),t.user.getCurrentProfile(),t.user.getUserRegionalNumberFormatting(r)]),{language:s}=o;return Object.assign(Object.assign(Object.assign({},$o),{userId:r,workspace:this.workspace,locale:s,separators:a}),((t,e)=>Object.assign(Object.assign({},t),(t=>{const e=Object.assign({},t);for(const t of Ho)delete e[t];return e})(e)))(n,i))}))}setLocale(t){throw new yr.tn("Backend does not support workspace locale setup")}}const Vo={permissions:{}};class Yo{constructor(t,e){this.authCall=t,this.workspace=e}async getPermissionsForCurrentUser(){return(({permissions:t})=>Object.keys(t).reduce(((e,r)=>{const n=t[r];return e[r]="1"===n,e}),{}))((await this.authCall((async(t,{getPrincipal:e})=>{const r=await In(e);return t.project.getPermissions(this.workspace,r)}))).associatedPermissions||Vo)}}var Qo=r(95175),Jo=r.n(Qo);const Ko=t=>{const{content:e,meta:r}=t.visualizationClass;return{visualizationClass:Object.assign(Object.assign({},e),{identifier:r.identifier,title:r.title,uri:r.uri})}};var Xo=r(98857),Zo=r.n(Xo),ta=r(52948),ea=r.n(ta),ra=r(27098),na=r.n(ra),ia=r(35182),oa=r.n(ia);const aa=t=>{switch(t){case"displayForm":return"attributeDisplayForm";case"measure":return"metric";case"variable":return"prompt";default:return t}},sa=["fact","attribute"],ua=sa.map(aa);class ca{constructor(t,e,r,n){this.authCall=t,this.workspace=e,this.insight=r,this.requestedTypes=n,this.run=async()=>{if(o()(this.typesForXref))return{};const t=await this.findReferencedObjects();if(this.requestedTypes.includes("dataSet")){const e=await this.findDatasets(t);t.push(...e)}const e=await this.loadObjects(t);return this.createResult(e)},this.findReferencedObjects=async()=>{const t=this.typesForXref.map(aa),{entries:e}=await this.authCall((e=>e.xhr.getParsed(`/gdc/md/${this.workspace}/using2/${this.objectId}?types=${t.join(",")}`)));return e},this.findDatasets=async t=>{const e={inUseMany:{uris:t.filter((t=>ua.includes(t.category))).map((t=>t.link)),types:["dataSet"],nearest:!1}},r=await this.authCall((t=>t.xhr.postParsed(`/gdc/md/${this.workspace}/usedby2`,{body:e})));return qn()(na()((t=>t.entries)),oa()((t=>t.identifier)))(ea()(r.useMany))},this.loadObjects=async t=>{const e=this.typesForLoad.map(aa),r=t.filter((t=>e.includes(t.category))).map((t=>t.link));return this.authCall((t=>t.md.getObjects(this.workspace,r)))};const i=(0,jn.T)(this.insight);var a;this.objectId=Rn(i),this.typesForXref=function(t){let e=t.includes("dataSet")?Zo()(t,sa):t;return(t.includes("attribute")||t.includes("displayForm"))&&(e=Zo()(e,["attribute","displayForm"])),e}(this.requestedTypes),this.typesForLoad=(a=this.requestedTypes).includes("attribute")||a.includes("displayForm")?Zo()(a,["attribute","displayForm"]):a}createResult(t){const e=t.map(Vn),r=e.map(fi),n=this.requestedTypes.includes("dataSet");if(1===this.requestedTypes.length&&n)return{dataSetMeta:r};const i=to()(e,(t=>t.meta.uri)),o=[],a=[];r.forEach((t=>{const e=i[t.uri];switch(t.type){case"displayForm":case"variable":break;case"attribute":o.push((t=>{var e,r;const{content:n,meta:i}=t.attribute,o=(0,Ur.lR)(i.uri),a=null!==(e=n.displayForms)&&void 0!==e?e:[],s=null!==(r=a.find((t=>1===t.content.default)))&&void 0!==r?r:a[0],u=a.filter((t=>"GDC.geo.pin"===t.content.type));return(0,io.W)((t=>{let e=t.attribute(o,(t=>t.modify(mo(i)))).displayForms(a.map((t=>(0,ti.H)((0,Ur.lR)(t.meta.uri),(e=>e.modify(mo(t.meta)).attribute(o).displayFormType(t.content.type)))))).geoPinDisplayForms(u.map((t=>(0,ti.H)((0,Ur.lR)(t.meta.uri),(e=>e.modify(mo(t.meta)).attribute(o).displayFormType(t.content.type))))));return s&&(e=e.defaultDisplayForm((0,Ur.lR)(s.meta.uri),(t=>t.modify(mo(s.meta)).attribute(o).displayFormType(s.content.type)))),e}))})({attribute:e}));break;case"fact":o.push((t=>{const{meta:e}=t.fact,r=(0,Ur.lR)(e.uri);return(0,ao.Z)((t=>t.fact(r,(t=>t.modify(mo(e))))))})({fact:e}));break;case"measure":o.push(wo({metric:e}));break;case"dataSet":a.push(t)}}));const s=n?{dataSetMeta:a}:{};return Object.assign(Object.assign({},s),{catalogItems:o})}}var la=r(19113),fa=r(55991),da=r(34183),pa=r.n(da),ha=r(48870),ya=r.n(ha);const ma=t=>(0,kr.tG)(t)||(0,kr.Ey)(t);async function ga(t,e){const[r,n]=pa()(ma,t),i=n.map(kr.zH),o=await e(i),a=ya()(n,o).map((([t,e])=>{if((0,kr.yf)(t)){const{from:r,to:n}=(0,kr.Nl)(t);return(0,fa.xk)((0,Ur.lR)(e),r,n)}if((0,kr.QJ)(t)){const{granularity:r,from:n,to:i}=(0,kr.wF)(t);return(0,fa.u3)((0,Ur.lR)(e),r,n,i)}if((0,kr.Vc)(t)){const r=(0,kr.eh)(t);return(0,fa.Z1)((0,Ur.lR)(e),r)}if((0,kr.II)(t)){const r=(0,kr.eh)(t);return(0,fa.o7)((0,Ur.lR)(e),r)}return t}));return[...r,...a]}var ba=r(29118);function va(t){return Sn()(It()([t.visualizationObject.meta.author,t.visualizationObject.meta.contributor]))}function wa(t){return Sn()(It()([t.dashboardPlugin.meta.author,t.dashboardPlugin.meta.contributor]))}class Oa{constructor(t,e){this.authCall=t,this.workspace=e,this.getVisualizationClass=async t=>{const e=await Fn(t,this.workspace,this.authCall),r=await this.authCall((t=>t.md.getObjects(this.workspace,[e])));return Ko(r[0])},this.getVisualizationClasses=async(t={})=>{const e=await this.authCall((e=>{const r={category:"visualizationClass"};return t.includeDeprecated&&(r.deprecated=!0),e.md.getObjectsByQuery(this.workspace,r)}));return qn()(Jo()((t=>{var e;return null!==(e=t.visualizationClass.content.orderIndex)&&void 0!==e?e:0})),Qn()(Ko))(e)},this.getInsight=async(t,e={})=>{const r=await Fn(t,this.workspace,this.authCall),n=await this.authCall((t=>t.md.getVisualization(r))),i=e.loadUserData?await Nn(new Map,va(n),this.authCall):void 0,o=(await this.authCall((t=>t.md.getObjects(this.workspace,[n.visualizationObject.content.visualizationClass.uri]))))[0].visualizationClass.content.url;return $i(n,o,i)},this.getVisualizationClassesByVisualizationClassUri=async(t={})=>(await this.getVisualizationClasses(t)).reduce(((t,e)=>(e.visualizationClass.uri&&(t[e.visualizationClass.uri]=e.visualizationClass.url),t)),{}),this.getInsights=async t=>{const e=await this.getVisualizationClassesByVisualizationClassUri({includeDeprecated:!0});return this.getInsightsInner(null!=t?t:{},e,new Map)},this.getInsightsInner=async(t,e,r)=>{var n;const i=Object.assign(Object.assign({},t),{getTotalCount:!0});return ba.r.for((async({limit:n,offset:o})=>{const a=await this.authCall((t=>t.md.getObjectsByQueryWithPaging(this.workspace,Object.assign(Object.assign({category:"visualizationObject"},i),{limit:n,offset:o})))),{items:s,paging:{totalCount:u}}=a,c=t.loadUserData?await Nn(r,Xi()(s,va),this.authCall):r;return{items:s.map((t=>$i(t,e[t.visualizationObject.content.visualizationClass.uri],c))),totalCount:u}}),null!==(n=i.limit)&&void 0!==n?n:50,i.offset)},this.createInsight=async t=>{const e=await this.getInsightWithConvertedVisClass(t),r=await this.authCall((t=>t.md.saveVisualization(this.workspace,{visualizationObject:Ro(e)})));return $i(r,(0,jn.Yt)(t))},this.updateInsight=async t=>{const e=(0,jn.wG)(t),r=await this.authCall((t=>t.md.getObjectUri(this.workspace,e))),n=await this.getInsightWithConvertedVisClass(t);return await this.authCall((t=>t.md.updateVisualization(this.workspace,r,{visualizationObject:Fo(n)}))),t},this.deleteInsight=async t=>{const e=await Fn(t,this.workspace,this.authCall);await this.authCall((t=>t.md.deleteVisualization(e)))},this.openInsightAsReport=async t=>{const e=Ro(t);return this.authCall((t=>t.md.openVisualizationAsReport(this.workspace,{visualizationObject:e})))},this.getInsightReferencedObjects=async(t,e=["dataSet","measure","fact","attribute"])=>new ca(this.authCall,this.workspace,t,e).run(),this.getInsightReferencingObjects=async t=>{const e=await Fn(t,this.workspace,this.authCall),r=Rn(e);return this.authCall((async t=>({analyticalDashboards:(await t.xhr.getParsed(`/gdc/md/${this.workspace}/usedby2/${r}?types=analyticalDashboard`)).entries.map((t=>di("analyticalDashboard",t)))})))},this.getInsightWithAddedFilters=async(t,e)=>{if(!e.length)return t;const r=await async function(t,e,r){const[n,i]=function(t){const e=t.filter((t=>!ma(t)));return e.every((t=>(0,Mr.$y)((0,kr.zH)(t))))||e.every((t=>(0,Mr.hj)((0,kr.zH)(t))))}([...t,...e])?[t,e]:await Promise.all([ga(t,r),ga(e,r)]);return(0,la.f)(n,i)}((0,jn.Tm)(t),e,(t=>Mn(t,this.workspace,this.authCall)));return(0,jn.AZ)(t,r)},this.getVisualizationClassByUrl=async t=>(await this.getVisualizationClasses()).find((e=>e.visualizationClass.url===t))}async getInsightWithConvertedVisClass(t){const e=(0,jn.Yt)(t),r=await this.getVisualizationClassByUrl(e);if(!r)throw new Error(`Visualization class with url ${e} not found.`);return{insight:Object.assign(Object.assign({},t.insight),{visualizationUrl:r.visualizationClass.uri})}}}const ja=t=>Object.assign({},t);class xa{constructor(t,e){this.authCall=t,this.workspace=e}async getDatasets(){return(await this.authCall((t=>t.catalogue.loadDataSets(this.workspace)))).map(ja)}async getAllDatasetsMeta(){return(await this.authCall((t=>t.project.getDatasets(this.workspace)))).map((t=>di("dataSet",t)))}}var Pa=r(11985),_a=r(5953),Sa=r(84879),Da=r(29322),ka=r(43050),Aa=r(10897),Ca=r(96783);const Ta=t=>((0,W.kG)((0,Mr.hj)(t)),t.uri),Ea=t=>((0,W.kG)((0,Mr.Mt)(t)),t.localIdentifier),Ia=t=>{const e={width:t.gridWidth};return t.gridHeight&&(e.height=t.gridHeight),t.heightAsRatio&&(e.heightAsRatio=t.heightAsRatio),e},Ra=t=>["xl","md","lg","sm","xs"].reduce(((e,r)=>{const n=t[r];return n&&(e[r]=Ia(n)),e}),{}),Fa=t=>{var e,r;const n={columns:t.items.map((t=>(t=>{const{size:e,widget:r}=t;if((0,_a.Qd)(r))return{size:Ra(e),content:{widget:{qualifier:{uri:Ta(r.ref)}}}};if((0,Da.LI)(r))return{size:Ra(e),content:Ma(r)};if((0,_a.eu)(r))throw new yr.S2("Cannot convert layout widget definition to bear model!");return{size:Ra(e)}})(t)))};if(t.header){const i=Xe()(t.header,(t=>!t));if(!o()(i)){const i={};(null===(e=t.header)||void 0===e?void 0:e.title)&&(i.title=t.header.title),(null===(r=t.header)||void 0===r?void 0:r.description)&&(i.description=t.header.description),n.header=i}}return n},Ma=t=>{const{sections:e}=t,r={fluidLayout:{rows:e.map(Fa)}};return t.size&&(r.fluidLayout.size=Ia(t.size)),r},Ua=t=>{if((0,Sa.jG)(t)){const{dateFilter:{granularity:e,type:r,attribute:n,dataSet:i,from:o,to:a}}=t,s={dateFilter:{granularity:e,type:r,from:null==o?void 0:o.toString(),to:null==a?void 0:a.toString()}};return n&&(s.dateFilter.attribute=Ta(n)),i&&(s.dateFilter.dataSet=Ta(i)),s}const{attributeFilter:{attributeElements:e,displayForm:r,negativeSelection:n,localIdentifier:i,title:o,filterElementsBy:a=[],selectionMode:s}}=t,u=Ta(r),c=a.map((t=>({filterLocalIdentifier:t.filterLocalIdentifier,over:{attributes:t.over.attributes.map(Ta)}})));if((0,kr.ct)(e))throw new yr.tn("Bear backend does not support value attribute filters in analytical dashboards");return Lr(e),{attributeFilter:Object.assign({negativeSelection:n,attributeElements:e.uris,displayForm:u,localIdentifier:i,filterElementsBy:c,title:o},void 0!==s?{selectionMode:s}:{})}};function Ba(t){if((0,Sa.br)(t)){const{created:e,filters:r}=t;return{tempFilterContext:Object.assign({created:e,filters:r.map(Ua)},t?{uri:Ta(t.ref)}:{})}}const{description:e,filters:r,title:n}=t;return{filterContext:{content:{filters:r.map(Ua)},meta:Object.assign({summary:e,title:n},(0,Sa.kx)(t)?{uri:Ta(t),identifier:t.identifier}:{})}}}const Na=t=>(0,Sa.V0)(t)?{dateFilterReference:{dataSet:Ta(t.dataSet)}}:{attributeFilterReference:{displayForm:Ta(t.displayForm)}};function La(t){if((0,ka.x4)(t)){const{tab:e}=t;return{projectDashboard:Ta(t.target),projectDashboardTab:e}}const{origin:e}=t;let r;if((0,ka.oU)(e)){const{measure:t}=e;r={drillFromMeasure:{localIdentifier:Ea(t)}}}else{if(!(0,ka.KQ)(e))throw new yr.S2("Unable to convert unknown drill origin!");{const{attribute:t}=e;r={drillFromAttribute:{localIdentifier:Ea(t)}}}}if((0,ka.hh)(t))return{drillToDashboard:{from:r,target:"in-place",toDashboard:void 0!==t.target?(n=t.target,(0,W.kG)((0,Mr.$y)(n)),n.identifier):void 0}};if((0,ka.f5)(t))return{drillToVisualization:{from:r,target:"pop-up",toVisualization:{uri:Ta(t.target)}}};if((0,ka.TR)(t))return{drillToCustomUrl:{from:r,target:"new-window",customUrl:t.target.url}};if((0,ka.oZ)(t))return{drillToAttributeUrl:{from:r,target:"new-window",drillToAttributeDisplayForm:{uri:Ta(t.target.hyperlinkDisplayForm)},insightAttributeDisplayForm:{uri:Ta(t.target.displayForm)}}};var n;throw new yr.S2("Unable to convert unknown drill!")}const Wa=t=>{const{ignoreDashboardFilters:e,dateDataSet:r,title:n,description:i,drills:a}=t,s=Object.assign(Object.assign({},(0,_a.Qd)(t)?{identifier:t.identifier,uri:Ta(t.ref)}:{}),{title:n,summary:i}),u=r&&Ta(r),c=e.map(Na);if("kpi"===t.type){(0,W.kG)(t.kpi,"Widget type is kpi, but kpi props are not defined!");const{kpi:e,configuration:r}=t;return{kpi:{content:Object.assign(Object.assign(Object.assign({},(0,Aa.VP)(e)?{comparisonDirection:e.comparisonDirection,comparisonType:e.comparisonType}:{comparisonType:e.comparisonType}),{metric:Ta(e.metric),ignoreDashboardFilters:c,dateDataSet:u,drillTo:a.length>0?La(a[0]):void 0}),r?{configuration:r}:{}),meta:s}}}const{insight:l,properties:f={},configuration:d}=t,{properties:p,references:h}=Ci({properties:f,references:{}}),y=Xe()(p,((t,e)=>"controls"!==e&&o()(t)));return{visualizationWidget:{content:Object.assign(Object.assign(Object.assign({visualization:Ta(l),ignoreDashboardFilters:c,dateDataSet:u,drills:a?a.map(La):[]},!o()(y)&&{properties:Ii(y)}),!o()(h)&&{references:h}),d?{configuration:d}:{}),meta:s}}},za=t=>{const{type:e}=t;return(0,h._T)(t,["type"])},Ga=t=>{const{type:e}=t;return(0,h._T)(t,["type"])},$a=t=>{const{plugin:e,parameters:r}=t;return{type:Ta(e),parameters:r}},Ha=t=>{const{filterContext:e,layout:r,ref:n,identifier:i,title:a,description:s,dateFilterConfig:u,isLocked:c,tags:l,plugins:f,shareStatus:d,isUnderStrictControl:p}=t,h=r&&Ma(r),y=r&&(0,Pa.ln)(r),m=n&&Ta(n),g=(null==e?void 0:e.ref)&&Ta(e.ref),b=u&&(t=>{var e,r,n,i;const o=null===(r=null===(e=t.addPresets)||void 0===e?void 0:e.absolutePresets)||void 0===r?void 0:r.map(za),a=null===(i=null===(n=t.addPresets)||void 0===n?void 0:n.relativePresets)||void 0===i?void 0:i.map(Ga),s=o||a?Object.assign(Object.assign({},o&&{absolutePresets:o}),a&&{relativePresets:a}):void 0;return Object.assign(Object.assign({},t),s&&{addPresets:s})})(u),v=null==f?void 0:f.map($a),w="shared"===d?{sharedWithSomeone:1}:{};let O={};return void 0!==p&&(O=p?{flags:["strictAccessControl"]}:{flags:[]}),{analyticalDashboard:{content:Object.assign(Object.assign(Object.assign({},b&&{dateFilterConfig:b}),v&&!o()(v)&&{plugins:v}),{filterContext:g,widgets:y?y.filter(_a.Qd).map((t=>Ta(t.ref))):[],layout:h}),meta:Object.assign(Object.assign(Object.assign(Object.assign({},m?{uri:m,identifier:i}:{}),{title:a,summary:s,locked:c,tags:null==l?void 0:l.join(" "),unlisted:"public"===d?0:1}),w),O)}}},qa=t=>{const{dashboard:e,widget:r,description:n,isTriggered:i,threshold:o,title:a,whenTriggered:s,ref:u,identifier:c,filterContext:l}=t,f=u&&Ta(u);return{kpiAlert:{content:{filterContext:(null==l?void 0:l.ref)&&Ta(l.ref),dashboard:Ta(e),kpi:Ta(r),isTriggered:i,threshold:o,whenTriggered:s},meta:Object.assign(Object.assign({},f?{uri:f,identifier:c}:{}),{title:a,summary:n})}}},Va=t=>{if((0,Ca.X)(t)){const{dashboard:e,format:r,filterContext:n}=t;return{kpiDashboardAttachment:{uri:Ta(e),format:r,filterContext:n&&Ta(n)}}}if((0,Ca.z)(t)){const{widgetDashboard:e,widget:r,filterContext:n,formats:i,exportOptions:o}=t;return{visualizationWidgetAttachment:{uri:Ta(r),dashboardUri:Ta(e),formats:i,filterContext:n&&Ta(n),exportOptions:o&&{includeFilterContext:o.includeFilters?"yes":"no",mergeHeaders:o.mergeHeaders?"yes":"no"}}}}throw new yr.S2("Cannot convert scheduled email attachment - only dashboard and widget attachments are supported!")},Ya=t=>{const{title:e,description:r,uri:n,identifier:i,body:o,subject:a,to:s,when:u,bcc:c,lastSuccessful:l,unsubscribed:f,attachments:d,unlisted:p}=t;return{scheduledMail:{content:{attachments:d.map(Va),body:o,subject:a,to:s,when:{startDate:u.startDate,endDate:u.endDate,timeZone:u.timeZone,recurrency:u.recurrence},bcc:c,lastSuccessfull:l,unsubscribed:f},meta:Object.assign(Object.assign({unlisted:p?1:0},n?{uri:n,identifier:i}:{}),{title:e,summary:r})}}};function Qa(t){return!o()(t)&&!!t.kpi}function Ja(t){return!(0,Sa.jG)(t)||void 0!==t.dateFilter.from||void 0!==t.dateFilter.to}const Ka=t=>{if(er(t)){const{attributeFilter:{attributeElements:e,displayForm:r,negativeSelection:n,localIdentifier:i,title:o,filterElementsBy:a=[],selectionMode:s}}=t,u=a.map((t=>({filterLocalIdentifier:t.filterLocalIdentifier,over:{attributes:t.over.attributes.map(Ur.lR)}})));return{attributeFilter:Object.assign({attributeElements:{uris:e},displayForm:(0,Ur.lR)(r),negativeSelection:n,localIdentifier:i,filterElementsBy:u,title:o},void 0!==s?{selectionMode:s}:{})}}const{dateFilter:{granularity:e,type:r,attribute:n,dataSet:i,from:o,to:a}}=t,s={dateFilter:{granularity:e,type:r,from:"relative"===r?Number(o):o,to:"relative"===r?Number(a):a}};return n&&(s.dateFilter.attribute=(0,Ur.lR)(n)),i&&(s.dateFilter.dataSet=(0,Ur.lR)(i)),s},Xa=t=>{const{filterContext:{content:{filters:e},meta:{identifier:r,uri:n,summary:i,title:o}}}=t;return Object.assign(Object.assign({description:i},n?{identifier:r,uri:n,ref:(0,Ur.lR)(n)}:{}),{title:o,filters:e.map(Ka)})},Za=2,ts=12,es=t=>{const e={gridWidth:t.width};return t.height&&(e.gridHeight=t.height),t.heightAsRatio&&(e.heightAsRatio=t.heightAsRatio),e},rs=t=>["xl","md","lg","sm","xs"].reduce(((e,r)=>{const n=t[r];return n&&(e[r]=es(n)),e}),{}),ns=(t,e)=>{const{fluidLayout:{rows:r},fluidLayout:n}=t,i={type:"IDashboardLayout",sections:r.map((t=>((t,e)=>{const r={type:"IDashboardLayoutSection",items:t.columns.map((t=>((t,e)=>{const{content:r}=t;if(n=r,!o()(n)&&n.widget){const n=e.find((t=>{const{qualifier:e}=r.widget;return Fi(e)?(0,Mr.T8)((0,Ur.lR)(e.uri),t.ref):(0,Mr.T8)((0,Ur.Ii)(e.identifier),t.ref)}));return{type:"IDashboardLayoutItem",size:rs(t.size),widget:n}}return function(t){return!o()(t)&&!!t.fluidLayout}(r)?{type:"IDashboardLayoutItem",widget:ns(r,e),size:rs(t.size)}:{type:"IDashboardLayoutItem",size:rs(t.size)};var n})(t,e)))};return t.header&&(r.header=t.header),r})(t,e)))};return n.size&&(i.size=es(n.size)),i};function is(t,e,r){if(t.length<1)return;const n=function(t,e,r){return[{type:"IDashboardLayoutSection",items:os(t,e,r)}]}(t,e,r);return{type:"IDashboardLayout",sections:n}}function os(t,e,r){return t.map((t=>function(t,e,r){return{type:"IDashboardLayoutItem",widget:t,size:{xl:{gridWidth:as(t,e,r)}}}}(t,e,r)))}function as(t,e,r){if("kpi"===t.type)return Za;const n=t.insight.uri,i=e.find((t=>a(t)&&t.visualizationObject.meta.uri===n)).visualizationObject.content.visualizationClass.uri;return"headline"===r.find((t=>t.visualizationClass.meta.uri===i)).visualizationClass.content.url.split(":")[1]?Za:ts}const ss=t=>{const{drillTo:{projectDashboard:e,projectDashboardTab:r}={},metric:n}=t.kpi.content;return{type:"drillToLegacyDashboard",origin:{type:"drillFromMeasure",measure:(0,Ur.lR)(n)},target:(0,Ur.lR)(e),tab:r,transition:"in-place"}},us=t=>{if(e=t,!bt()(e)&&e.drillFromMeasure)return{type:"drillFromMeasure",measure:t.drillFromMeasure};if(function(t){return!bt()(t)&&!!t.drillFromAttribute}(t))return{type:"drillFromAttribute",attribute:t.drillFromAttribute};throw new yr.S2("Unable to convert unknown drill origin!");var e},cs=t=>{if(e=t,!bt()(e)&&e.drillToDashboard){const{drillToDashboard:{toDashboard:e,target:r,from:n}}=t;return{type:"drillToDashboard",origin:us(n),target:void 0!==e?(0,Ur.Ii)(e):void 0,transition:r}}if(function(t){return!bt()(t)&&!!t.drillToVisualization}(t)){const{drillToVisualization:{toVisualization:e,target:r,from:n}}=t;return{type:"drillToInsight",origin:us(n),target:(0,Ur.lR)(e.uri),transition:r}}if(function(t){return!bt()(t)&&!!t.drillToCustomUrl}(t)){const{drillToCustomUrl:{target:e,customUrl:r,from:n}}=t;return{type:"drillToCustomUrl",origin:us(n),target:{url:r},transition:e}}if(function(t){return!bt()(t)&&!!t.drillToAttributeUrl}(t)){const{drillToAttributeUrl:{drillToAttributeDisplayForm:e,insightAttributeDisplayForm:r,target:n,from:i}}=t;return{type:"drillToAttributeUrl",origin:us(i),target:{displayForm:(0,Ur.lR)(r.uri),hyperlinkDisplayForm:(0,Ur.lR)(e.uri)},transition:n}}var e;throw new yr.S2("Unable to convert unknown drill!")},ls=t=>{return e=t,!o()(e)&&e.dateFilterReference?{type:"dateFilterReference",dataSet:(0,Ur.lR)(t.dateFilterReference.dataSet)}:{type:"attributeFilterReference",displayForm:(0,Ur.lR)(t.attributeFilterReference.displayForm)};var e},fs=t=>{const{visualizationWidget:{content:{visualization:e,ignoreDashboardFilters:r,dateDataSet:n,drills:i,references:o,properties:a,configuration:s},meta:{identifier:u,uri:c,title:l,summary:f}}}=t,{properties:d}=Ai({properties:Ri(a),references:o||{}});return Object.assign({type:"insight",ref:(0,Ur.lR)(c),identifier:u,uri:c,title:l,description:f,insight:(0,Ur.lR)(e),dateDataSet:n?(0,Ur.lR)(n):void 0,ignoreDashboardFilters:r?r.map(ls):[],drills:i?i.map(cs):[],properties:d},s?{configuration:s}:{})},ds=t=>{const{kpi:{content:e,content:{dateDataSet:r,ignoreDashboardFilters:n,drillTo:i,configuration:a},meta:{identifier:s,uri:u,title:c,summary:l}}}=t;return Object.assign(Object.assign({type:"kpi",ref:(0,Ur.lR)(u),identifier:s,uri:u,title:c,description:l,dateDataSet:r?(0,Ur.lR)(r):void 0,ignoreDashboardFilters:n?n.map(ls):[],drills:i?[ss(t)]:[]},a?{configuration:a}:{}),{kpi:(f=e,o()(f)||"none"!==f.comparisonType?{comparisonType:e.comparisonType,comparisonDirection:e.comparisonDirection,metric:(0,Ur.lR)(e.metric)}:{comparisonType:e.comparisonType,metric:(0,Ur.lR)(e.metric)})});var f},ps=t=>{const{absolutePresets:e=[],relativePresets:r=[]}=t;return{absolutePresets:e.map((t=>Object.assign(Object.assign({},t),{type:"absolutePreset"}))),relativePresets:r.map((t=>Object.assign(Object.assign({},t),{type:"relativePreset"})))}},hs=t=>{const{filterName:e,mode:r,addPresets:n,hideGranularities:i,hideOptions:o}=t;return{filterName:e,mode:r,addPresets:n&&ps(n),hideGranularities:i,hideOptions:o}},ys=t=>{const{type:e,parameters:r}=t;return{type:"IDashboardPluginLink",plugin:(0,Ur.lR)(e),parameters:r}},ms=(t,e)=>t&&!e?"private":t&&e?"shared":"public",gs=(t,e,r=[],n,i)=>{var o;const{meta:{summary:s,created:u,author:c,updated:l,contributor:f,identifier:d,uri:p,title:h,locked:y,tags:m,unlisted:g,sharedWithSomeone:b,flags:v},content:{layout:w,filterContext:O,dateFilterConfig:j,widgets:x,plugins:P}}=t.analyticalDashboard,_=e.filter((t=>!a(t))).map(bs),S=_.filter(_a.Qd),D=to()(S,"uri"),k=x.map((t=>D[t])),A=_.find((t=>n?t.uri===n:t.uri===O)),C=(null==v?void 0:v.some((t=>"strictAccessControl"===t)))?{isUnderStrictControl:!0}:{};return Object.assign(Object.assign({type:"IDashboard",title:h,description:s,identifier:d,uri:p,ref:(0,Ur.lR)(p),created:u,createdBy:c?null==i?void 0:i.get(c):void 0,updated:l,updatedBy:f?null==i?void 0:i.get(f):void 0,isLocked:!!y,shareStatus:ms(!!g,!!b)},C),{dateFilterConfig:j&&hs(j),filterContext:n&&A?(T=A,Object.assign(Object.assign({},T),{filters:T.filters.filter(Ja)})):A,layout:w?ns(w,k):is(k,e,r),plugins:null==P?void 0:P.map(ys),tags:null!==(o=null==m?void 0:m.split(" ").filter((t=>t)))&&void 0!==o?o:[]});var T},bs=t=>{if(e=t,!bt()(e)&&wt()(e,"visualizationWidget"))return fs(t);if(Qa(t))return ds(t);if(function(t){return!o()(t)&&t.hasOwnProperty("filterContext")}(t))return Xa(t);if(function(t){return!o()(t)&&t.hasOwnProperty("tempFilterContext")}(t))return(t=>{const{tempFilterContext:{created:e,filters:r,uri:n}}=t;return{uri:n,ref:(0,Ur.lR)(n),filters:r.map(Ka),created:e}})(t);var e;throw new Error("No converter for the dashboard dependency!")},vs=t=>{if(e=t,!o()(e)&&e.kpiDashboardAttachment){const{kpiDashboardAttachment:{format:e,uri:r,filterContext:n}}=t;return{dashboard:(0,Ur.lR)(r),format:e,filterContext:n?(0,Ur.lR)(n):void 0}}if(function(t){return!o()(t)&&!!t.visualizationWidgetAttachment}(t)){const{visualizationWidgetAttachment:{uri:e,dashboardUri:r,formats:n,filterContext:i,exportOptions:o}}=t,a=o?{exportOptions:{includeFilters:"yes"===o.includeFilterContext,mergeHeaders:"yes"===o.mergeHeaders}}:{};return Object.assign({widgetDashboard:(0,Ur.lR)(r),widget:(0,Ur.lR)(e),formats:n,filterContext:i?(0,Ur.lR)(i):void 0},a)}var e},ws=(t,e)=>{const{scheduledMail:{content:{attachments:r,body:n,subject:i,to:o,when:a,bcc:s,lastSuccessfull:u,unsubscribed:c},meta:{uri:l,identifier:f,title:d,summary:p,unlisted:h,author:y,contributor:m}}}=t,g=It()(r.map(vs));return Object.assign(Object.assign({title:d,description:p},l?{ref:(0,Ur.lR)(l),identifier:f,uri:l}:{}),{body:n,subject:i,to:o,when:{startDate:a.startDate,endDate:a.endDate,timeZone:a.timeZone,recurrence:a.recurrency},bcc:s,lastSuccessful:u,unsubscribed:c,attachments:g,unlisted:!!h,createdBy:y?null==e?void 0:e.get(y):void 0,updatedBy:m?null==e?void 0:e.get(m):void 0})},Os=(t,e)=>{const{kpiAlert:{content:{dashboard:r,isTriggered:n,kpi:i,threshold:o,whenTriggered:a},meta:{uri:s,identifier:u,title:c,summary:l}}}=t;return Object.assign(Object.assign({title:c,description:l},s?{ref:(0,Ur.lR)(s),identifier:u,uri:s}:{}),{dashboard:(0,Ur.lR)(r),widget:(0,Ur.lR)(i),threshold:o,whenTriggered:a,isTriggered:n,filterContext:e&&Xa(e)})};function js(t,e){var r;const{dashboardPlugin:{content:{url:n},meta:{title:i,summary:o,uri:a,identifier:s,updated:u,created:c,tags:l,author:f,contributor:d}}}=t;return{type:"IDashboardPlugin",name:i,description:null!=o?o:"",uri:a,identifier:s,updated:u,created:c,createdBy:f?null==e?void 0:e.get(f):void 0,updatedBy:d?null==e?void 0:e.get(d):void 0,tags:null!==(r=null==l?void 0:l.split(" ").filter((t=>t)))&&void 0!==r?r:[],ref:(0,Ur.lR)(a),url:n}}var xs=r(7909),Ps=r.n(xs);const _s=t=>"measure"===t?"metric":t;class Ss{constructor(t,e,r,n){this.authCall=t,this.workspace=e,this.widget=r,this.requestedTypes=n,this.run=async()=>{if(o()(this.typesForXref))return{};const t=await this.findReferencedObjects(),e=await this.loadObjects(t);return this.createResult(e)},this.findReferencedObjects=async()=>{const t=this.typesForXref.map(_s),{entries:e}=await this.authCall((e=>e.xhr.getParsed(`/gdc/md/${this.workspace}/using2/${this.objectId}?types=${t.join(",")}`)));return e},this.loadObjects=async t=>{const e=this.typesForLoad.map(_s),r=t.filter((t=>e.includes(t.category))).map((t=>t.link));return this.authCall((t=>t.md.getObjects(this.workspace,r)))};const i=(0,_a.np)(this.widget);this.objectId=Rn(i),this.typesForXref=this.requestedTypes,this.typesForLoad=this.requestedTypes}createResult(t){const e=t.map(Vn),r=e.map(fi),n=to()(e,(t=>t.meta.uri)),i=[];return r.forEach((t=>{const e=n[t.uri];"measure"===t.type&&i.push(wo({metric:e}))})),{catalogItems:i}}}var Ds=r(99449),ks=r.n(Ds);async function As(t,e,r){if(!e||!t.length||t.every(kr.wh))return[];const[n,...i]=await r([e,...t.map((t=>(0,kr.zH)(t)))]),o=ks()(t,i).filter((([,t])=>n===t)).map((([t])=>t)),a=Pn()(o);return!a||(0,kr.wh)(a)?[]:[a]}async function Cs(t,e,r){if(!e.length)return t;if(!t.length)return[];const n=await r([...e.map(Sa.mu),...t.map((t=>(0,kr.zH)(t)))]),i=e.length,o=n.slice(0,i),a=n.slice(i);return ks()(t,a).filter((([,t])=>!o.includes(t))).map((([t])=>t))}function Ts(t){return(0,Sa.j)(t)?t.attributeFilter.displayForm:t.dateFilter.dataSet}var Es=r(16206),Is=r.n(Es);const Rs=["kpi","visualizationWidget","filterContext"];class Fs{constructor(t,e){this.authCall=t,this.workspace=e,this.getDashboards=async(t={})=>{const e=await this.authCall((t=>t.md.getAnalyticalDashboards(this.workspace))),r=await this.getAccessibleDashboards(e,!!t.includeAvailableViaLink),n=t.loadUserData?await Nn(new Map,It()(Xi()(r,(t=>[t.author,t.contributor]))),this.authCall):new Map;return r.map((t=>((t,e,r)=>{var n,i,o;const a=(null===(n=t.flags)||void 0===n?void 0:n.some((t=>"strictAccessControl"===t)))?{isUnderStrictControl:!0}:{};return Object.assign({ref:(0,Ur.lR)(t.link),identifier:t.identifier,uri:t.link,title:t.title,description:t.summary,updated:t.updated,updatedBy:t.contributor?null==r?void 0:r.get(t.contributor):void 0,created:t.created,createdBy:t.author?null==r?void 0:r.get(t.author):void 0,tags:null!==(o=null===(i=t.tags)||void 0===i?void 0:i.split(" ").filter(Boolean))&&void 0!==o?o:[],isLocked:!!t.locked,shareStatus:ms(!!t.unlisted,!!t.sharedWithSomeone),availability:e},a)})(t,this.isExplicitlyShared(t,e)?"full":"viaLink",n)))},this.getDashboard=async(t,e,r={})=>{const n=await Fn(t,this.workspace,this.authCall),i=e?await Fn(e,this.workspace,this.authCall):void 0,o=await this.getBearDashboard(n),a=[...Rs],s=[];o.analyticalDashboard.content.layout||(a.push("visualizationObject"),s.push(...await this.getBearVisualizationClasses()));const[u,c]=await Promise.all([this.getBearDashboardDependencies(n,a),this.getBearExportFilterContext(e)]);c&&(o.analyticalDashboard.content.filterContext=i,u.push(c));const l=r.loadUserData?await Nn(new Map,(f=o,Sn()(It()([f.analyticalDashboard.meta.author,f.analyticalDashboard.meta.contributor]))),this.authCall):new Map;var f;return gs(o,u,s,i,l)},this.createDashboard=async t=>this.updateDashboard({type:"IDashboard",description:"",filterContext:void 0,title:"",shareStatus:"private",isUnderStrictControl:!1},t),this.updateDashboard=async(t,e)=>{if(!(0,Mr.T8)(t.ref,e.ref))throw new Error("Cannot update dashboard with different refs!");if(Tr()(t,e))return t;const r=e.plugins?await this.ensureDashboardPluginLinksHaveUris(e.plugins):void 0,n=Object.assign(Object.assign({},e),{plugins:r}),[i,o]=await Promise.all([this.updateFilterContext(t.filterContext,n.filterContext),this.updateLayoutAndWidgets(t.layout,n.layout)]);if(!t.ref&&!n.ref){const t=Object.assign(Object.assign({},n),{filterContext:i,layout:o});return this.createBearDashboard(t)}const{created:a,updated:s,ref:u,uri:c,identifier:l}=t,f=Object.assign(Object.assign({},n),{created:a,updated:s,ref:u,uri:c,identifier:l,filterContext:i,layout:o}),d=this.collectDeletedWidgets(t.layout,n.layout),p=dt()(await Promise.all(d.map((t=>this.getBearWidgetAlertsForWidget(t)))));return p.length&&await this.deleteWidgetAlerts(p),await this.updateBearDashboard(f),await this.deleteBearWidgets(d),f},this.deleteDashboard=async t=>{await this.deleteBearMetadataObject(t)},this.exportDashboardToPdf=async(t,e)=>{const r=await Fn(t,this.workspace,this.authCall),n=null==e?void 0:e.map(Ua);return this.authCall((t=>t.dashboard.exportToPdf(this.workspace,r,n).then((t=>t))))},this.createScheduledMail=async(t,e)=>{const r=e&&await this.createBearFilterContext(e),n=r?Object.assign(Object.assign({},t),{attachments:t.attachments.map((t=>Object.assign(Object.assign({},t),{filterContext:r.ref})))}):t,i=Ya(n),o=await this.authCall((t=>t.md.createObject(this.workspace,i)));return ws(o)},this.updateScheduledMail=async(t,e,r)=>{const n=Object.assign(Object.assign({},e),{attachments:e.attachments.map((t=>Object.assign(Object.assign({},t),{filterContext:r})))}),i=Ya(n);await this.updateBearMetadataObject(t,i)},this.deleteScheduledMail=async t=>{await this.deleteBearMetadataObject(t)},this.getScheduledMailsForDashboard=async(t,e={})=>{const{createdByCurrentUser:r}=e,n=r?await this.getScheduledMailObjectLinksForDashboardAndCurrentUser(t):await this.getScheduledMailObjectLinksForDashboard(t);let i=new Map;return e.loadUserData&&(i=await Nn(i,It()(Xi()(n,(t=>[t.author,t.contributor]))),this.authCall),0===i.values.length&&await this.authCall((async t=>{var e,r;const n=await t.user.getCurrentProfile(),o=kn(n);(null===(e=n.links)||void 0===e?void 0:e.self)&&i.set(null===(r=n.links)||void 0===r?void 0:r.self,o)}))),(await this.authCall((async t=>t.md.getObjects(this.workspace,n.map((({link:t})=>t)))))).map((t=>ws(t,i)))},this.getScheduledMailsCountForDashboard=async t=>(await this.getScheduledMailObjectLinksForDashboard(t)).length,this.getAllWidgetAlertsForCurrentUser=async()=>{const t=await this.getAllBearKpiAlertsForCurrentUser();return this.getConvertedAlerts(t)},this.getDashboardWidgetAlertsForCurrentUser=async t=>{const e=await this.getDashboardBearKpiAlertsForCurrentUser(t);return this.getConvertedAlerts(e)},this.getWidgetAlertsCountForWidgets=async t=>{const e=await Promise.all(t.map((t=>Fn(t,this.workspace,this.authCall))));return(await this.authCall((t=>t.md.getObjectsUsedByMany(this.workspace,e,{types:["kpiAlert"],nearest:!0})))).map((t=>({ref:(0,Ur.lR)(t.uri),alertCount:t.entries.length})))},this.createWidgetAlert=async t=>{const[e,r]=await Promise.all([this.createOrUpdateWidgetAlertFilterContext(t),Fn(t.dashboard,this.workspace,this.authCall)]),n=Object.assign(Object.assign({},t),{dashboard:(0,Ur.lR)(r),filterContext:e});return this.createBearWidgetAlert(n)},this.updateWidgetAlert=async t=>{const e=await this.createOrUpdateWidgetAlertFilterContext(t),r=Object.assign(Object.assign({},t),{filterContext:e});return this.updateBearWidgetAlert(r)},this.deleteWidgetAlert=async t=>{await this.deleteBearMetadataObject(t)},this.deleteWidgetAlerts=async t=>{const e=await Promise.all(t.map((t=>Fn(t,this.workspace,this.authCall))));return this.authCall((t=>t.md.bulkDeleteObjects(this.workspace,e,"cascade")))},this.getWidgetReferencedObjects=async(t,e=["measure"])=>((0,W.kG)("kpi"===(0,_a.oS)(t),"getWidgetReferencedObjects is currently supported for kpi widgets only"),new Ss(this.authCall,this.workspace,t,e).run()),this.getResolvedFiltersForWidget=async(t,e)=>async function(t,e,r,n){const i=t.filter(kr.gE),o=t.filter(kr.ZU);if(!i.length&&!o.length)return t;const[a,s]=await Promise.all([As(i,r,n),Cs(o,e,n)]),u=[...a,...s];return t.filter((t=>{return e=t,!((0,kr.gE)(e)||(0,kr.ZU)(e))||u.includes(t);var e}))}(e,t.ignoreDashboardFilters,t.dateDataSet,(t=>Mn(t,this.workspace,this.authCall))),this.createBearWidgetAlert=async t=>{const e=Object.assign(Object.assign({},t),{title:t.title||"kpi alert"}),r=qa(e),n=await this.authCall((t=>t.md.createObject(this.workspace,r))),i=Ba(e.filterContext);return Os(n,i)},this.updateBearWidgetAlert=async t=>{const e=qa(t);return await this.updateBearMetadataObject(t.ref,e),t},this.createOrUpdateWidgetAlertFilterContext=async t=>{const{filterContext:e}=t,r={title:`Filter context for ${(0,Mr.Rs)(t.widget)}`,description:"",filters:[]};return(0,Sa.kx)(e)?this.updateBearFilterContext(e):this.createBearFilterContext(e||r)},this.getBearWidgetAlertsForWidget=async t=>(await this.authCall((e=>e.md.getObjectUsedBy(this.workspace,t.uri,{types:["kpiAlert"],nearest:!0})))).map((t=>(0,Ur.lR)(t.link))),this.getBearDashboard=async t=>this.authCall((e=>e.md.getObjectDetails(t))),this.createBearDashboard=async t=>{const e=Ha(t),r=await this.authCall((t=>t.md.createObject(this.workspace,e))),n=await this.getBearDashboardDependencies(r.analyticalDashboard.meta.uri,Rs);return gs(r,n)},this.updateBearDashboard=async t=>{const e=Ha(t);return await this.updateBearMetadataObject(t.ref,e),t},this.getAccessibleDashboards=async(t,e)=>e?(await this.authCall((t=>t.md.getAnalyticalDashboards(this.workspace,!0)))).filter((e=>{var r;return this.isExplicitlyShared(e,t)||!(null===(r=null==e?void 0:e.flags)||void 0===r?void 0:r.includes("strictAccessControl"))})):t,this.updateLayoutAndWidgets=async(t,e)=>{if(!e)return;const r=this.collectCreatedWidgetsWithLayoutPaths(e),n=this.collectUpdatedWidgetsWithLayoutPaths(t,e);return(await Promise.all([...r.map((t=>this.createBearWidget(t.widget).then((e=>Object.assign(Object.assign({},t),{widget:e}))))),...n.map((t=>this.updateBearWidget(t.widget).then((e=>Object.assign(Object.assign({},t),{widget:e})))))])).reduce(((t,e)=>w()(t,e.path,e.widget)),Ps()(e))},this.updateFilterContext=async(t,e)=>{if((0,Sa.br)(t))throw new yr.S2("Cannot update temp filter context!");return(0,Sa.Fk)(e)?this.createBearFilterContext(e):(0,Sa.kx)(e)&&!Tr()(t,e)?this.updateBearFilterContext(e):t},this.getBearExportFilterContext=async t=>{if(!t)return;const e=await Fn(t,this.workspace,this.authCall);return this.authCall((async t=>{var r;let n;try{n=await t.md.getObjectDetails(e)}catch(t){throw 404===(null===(r=null==t?void 0:t.response)||void 0===r?void 0:r.status)&&(n=void 0),t}return n}))},this.createBearFilterContext=async t=>{const e=Ba(await this.sanitizeFilterContext(t)),r=await this.authCall((t=>t.md.createObject(this.workspace,e)));return Xa(r)},this.updateBearFilterContext=async t=>{const e=Ba(await this.sanitizeFilterContext(t));return await this.updateBearMetadataObject(t.ref,e),t},this.sanitizeFilterContext=t=>async function(t,e){const{filters:r}=t;if(!r.length)return t;const n=It()(Xi()(r,(t=>{var e;return[Ts(t),...(0,Sa.j)(t)?Xi()(null!==(e=t.attributeFilter.filterElementsBy)&&void 0!==e?e:[],(t=>t.over.attributes)):[]]}))),i=await e(n),o=ks()(n,i),a=r.map((t=>{var e;const r=Ts(t);if(!r)return t;const n=o.find((([t])=>t===r));(0,W.kG)(n);const i=(0,Ur.lR)(n[1]);if((0,Sa.j)(t)){const r=null===(e=t.attributeFilter.filterElementsBy)||void 0===e?void 0:e.map((t=>Object.assign(Object.assign({},t),{over:Object.assign(Object.assign({},t.over),{attributes:t.over.attributes.map((t=>{const e=o.find((([e])=>e===t));return(0,W.kG)(e),(0,Ur.lR)(e[1])}))})})));return{attributeFilter:Object.assign(Object.assign({},t.attributeFilter),{displayForm:i,filterElementsBy:r})}}return{dateFilter:Object.assign(Object.assign({},t.dateFilter),{dataSet:i})}}));return Object.assign(Object.assign({},t),{filters:a})}(t,(t=>Mn(t,this.workspace,this.authCall))),this.createBearWidget=async t=>{const e=Wa(t);return(t=>Qa(t)?ds(t):fs(t))(await this.authCall((t=>t.md.createObject(this.workspace,e))))},this.updateBearWidget=async t=>{const e=Wa(t);return await this.updateBearMetadataObject(t.ref,e),t},this.deleteBearWidgets=async t=>{await Promise.all(t.map((t=>this.deleteBearMetadataObject(t.ref))))},this.collectCreatedWidgetsWithLayoutPaths=t=>(t?(0,Pa.Vy)(t):[]).filter((t=>(0,_a.eu)(t.widget))),this.collectUpdatedWidgetsWithLayoutPaths=(t,e)=>{const r=t?(0,Pa.Vy)(t):[];return(e?(0,Pa.Vy)(e):[]).filter((({widget:t})=>(0,_a.Qd)(t)&&r.some((e=>(0,_a.Qd)(e.widget)&&(0,Mr.T8)(t.ref,e.widget.ref)&&!Tr()(t,e.widget)))))},this.collectDeletedWidgets=(t,e)=>{const r=t?(0,Pa.ln)(t):[],n=e?(0,Pa.ln)(e):[];return r.filter((t=>(0,_a.Qd)(t)&&n.every((e=>(0,_a.Qd)(e)&&!(0,Mr.T8)(t.ref,e.ref)))))},this.getAllBearKpiAlertsForCurrentUser=async()=>this.authCall((async(t,e)=>{const r=await Tn(e.getPrincipal);return r?t.md.getObjectsByQuery(this.workspace,{category:"kpiAlert",author:r}):[]})),this.getDashboardBearKpiAlertsForCurrentUser=async t=>{const e=await this.getAllBearKpiAlertsForCurrentUser();if(0===e.length)return[];const r=await Fn(t,this.workspace,this.authCall);return e.filter((t=>t.kpiAlert.content.dashboard===r))},this.getConvertedAlerts=async t=>{const e=await this.getBearKpiAlertsFilterContexts(t),r=to()(e,(t=>t.filterContext.meta.uri));return t.map((t=>{const e=r[t.kpiAlert.content.filterContext];return Os(t,e)}))},this.getBearKpiAlertsFilterContexts=async t=>{const e=t.map((t=>t.kpiAlert.content.filterContext)).filter((t=>!!t));return this.authCall((t=>t.md.getObjects(this.workspace,e)))},this.getScheduledMailObjectLinksForDashboard=async t=>{const e=await Fn(t,this.workspace,this.authCall);return this.authCall((t=>t.md.getObjectUsedBy(this.workspace,e,{nearest:!0,types:["scheduledMail"]})))},this.getScheduledMailObjectLinksForDashboardAndCurrentUser=async t=>this.authCall((async(e,r)=>{const n=await Tn(r.getPrincipal);return n?(await this.getScheduledMailObjectLinksForDashboard(t)).filter((({author:t})=>t===n)):[]})),this.updateBearMetadataObject=async(t,e)=>{const r=await Fn(t,this.workspace,this.authCall),n=Rn(r);await this.authCall((t=>t.md.updateObject(this.workspace,n,e)))},this.deleteBearMetadataObject=async t=>{const e=await Fn(t,this.workspace,this.authCall);return this.authCall((t=>t.md.deleteObject(e)))},this.getBearVisualizationClasses=async()=>this.authCall((t=>t.md.getObjectsByQuery(this.workspace,{category:"visualizationClass"}))),this.getBearDashboardDependencies=async(t,e)=>{const r=(await this.authCall((r=>r.md.getObjectUsing(this.workspace,t,{types:e,nearest:!1})))).map((t=>t.link));return this.authCall((t=>t.md.getObjects(this.workspace,r)))},this.getBearDashboardReferences=async(t,e)=>{const r=It()(e.map(Ms));return o()(r)?{dependencies:[],visClassMapping:{}}:vr()(e,"insight")?Promise.all([this.getBearDashboardDependencies(t,r),this.insights.getVisualizationClassesByVisualizationClassUri({includeDeprecated:!0})]).then((([t,e])=>({dependencies:t,visClassMapping:e}))):this.getBearDashboardDependencies(t,r).then((t=>({dependencies:t,visClassMapping:{}})))},this.getDashboardReferencedObjects=async(t,e=["insight","dashboardPlugin"])=>{const r=[...e];if(o()(t.plugins)&&Is()(r,(t=>"dashboardPlugin"===t)),o()(r))return{plugins:[],insights:[]};const{dependencies:n,visClassMapping:i}=await this.getBearDashboardReferences(t.uri,r),s=[],u=[];return n.forEach((t=>{var e;a(t)?s.push($i(t,i[t.visualizationObject.content.visualizationClass.uri])):(e=t,o()(e)||void 0===e.dashboardPlugin||u.push(js(t)))})),{insights:s,plugins:u}},this.createDashboardPlugin=async t=>{const e=(t=>{const{uri:e,identifier:r,name:n,tags:i,description:o,url:a}=t;return{dashboardPlugin:{content:{url:a},meta:Object.assign(Object.assign({},e?{uri:e,identifier:r}:{}),{title:n,summary:o,tags:null==i?void 0:i.join(" ")})}}})(t),r=await this.authCall((t=>t.md.createObject(this.workspace,e)));if(void 0!==t.identifier){const e=Rn(r.dashboardPlugin.meta.uri);r.dashboardPlugin.meta.identifier=t.identifier,await this.authCall((t=>t.md.updateObject(this.workspace,e,r)))}return js(r)},this.deleteDashboardPlugin=async t=>{const e=await Fn(t,this.workspace,this.authCall);return this.authCall((t=>t.md.deleteObject(e)))},this.getDashboardPlugin=async(t,e)=>{const r=await Fn(t,this.workspace,this.authCall),n=await this.authCall((t=>t.md.getObjectDetails(r)));return js(n,(null==e?void 0:e.loadUserData)?await Nn(new Map,wa(n),this.authCall):new Map)},this.getDashboardPlugins=async t=>{const e=(await this.authCall((t=>t.md.getDashboardPlugins(this.workspace)))).map((t=>t.link)),r=await this.authCall((t=>t.md.getObjects(this.workspace,e))),n=(null==t?void 0:t.loadUserData)?await Nn(new Map,It()(Xi()(r,wa)),this.authCall):new Map;return r.map((t=>js(t,n)))},this.getDashboardPermissions=async t=>{try{const e=await Fn(t,this.workspace,this.authCall);await this.authCall((t=>t.md.getObjectDetails(e)));const r=await this.authCall((()=>this.permissions.getPermissionsForCurrentUser())),n=r.canManageAnalyticalDashboard,i=r.canManageACL,o=n&&r.canManageProject;return{canEditDashboard:n,canEditLockedDashboard:o,canShareDashboard:i,canShareLockedDashboard:o,canViewDashboard:!0}}catch(t){return{canEditDashboard:!1,canEditLockedDashboard:!1,canShareDashboard:!1,canShareLockedDashboard:!1,canViewDashboard:!1}}},this.ensureDashboardPluginLinksHaveUris=async t=>{const e=await Mn(t.map((t=>t.plugin)),this.workspace,this.authCall,!0);return t.map(((t,r)=>Object.assign(Object.assign({},t),{plugin:(0,Ur.lR)(e[r])})))},this.validateDashboardsExistence=async t=>{const e=await Promise.all(t.map((async t=>{try{const{title:e,identifier:r,isUnderStrictControl:n,uri:i}=await this.getDashboard(t);return{ref:t,title:n?void 0:e,identifier:r,uri:i}}catch(e){return 403===e.httpStatus?{ref:t,identifier:(0,Mr.Rs)(t),uri:""}:void 0}})));return It()(e)},this.insights=new Oa(this.authCall,this.workspace),this.permissions=new Yo(this.authCall,this.workspace)}isExplicitlyShared(t,e){return e.some((({link:e})=>e===t.link))}async getDashboardWithReferences(t,e,r={},n=["insight"]){const i=await this.getDashboard(t,e,r);return{dashboard:i,references:await this.getDashboardReferencedObjects(i,n)}}}function Ms(t){return{insight:"visualizationObject",dashboardPlugin:"dashboardPlugin"}[t]}class Us{constructor(t,e){this.authCall=t,this.workspace=e,this.options={}}withOptions(t){return this.options=t,this}async queryAll(){return(await this.query()).all()}async queryWorker(t){var e;const{search:r}=t;return ba.r.for((async({limit:t,offset:e})=>{const n=await this.authCall((n=>n.project.getUserListWithPaging(this.workspace,{prefixSearch:r,userState:"ACTIVE",offset:e,limit:t}))),{items:i,paging:{totalCount:o}}=n.userList;return{items:i.map(An),totalCount:o}}),null!==(e=this.options.limit)&&void 0!==e?e:1e3,this.options.offset)}async query(){return this.queryWorker(this.options)}}const Bs=t=>Object.assign({type:"allTime"},t),Ns=t=>Object.assign({type:"absoluteForm"},t),Ls=t=>{const{granularities:e}=t,r=(0,h._T)(t,["granularities"]);return Object.assign({type:"relativeForm",availableGranularities:e},r)},Ws=t=>Object.assign({type:"absolutePreset"},t),zs=t=>Object.assign({type:"relativePreset"},t),Gs=t=>{const{dateFilterConfig:{content:{selectedOption:e,allTime:r,absoluteForm:n,relativeForm:i,absolutePresets:o,relativePresets:a},meta:s}}=t;return{ref:(0,Ur.lR)(s.uri),selectedOption:e,allTime:r&&Bs(r),absoluteForm:n&&Ns(n),relativeForm:i&&Ls(i),absolutePresets:null==o?void 0:o.map(Ws),relativePresets:null==a?void 0:a.map(zs)}};class $s{constructor(t,e){this.authCall=t,this.workspace=e}withLimit(t){return(0,W.kG)(t>0,`limit must be a positive number, got: ${t}`),this.limit=t,this}withOffset(t){return this.offset=t,this}async query(){return this.queryWorker()}async queryWorker(){return ba.r.for((async({limit:t,offset:e})=>{const r=await this.authCall((r=>r.md.getObjectsByQueryWithPaging(this.workspace,{offset:e,limit:t,category:"dateFilterConfig",getTotalCount:!0}))),{items:n,paging:{totalCount:i}}=r;return{items:n.map(Gs),totalCount:i}}),this.limit,this.offset)}}var Hs=r(99296),qs=r(45763),Vs=r.n(qs),Ys=r(47704),Qs=r.n(Ys);class Js{constructor(t,e,r){this.authCall=t,this.displayFormRef=e,this.workspace=r,this.getAfm=async(t,e,r)=>{if(!(null==t?void 0:t.length)&&!(null==e?void 0:e.length)&&!(null==r?void 0:r.length))return;const n=(null==t?void 0:t.length)?[{expression:{value:await this.createFiltersExpressionFromAttributeFilters(t)}}]:void 0,i=(null==e?void 0:e.length)?e.map(Jr):void 0,o=n&&r&&[...n,...r];return{attributes:[{localIdentifier:"a1",displayForm:Br(this.displayFormRef)}],filters:o||n||r,measures:i}},this.createFiltersExpressionFromAttributeFilters=async t=>{const e=t.map((t=>(0,kr.zH)(t.attributeFilter))),r=Qs()([this.displayFormRef,...e],Mr.T8),[n,i]=await Promise.all([this.getIdentifierUriPairs(t),this.getDisplayFormAttributeUriMapping(r)]),o=t=>{const e=i.find((([e])=>(0,Mr.T8)(e,t)));return(0,W.kG)(e,`Attribute URI for the display form "${(0,Mr.Rs)(t)}" was not found`),e[1]},a=o(this.displayFormRef),s=Vs()(t,(t=>(t=>{if((0,Mr.hj)(t))return t.uri;{const e=n.find((e=>e.identifier===t.identifier));if(void 0===e)throw new Error(`URI for identifier ${t.identifier} have not been found`);return e.uri}})(t.overAttribute)));return Object.keys(s).map((t=>`((${s[t].map((t=>{const e=(0,kr.II)(t.attributeFilter),r=(0,kr.eh)(t.attributeFilter),n=(i=t.attributeFilter,o((0,kr.zH)(i)));var i;if(!(0,kr.OF)(r))throw new yr.tn("Only attribute elements by ref are supported in elements attribute filter on the bear backend");return`[${n}] ${e?"NOT IN":"IN"} (${r.uris.map((t=>`[${t}]`)).join(", ")})`})).join(" AND ")}) OVER [${t}] TO [${a}])`)).join(" AND ")},this.getIdentifierUriPairs=t=>{const e=this.getAllIdentifiersUsedInAttributeFilters(t);return this.authCall((t=>t.md.getUrisFromIdentifiers(this.workspace,e)))},this.getAllIdentifiersUsedInAttributeFilters=t=>Xi()(t,(t=>[t.overAttribute,(0,kr.zH)(t.attributeFilter)].filter(Mr.$y).map((t=>t.identifier)))),this.getDisplayFormAttributeUriMapping=async t=>{const e=await Mn(t,this.workspace,this.authCall);return this.authCall((async r=>{const n=await r.md.getObjects(this.workspace,e);return t.map((t=>{const e=n.find((e=>(0,Mr.$y)(t)?t.identifier===e.attributeDisplayForm.meta.identifier:t.uri===e.attributeDisplayForm.meta.uri));if(void 0===e)throw new Error("Cannot find attribute for display form");return[t,e.attributeDisplayForm.content.formOf]}))}))}}}class Ks{constructor(t,e){this.authCall=t,this.workspace=e}forDisplayForm(t){return new Xs(this.authCall,t,this.workspace)}forFilter(t,e){return new Zs(this.authCall,t,e,this.workspace)}}class Xs{constructor(t,e,r){this.authCall=t,this.displayFormRef=e,this.workspace=r,this.limit=50,this.offset=0}withLimit(t){return(0,W.kG)(t>0,`limit must be a positive number, got: ${t}`),this.limit=t,this}withOffset(t){return this.offset=t,this}withAttributeFilters(t){return this.attributeFilters=t,this}withDateFilters(t){return this.dateFilters=t,this}withMeasures(t){return this.measures=t.length>0?t:void 0,this}withOptions(t){return this.options=t,this}withSignal(t){return console.warn("Cancelling requests is not supported on bear backend."),this}async query(){var t;const e=new Js(this.authCall,this.displayFormRef,this.workspace);return this.limitingAfm=await e.getAfm(this.attributeFilters,this.measures,this.dateFilters),this.queryWorker(null!==(t=this.options)&&void 0!==t?t:{})}async getObjectId(){if(!this.objectId){const t=await Fn(this.displayFormRef,this.workspace,this.authCall);this.objectId=Rn(t)}return this.objectId}async queryWorker(t){const e=await this.getObjectId(),{elements:r}=t,n=(0,h._T)(t,["elements"]);(0,W.kG)(!(0,Hs.Gb)(r),"Specifying elements by value is not supported.");const i=null==r?void 0:r.uris;return(0,W.kG)(!i||i.every((t=>null!==t)),"Nulls are not supported as attribute element uris on bear"),ba.r.for((async({limit:t,offset:r})=>{const o=Object.assign(Object.assign(Object.assign({},n),{uris:i}),{limit:t,offset:r,afm:this.limitingAfm}),a=await this.authCall((t=>t.md.getValidElements(this.workspace,e,o))),{items:s,paging:u}=a.validElements,c=Number.parseInt(u.total,10);return{items:s.map((({element:t})=>t)),totalCount:c}}),this.limit,this.offset)}}class Zs{constructor(t,e,r,n){this.authCall=t,this.filter=e,this.workspace=n,this.limit=50,this.offset=0;let i=(0,kr.zH)(e);(0,kr.QJ)(e)&&((0,W.kG)(r,"Date filter's display form needs to be defined"),i=r),this.elementsQuery=new Xs(this.authCall,i,this.workspace)}withLimit(t){return(0,W.kG)(t>0,`limit must be a positive number, got: ${t}`),this.limit=t,this}withOffset(t){return this.offset=t,this}async query(){if((0,kr.ZU)(this.filter)){const t=(0,kr.eh)(this.filter);return(0,kr.OF)(t)?this.resultForElementsByRef(t):this.resultForElementsByValue(t)}return this.elementsQuery.withDateFilters([this.filter]).query()}async resultForElementsByRef(t){return t.uris.length?this.elementsQuery.withOptions({elements:{uris:t.uris}}).withOffset(this.offset).withLimit(this.limit).query():Promise.resolve(new ba.q([],this.limit,this.offset))}async resultForElementsByValue(t){const e=t.values.map((t=>({title:t,uri:t})));return Promise.resolve(new ba.q(e,this.limit,this.offset))}}class tu{constructor(t,e){this.authCall=t,this.workspace=e,this.elements=()=>new Ks(this.authCall,this.workspace),this.getAttributeDisplayForm=async t=>{const e=await Fn(t,this.workspace,this.authCall),r=(await this.authCall((t=>t.md.getObjectDetails(e)))).attributeDisplayForm;return this.buildAttributeDisplayForm(r)},this.getAttribute=async t=>{const e=await Fn(t,this.workspace,this.authCall),r=await this.authCall((t=>t.md.getObjectDetails(e)));return this.buildAttribute(r.attribute)},this.getAttributeDisplayForms=async t=>{const e=await Mn(t,this.workspace,this.authCall,!1);return(await this.authCall((t=>t.md.getObjects(this.workspace,e)))).map((t=>{if(e=t,bt()(e)||!wt()(e,"attributeDisplayForm"))throw new yr.S2("INVALID_REFERENCED_OBJECT",new Error("Referenced object is not attributeDisplayForm"));var e;const r=t.attributeDisplayForm;return this.buildAttributeDisplayForm(r)}))},this.getAttributes=async t=>{const e=await Mn(t,this.workspace,this.authCall,!1);return(await this.authCall((t=>t.md.getObjects(this.workspace,e)))).map((t=>{const{meta:{title:e,uri:r,isProduction:n,identifier:i,summary:o},content:{displayForms:a}}=t.attribute,s=(0,Ur.lR)(r),u=a.map((t=>this.buildAttributeDisplayForm(t)));return(0,ei.a)(s,(t=>t.title(e).uri(r).production(Boolean(n)).id(i).description(o).displayForms(u)))}))},this.buildAttributeDisplayForm=t=>{const{meta:{title:e,summary:r,identifier:n,uri:i},content:{formOf:o,default:a,type:s}}=t,u=(0,Ur.lR)(i),c=1===a;return(0,ti.H)(u,(t=>t.attribute((0,Ur.lR)(o)).title(e).description(r).isDefault(c).id(n).uri(i).displayFormType(s)))},this.buildAttribute=t=>{const{title:e,uri:r,isProduction:n,identifier:i,summary:o}=t.meta,{displayForms:a}=t.content,s=a.map((t=>this.buildAttributeDisplayForm(t))),u=(0,Ur.lR)(r);return(0,ei.a)(u,(t=>t.title(e).uri(r).production(Boolean(n)).id(i).description(o).displayForms(s)))}}async getCommonAttributes(t){const e=await Mn(t,this.workspace,this.authCall);return(await this.authCall((t=>t.ldm.getCommonAttributes(this.workspace,e)))).map(Ur.lR)}getCommonAttributesBatch(t){return Promise.all(t.map((async t=>this.getCommonAttributes(t))))}async getAttributeByDisplayForm(t){const e=await Fn(t,this.workspace,this.authCall),r=await this.authCall((t=>t.md.getObjectDetails(e))),n=await this.authCall((t=>t.md.getObjectDetails(r.attributeDisplayForm.content.formOf)));return this.buildAttribute(n.attribute)}async getAttributeDatasetMeta(t){const e=await Fn(t,this.workspace,this.authCall),r=Rn(e);return this.authCall((async t=>{const e=await t.xhr.getParsed(`/gdc/md/${this.workspace}/usedby2/${r}?types=dataSet`);return(0,W.kG)(e.entries.length>0,"Attribute must have a dataset associated to it."),di("dataSet",e.entries[0])}))}}class eu{constructor(t,e){this.authCall=t,this.workspace=e}async getFactDatasetMeta(t){const e=await Fn(t,this.workspace,this.authCall),r=Rn(e);return this.authCall((async t=>{const e=await t.xhr.getParsed(`/gdc/md/${this.workspace}/usedby2/${r}?types=dataSet`);return(0,W.kG)(e.entries.length>0,"Fact must have a dataset associated to it."),di("dataSet",e.entries[0])}))}}const ru=t=>{const{content:{name:e,description:r,id:n},links:i}=t;return{ref:(0,Ur.lR)(i.self),name:e,id:n,description:r}};class nu{constructor(t,e){this.authCall=t,this.workspace=e}async queryAllPages(t){const e=await this.authCall((e=>e.project.getUserGroups(this.workspace,{limit:t}))),{items:r,paging:n}=e.userGroups,i=async(t,e=[])=>{if(!t)return e;const r=await this.authCall((e=>e.xhr.getParsed(t))),{items:n,paging:o}=r.userGroups,a=[...e,...n];return t=o.next,i(o.next,a)};return i(n.next,r)}async query(t){const{offset:e=0,limit:r=100,search:n}=t;let i=await this.queryAllPages(r);if(n){const t=n.toLocaleLowerCase();i=i.filter((e=>{const{name:r}=e.userGroup.content;return(null==r?void 0:r.toLowerCase().indexOf(t))>-1}))}const o=i.map((t=>ru(t.userGroup)));return new ba.q(o,r,e)}}var iu=r(80912);const ou=t=>{return e=t.aclEntry.grantee,o()(e)||void 0===e.user?{type:"group",userGroup:ru(t.aclEntry.grantee.userGroup)}:{type:"user",user:Cn(t.aclEntry.grantee.user)};var e},au=t=>t.fullName?t.fullName:`${t.firstName} ${t.lastName}`,su=t=>{var e;return{type:"user",ref:t.ref,name:au(t),email:t.email,status:null!==(e=t.status)&&void 0!==e?e:"DISABLED"}},uu=t=>{var e;return{type:"group",ref:t.ref,name:null!==(e=t.name)&&void 0!==e?e:""}},cu=t=>{const{permissions:e,inheritedPermissions:r}=t,n=(0,h._T)(t,["permissions","inheritedPermissions"]),i=(0,iu.Jo)(t)?"user":"group";return Object.assign(Object.assign({},n),{type:i})};class lu{constructor(t,e){this.authCall=t,this.workspace=e,this.users=new Us(this.authCall,this.workspace),this.userGroups=new nu(this.authCall,this.workspace)}async getAccessList(t){const e=await Fn(t,this.workspace,this.authCall),r=await this.authCall((t=>t.project.getGranteesInfo(e,{}))),{grantees:{items:n}}=r;return n.map(ou)}async grantAccess(t,e){const r=await Fn(t,this.workspace,this.authCall),n=await Promise.all(e.map((t=>Fn(t.granteeRef,this.workspace,this.authCall))));return this.authCall((t=>t.project.addGrantees(r,n)))}async revokeAccess(t,e){const r=await Fn(t,this.workspace,this.authCall),n=await Promise.all(e.map((t=>Fn(t.granteeRef,this.workspace,this.authCall))));return this.authCall((t=>t.project.removeGrantees(r,n)))}async changeAccess(t,e){const r=e.filter((t=>t.permissions.length>0)).map(cu),n=e.filter((t=>0===t.permissions.length)).map(cu);r.length&&await this.grantAccess(t,r),n.length&&await this.revokeAccess(t,n)}async getAvailableGrantees(t,e){let r={},n={};e&&(r=Object.assign(Object.assign({},r),{search:`%${e}`}),n=Object.assign(Object.assign({},n),{search:`${e}`}));const i=this.users.withOptions(r).query(),o=this.userGroups.query(n),[a,s]=await Promise.all([i,o]);return[...a.items.map(su),...s.items.map(uu)]}}class fu{constructor(t,e,r){this.authCall=t,this.workspace=e,this.descriptor=r}async getDescriptor(){var t,e;if(!this.descriptor){const r=await this.authCall((async t=>t.project.getProject(this.workspace)));return{id:this.workspace,description:null!==(t=null==r?void 0:r.meta.summary)&&void 0!==t?t:"",title:null!==(e=null==r?void 0:r.meta.title)&&void 0!==e?e:""}}return this.descriptor}async getParentWorkspace(){}attributes(){return new tu(this.authCall,this.workspace)}execution(){return new Wn(this.authCall,this.workspace)}settings(){return new qo(this.authCall,this.workspace)}insights(){return new Oa(this.authCall,this.workspace)}dashboards(){return new Fs(this.authCall,this.workspace)}measures(){return new qi(this.authCall,this.workspace)}facts(){return new eu(this.authCall,this.workspace)}styling(){return new Yi(this.authCall,this.workspace)}catalog(){return new zo(this.authCall,this.workspace)}datasets(){return new xa(this.authCall,this.workspace)}permissions(){return new Yo(this.authCall,this.workspace)}users(){return new Us(this.authCall,this.workspace)}dateFilterConfigs(){return new $s(this.authCall,this.workspace)}userGroups(){return new nu(this.authCall,this.workspace)}accessControl(){return new lu(this.authCall,this.workspace)}}class du{constructor(t){this.authCall=t}forUser(t){return new pu(this.authCall,t)}forCurrentUser(){return new pu(this.authCall)}}class pu{constructor(t,e){this.authCall=t,this.userId=e,this.limit=100,this.offset=0,this.search=void 0}withLimit(t){return this.limit=t,this}withOffset(t){return this.offset=t,this}withParent(){throw new yr.tn("not supported")}withSearch(t){return this.search=t,this}query(){return this.queryWorker()}async queryWorker(){return ba.r.for((async({limit:t,offset:e})=>{const r=await this.authCall((async(r,{getPrincipal:n})=>{const i=this.userId||await In(n);return r.project.getProjectsWithPaging(i,e,t,this.search)})),{items:n,paging:{totalCount:i}}=r.userProjects;return{items:n.map((t=>{const e=(({userProject:t})=>{const e={description:t.projectDescription,title:t.projectTitle,id:t.links.self.match(/\/gdc\/projects\/(.+)/i)[1]};return t.demoProject&&(e.isDemo=!0),e})(t);return new fu(this.authCall,e.id,e)})),totalCount:i}}),this.limit,this.offset)}}class hu{constructor(t){this.authCall=t}async getSettings(){return this.authCall((async(t,{getPrincipal:e})=>{const r=await En(e);if(!r)return Go;const[n,i,o]=await Promise.all([t.user.getUserFeatureFlags(r),t.user.getCurrentProfile(),t.user.getUserRegionalNumberFormatting(r)]),{language:a}=i;return Object.assign(Object.assign(Object.assign({},$o),{userId:r,locale:a,separators:o}),n)}))}setLocale(t){throw new yr.tn("Backend does not support user locale setup")}}class yu{constructor(t){this.authCall=t}settings(){return new hu(this.authCall)}getUser(){return this.authCall((async t=>{const e=await t.user.getCurrentProfile();return kn(e)}))}}const mu=(t,e,r)=>{const n=e.filter((t=>!vr()(r,t.uri))).find((e=>e.identifier===t));return null==n?void 0:n.uri};var gu=r(73075),bu=r(16893);class vu{constructor(t,e){this.authCall=t,this.scope=e,this.isUrlValid=(t,e)=>this.authCall((async r=>r.xhr.postParsed("/gdc/securitySettings/validate",{body:{validationRequest:{type:e,value:t,scope:this.scope}}}).then((({validationResponse:t})=>t.valid)))),this.isDashboardPluginUrlValid=async(t,e)=>{var r;const n=(0,bu.q)(t);if(n)return console.warn("Dashboard plugin URL is not valid: ",n),!1;const i=await this.authCall((async t=>t.project.getConfigItem(e,"dashboardPluginHosts")));return function(t,e){return!(!e||o()(e)||"string"!=typeof e)&&e.split(";").map((t=>t.trim())).filter((t=>!o()(t))).some((e=>t.startsWith(e)))}(t,null===(r=null==i?void 0:i.settingItem)||void 0===r?void 0:r.value)}}}class wu{constructor(){this.defaultReject=t=>Promise.reject(new yr.tn(t)),this.defaultRejectTheme=()=>this.defaultReject("Backend does not support theming on organization level"),this.defaultRejectColorPalette=()=>this.defaultReject("Backend does not support color palette on organization level"),this.getThemes=()=>this.defaultRejectTheme(),this.getActiveTheme=()=>this.defaultRejectTheme(),this.setActiveTheme=()=>this.defaultRejectTheme(),this.clearActiveTheme=()=>this.defaultRejectTheme(),this.createTheme=t=>this.defaultRejectTheme(),this.updateTheme=t=>this.defaultRejectTheme(),this.deleteTheme=t=>this.defaultRejectTheme(),this.getColorPalettes=()=>this.defaultRejectColorPalette(),this.getActiveColorPalette=()=>this.defaultRejectColorPalette(),this.setActiveColorPalette=()=>this.defaultRejectColorPalette(),this.clearActiveColorPalette=()=>this.defaultRejectColorPalette(),this.createColorPalette=t=>this.defaultRejectColorPalette(),this.updateColorPalette=t=>this.defaultRejectColorPalette(),this.deleteColorPalette=t=>this.defaultRejectColorPalette()}}class Ou{constructor(t,e,r){this.authCall=t,this.organizationId=e,this.organizationName=r}async getDescriptor(){if(this.organizationName)return{id:this.organizationId,title:this.organizationName};const t=await this.authCall((t=>t.user.getAccountInfo()));return{id:this.organizationId,title:t.organizationName}}securitySettings(){const t=`/gdc/domains/${this.organizationId}`;return new vu(this.authCall,t)}styling(){return new wu}settings(){throw new yr.tn("Backend does not support organization settings service")}}class ju{constructor(t){this.authCall=t}async getCurrentOrganization(){const{organization:{id:t,name:e}}=await this.authCall((t=>t.organization.getCurrentOrganization()));return new Ou(this.authCall,t,e)}}class xu{async resolveEntitlements(){return Promise.resolve([{name:"PdfExports"}])}}const Pu={canCalculateGrandTotals:!0,canCalculateSubTotals:!0,canCalculateTotals:!0,canCalculateNativeTotals:!0,canExportCsv:!0,canExportXlsx:!0,canSortData:!0,canTransformExistingResult:!1,canWorkspaceManagerSeeEverySharedObject:!1,maxDimensions:2,supportsElementUris:!0,supportsObjectUris:!0,supportsCsvUploader:!0,supportsLegacyReports:!0,supportsRankingFilter:!0,supportsRankingFilterWithMeasureValueFilter:!0,supportsElementsQueryParentFiltering:!0,supportsKpiWidget:!0,supportsWidgetEntity:!0,supportsHyperlinkAttributeLabels:!0,supportsGenericDateAttributeElements:!0,supportsExplain:!1,supportsAccessControl:!0,usesStrictAccessControl:!1,supportsOwners:!0,allowsInconsistentRelations:!1,supportsTimeGranularities:!1,supportsHierarchicalWorkspaces:!1,supportsCustomColorPalettes:!0,supportsOrganizationSettings:!1,supportsInlineMeasures:!1,supportsBootstrapResource:!0,supportsMetadataObjectLocking:!0,supportsGranularAccessControl:!1,supportsEveryoneUserGroupForAccessControl:!0,supportsNonProductionDatasets:!0,supportsShowAllAttributeValues:!1,supportsSeparateLatitudeLongitudeLabels:!1,supportsEnumeratingDatetimeAttributes:!0};class _u{constructor(t,e,r,n){var i,a;if(this.capabilities=Pu,this.isAuthenticated=async()=>{try{return await this.authProvider.getCurrentPrincipal({client:this.sdk,backend:this})}catch(t){if(Su(t))return null;throw t}},this.authenticate=t=>t?this.triggerAuthentication(!0):this.authApiCall((async t=>{const e=await this.authProvider.getCurrentPrincipal({client:t,backend:this});return(0,W.kG)(e,"Principal must be defined"),e})),this.authApiCall=async(t,e=Sr)=>{try{return await t(this.sdk,await this.getAsyncCallContext())}catch(r){if((0,W.kG)(gr()(r)),!Su(r))throw this.handleNotAuthenticated(e(r));try{return await this.triggerAuthentication(),await t(this.sdk,await this.getAsyncCallContext())}catch(t){throw(0,W.kG)(gr()(t)),this.handleNotAuthenticated(e(t))}}},this.getAuthenticationContext=()=>({client:this.sdk,backend:this}),this.triggerAuthentication=async(t=!1)=>{if(!this.authProvider)throw new yr.$b("Backend is not set up with authentication provider.");t&&this.authProvider.reset();try{return await this.authProvider.authenticate(this.getAuthenticationContext())}catch(t){throw(0,W.kG)(gr()(t)),this.handleNotAuthenticated(Sr(t))}},this.handleNotAuthenticated=t=>{var e,r;return(0,yr.wO)(t)&&(null===(r=(e=this.authProvider).onNotAuthenticated)||void 0===r||r.call(e,{client:this.sdk,backend:this},t)),t},this.getAsyncCallContext=async()=>({getPrincipal:async()=>{if(!this.authProvider)throw new yr.$b("Cannot obtain principal without an authProvider.");const t=await this.authProvider.getCurrentPrincipal({client:this.sdk,backend:this});return null!=t?t:this.authProvider.authenticate(this.getAuthenticationContext())}}),this.config=function(t){return null!=t?t:{}}(t),this.implConfig=function(t){return null!=t?t:{}}(e),this.telemetry=function(t){return null!=t?t:{}}(r),this.authProvider=n||new gu.v7,this.sdk=function(t,e,r){const n=e.factory?e.factory():hr();return t.hostname&&n.config.setCustomDomain(t.hostname),e.packageName&&e.packageVersion?n.config.setJsPackage(e.packageName,e.packageVersion):n.config.setJsPackage("@gooddata/sdk-backend-bear","0.0.0-dev.0"),r.componentName&&(n.config.setRequestHeader("X-GDC-JS-SDK-COMP",r.componentName),r.props&&!o()(r.props)&&n.config.setRequestHeader("X-GDC-JS-SDK-COMP-PROPS",r.props.join(","))),n}(this.config,this.implConfig,this.telemetry),this.implConfig.ajaxSettings&&this.sdk.xhr.ajaxSetup(this.implConfig.ajaxSettings),null===(a=(i=this.authProvider).initializeClient)||void 0===a||a.call(i,this.sdk),this.implConfig.onLegacyCallbacksReady){const t={openAsReport:(t,e)=>{const r=Fo(e);return this.authApiCall((e=>e.md.openVisualizationAsReport(t,{visualizationObject:r})))},getBootstrapResource:t=>this.authApiCall((e=>e.user.getBootstrapResource(t))),ajaxSetup:t=>{this.lastAjaxSetupSettings=t,this.sdk.xhr.ajaxSetup(t)},log:(t,e)=>this.sdk.xhr.post(t,{data:JSON.stringify({logMessages:e})}),updateProfileCurrentWorkspace:async(t,e)=>{var r,n;const i=null===(n=null===(r=e.links)||void 0===r?void 0:r.profile)||void 0===n?void 0:n.split("/").pop();(0,W.kG)(i,"Cannot obtain userId from IProfileSetting");const o=Object.assign(Object.assign({},e),{currentProjectUri:`/gdc/projects/${t}`});await this.authApiCall((t=>t.user.updateProfileSettings(i,{profileSetting:o})))},sanitizeDrillingActivationPostMessageData:(t,e)=>(async(t,e,r)=>{const{uris:n,identifiers:i,composedFrom:o}=e,a=ji()(n)?n:[],s=ji()(i)?i:[],u=(null==o?void 0:o.uris)&&ji()(o.uris)?o.uris:[],c=(null==o?void 0:o.identifiers)&&ji()(o.identifiers)?o.identifiers:[],l=Sn()([...s,...c]),f=l.length?await r(t,l):[];return{uris:Sn()([...a,...It()(s.map((t=>mu(t,f,a))))]),composedFrom:{uris:Sn()([...u,...It()(c.map((t=>mu(t,f,u))))])}}})(t,e,((t,e)=>this.authApiCall((r=>r.md.getUrisFromIdentifiers(t,e))))),getProjectDashboards:t=>this.authApiCall((e=>e.md.getProjectDashboards(t))),getUrisFromIdentifiers:(t,e)=>this.authApiCall((r=>r.md.getUrisFromIdentifiers(t,e))),getObjectsByUri:(t,e)=>this.authApiCall((r=>r.md.getObjects(t,e))),getVisualizationObject:(t,e)=>this.authApiCall((async r=>{const[n]=await r.md.getObjects(t,[e]);return n})),getUISettings:()=>this.sdk.xhr.get("/gdc/account/organization/settings").then((t=>t.getData())),isDomainAdmin:t=>this.authApiCall((e=>e.xhr.get(`${t}/config`).then((t=>!0)).catch((t=>!xr(t)||403!==t.response.status))))};this.implConfig.onLegacyCallbacksReady(t)}}onHostname(t){return new _u(Object.assign(Object.assign({},this.config),{hostname:t}),this.implConfig,this.telemetry)}withTelemetry(t,e){return new _u(this.config,Object.assign(Object.assign({},this.implConfig),{ajaxSettings:this.lastAjaxSetupSettings}),{componentName:t,props:Object.keys(e)},this.authProvider)}withAuthentication(t){const e=new gu.qL(t);return new _u(this.config,this.implConfig,this.telemetry,e)}deauthenticate(){if(!this.authProvider)throw new yr.$b("Backend is not set up with authentication provider.");return this.authProvider.deauthenticate(this.getAuthenticationContext())}organization(t){return new Ou(this.authApiCall,t)}organizations(){return new ju(this.authApiCall)}entitlements(){return new xu}currentUser(){return new yu(this.authApiCall)}workspace(t){return new fu(this.authApiCall,t)}workspaces(){return new du(this.authApiCall)}}function Su(t){return xr(t)&&401===t.response.status}class Du{async deauthenticate(t){const e=t.client;await e.user.logout()}async getCurrentPrincipal(t){return this.principal||await this.obtainCurrentPrincipal(t),this.principal||null}async obtainCurrentPrincipal(t){const e=t.client,r=await e.user.getCurrentProfile();this.principal={userId:r.login,userMeta:r}}}class ku extends Du{constructor(t){super(),this.notAuthenticatedHandler=t,this.onNotAuthenticated=(t,e)=>{var r;null===(r=this.notAuthenticatedHandler)||void 0===r||r.call(this,t,e)}}async authenticate(t){const e=t.client;if(!await e.user.isLoggedIn())throw new yr.$b("Please make sure the context is already authenticated when using ContextDeferredAuthProvider");return await this.obtainCurrentPrincipal(t),(0,W.kG)(this.principal,"Principal must be obtainable after login"),this.principal}}const Au=(t,e)=>function(t,e){return new _u(t,e)}(t,{...e,packageName:"@gooddata/sdk-ui-web-components",packageVersion:"workspace:*"}),Cu=t=>{window.location.href=`${t.backend.config.hostname}/account.html?lastUrl=${encodeURIComponent(window.location.href)}`},Tu=t=>{hr({domain:t.backend.config.hostname}).user.initiateSamlSso(window.location.href).catch((t=>{console.error("Failed to initialize Bear SAML SSO authentication.",t)}))}})();var i=n.ContextDeferredAuthProvider,o=n.default,a=n.redirectToBearAuthentication,s=n.redirectToBearSsoAuthentication;export{i as ContextDeferredAuthProvider,o as default,a as redirectToBearAuthentication,s as redirectToBearSsoAuthentication};
//# sourceMappingURL=bearBackend.js.map